import{a as _,j as e,r as s,u as k}from"./index-01VgbQhG.js";import{T as y,F as l,I as R,B as p,a as N,b as w,d as I}from"./Table-CvEpiXur.js";import{M as L}from"./index-CEBaaneA.js";import{M as z,r as A,a as F}from"./index-b28f2SJB.js";const V=a=>_.get(`/list-by-project?project=${a}`),b=()=>{const[a,i]=s.useState([]),[d,u]=s.useState([]),[g,o]=s.useState(!1),{project:f}=k(),[x,r]=s.useState(!1),[c]=l.useForm(),{Search:q}=R,m=async()=>{o(!0);const t=await V(f);console.log(t),i(t.data),u(t.data),o(!1)},h=[{title:"样本名称",dataIndex:"sample_name",key:"sample_name",ellipsis:!0},{title:"样本组成",dataIndex:"sample_composition",key:"sample_composition",ellipsis:!0},{title:"测序技术",dataIndex:"sequencing_technique",key:"sequencing_technique",ellipsis:!0},{title:"测序目标",dataIndex:"sequencing_target",key:"sequencing_target",ellipsis:!0},{title:"样本分组",dataIndex:"sample_group",key:"sample_group",ellipsis:!0},{title:"样本来源",dataIndex:"sample_source",key:"sample_source",ellipsis:!0},{title:"fastq1",dataIndex:"fastq1",key:"fastq1",ellipsis:!0},{title:"fastq2",dataIndex:"fastq2",key:"fastq2",ellipsis:!0},{title:"操作",key:"action",fixed:"right",width:200,render:(t,n)=>e.jsx(I,{size:"middle"})}],j=`
|project|library_name|sample_name|sequencing_target|sequencing_technique|sample_composition|fastq1                                                 |fastq2                                                     |
|-------|------------|-----------|-----------------|--------------------|------------------|-------------------------------------------------------|-----------------------------------------------------------|
|test   |R250506-21  |OL-RNA-1   |RNA              |NGS                 |single_genome     |/V350344603_L03_117_1.fq.gz                            |/V350344603_L03_117_2.fq.gz                                |
|test   |R250506-22  |OCF-RNA-1  |RNA              |NGS                 |single_genome     |/V350344603_L03_118_1.fq.gz                            |/V350344603_L03_118_2.fq.gz                                |
|test   |R250506-23  |OSP-RNA-1  |RNA              |NGS                 |single_genome     |/V350344603_L03_119_1.fq.gz                            |/V350344603_L03_119_2.fq.gz                                |

---
project,library_name,sample_name,sequencing_target,sequencing_technique,sample_composition,fastq1,fastq2

test,R250506-21,OL-RNA-1,RNA,NGS,single_genome,/V350344603_L03_117_1.fq.gz,/V350344603_L03_117_2.fq.gz

`;return s.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsx(q,{placeholder:"input search text",allowClear:!0,onSearch:t=>{const n=d.filter(S=>S.sample_name.includes(t));i(n)},style:{width:304}}),e.jsx(p,{onClick:m,children:"刷新"}),e.jsx(p,{onClick:()=>{r(!0)},children:"导入样本"}),e.jsx(N,{pagination:{pageSize:30},loading:g,scroll:{x:"max-content",y:55*5},columns:h,footer:()=>`一共${a.length}条记录`,dataSource:a}),e.jsxs(L,{open:x,title:"导入样本",width:"100%",onCancel:()=>r(!1),onOk:async()=>{const t=await c.validateFields(),n=await _.post("/fast-api/import_sample_form_str",t);console.log(n)},children:[e.jsx(l,{form:c,children:e.jsx(l.Item,{name:"content",children:e.jsx(w,{rows:10})})}),e.jsx(z,{children:j,remarkPlugins:[A,F]})]})]})},D=()=>e.jsx(e.Fragment,{children:e.jsx(y,{items:[{key:"sample",label:"样本信息",children:e.jsx(b,{})}]})});export{D as default,V as getSamples};
