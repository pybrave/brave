import{r,i as T,R as x,W as Ae,X as Le,Y as We,Z as re,z as L,A as ae,B as w,N as De,O as Ve,Q as He,T as A,S as _e,y as qe,v as G,$ as Qe,U as ce,D as Xe,C as Ze,V as Ue,a0 as Ge}from"./index-01VgbQhG.js";import{A as ie,e as D,p as Ye,B as ue,k as Je,u as V,l as fe,D as Ke,m as en,n as nn,f as tn,g as on,i as ln,h as sn,j as rn,w as an,P as cn}from"./Table-CvEpiXur.js";function un(){const[e,t]=r.useState([]),l=r.useCallback(n=>(t(o=>[].concat(T(o),[n])),()=>{t(o=>o.filter(a=>a!==n))}),[]);return[e,l]}const M=x.createContext({}),{Provider:de}=M,Y=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:a,close:u,onCancel:i,onConfirm:c}=r.useContext(M);return o?x.createElement(ie,{isSilent:n,actionFn:i,close:function(){u==null||u.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},l):null},J=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:a,okType:u,onConfirm:i,onOk:c}=r.useContext(M);return x.createElement(ie,{isSilent:l,type:u||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),i==null||i(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},a)};function K(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function ee(e){const{closable:t,closeIcon:l}=e||{};return x.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}function ne(){const e={};for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return l.forEach(o=>{o&&Object.keys(o).forEach(a=>{o[a]!==void 0&&(e[a]=o[a])})}),e}const fn={};function dn(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fn;const n=ee(e),o=ee(t),a=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,u=x.useMemo(()=>Object.assign({closeIcon:x.createElement(D,null)},l),[l]),i=x.useMemo(()=>n===!1?!1:n?ne(u,o,n):o===!1?!1:o?ne(u,o):u.closable?u:!1,[n,o,u]);return x.useMemo(()=>{if(i===!1)return[!1,null,a];const{closeIconRender:c}=u,{closeIcon:C}=i;let s=C;if(s!=null){c&&(s=c(C));const f=Ye(i,!0);Object.keys(f).length&&(s=x.isValidElement(s)?x.cloneElement(s,f):x.createElement("span",Object.assign({},f),s))}return[!0,s,a]},[i,u])}const mn=()=>Ae()&&window.document.documentElement;function te(){}const Cn=r.createContext({add:te,remove:te});function gn(e){const t=r.useContext(Cn),l=r.useRef(null);return Le(o=>{if(o){const a=e?o.querySelector(e):o;t.add(a),l.current=a}else t.remove(l.current)})}const oe=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=r.useContext(M);return x.createElement(ue,Object.assign({onClick:l},e),t)},le=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=r.useContext(M);return x.createElement(ue,Object.assign({},Je(l),{loading:e,onClick:o},t),n)};function me(e,t){return x.createElement("span",{className:`${e}-close-x`},t||x.createElement(D,{className:`${e}-close-icon`}))}const Ce=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:a,onCancel:u,okButtonProps:i,cancelButtonProps:c,footer:C}=e,[s]=V("Modal",re()),f=t||(s==null?void 0:s.okText),d=n||(s==null?void 0:s.cancelText),g={confirmLoading:o,okButtonProps:i,cancelButtonProps:c,okTextLocale:f,cancelTextLocale:d,okType:l,onOk:a,onCancel:u},y=x.useMemo(()=>g,T(Object.values(g)));let m;return typeof C=="function"||typeof C>"u"?(m=x.createElement(x.Fragment,null,x.createElement(oe,null),x.createElement(le,null)),typeof C=="function"&&(m=C(m,{OkBtn:le,CancelBtn:oe})),m=x.createElement(de,{value:y},m)):m=C,x.createElement(We,{disabled:!1},m)};var bn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let W;const vn=e=>{W={x:e.pageX,y:e.pageY},setTimeout(()=>{W=null},100)};mn()&&document.documentElement.addEventListener("click",vn,!0);const ge=e=>{const{prefixCls:t,className:l,rootClassName:n,open:o,wrapClassName:a,centered:u,getContainer:i,focusTriggerAfterClose:c=!0,style:C,visible:s,width:f=520,footer:d,classNames:g,styles:y,children:m,loading:b,confirmLoading:v,zIndex:p,mousePosition:h,onOk:E,onCancel:P}=e,k=bn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel"]),{getPopupContainer:R,getPrefixCls:S,direction:je,modal:O}=r.useContext(L),H=I=>{v||P==null||P(I)},Ie=I=>{E==null||E(I)},$=S("modal",t),_=S(),q=ae($),[we,Q,Te]=fe($,q),Ne=w(a,{[`${$}-centered`]:u??(O==null?void 0:O.centered),[`${$}-wrap-rtl`]:je==="rtl"}),Se=d!==null&&!b?r.createElement(Ce,Object.assign({},e,{onOk:Ie,onCancel:H})):null,[X,Z,ke]=dn(K(e),K(O),{closable:!0,closeIcon:r.createElement(D,{className:`${$}-close-icon`}),closeIconRender:I=>me($,I)}),Me=gn(`.${$}-content`),[Fe,Re]=De("Modal",p),[Be,B]=r.useMemo(()=>f&&typeof f=="object"?[void 0,f]:[f,void 0],[f]),ze=r.useMemo(()=>{const I={};return B&&Object.keys(B).forEach(U=>{const z=B[U];z!==void 0&&(I[`--${$}-${U}-width`]=typeof z=="number"?`${z}px`:z)}),I},[B]);return we(r.createElement(Ve,{form:!0,space:!0},r.createElement(He.Provider,{value:Re},r.createElement(Ke,Object.assign({width:Be},k,{zIndex:Fe,getContainer:i===void 0?R:i,prefixCls:$,rootClassName:w(Q,n,Te,q),footer:Se,visible:o??s,mousePosition:h??W,onClose:H,closable:X&&{disabled:ke,closeIcon:Z},closeIcon:Z,focusTriggerAfterClose:c,transitionName:A(_,"zoom",e.transitionName),maskTransitionName:A(_,"fade",e.maskTransitionName),className:w(Q,l,O==null?void 0:O.className),style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),C),ze),classNames:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.classNames),g),{wrapper:w(Ne,g==null?void 0:g.wrapper)}),styles:Object.assign(Object.assign({},O==null?void 0:O.styles),y),panelRef:Me}),b?r.createElement(_e,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):m))))},pn=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:u,modalTitleHeight:i,fontHeight:c,confirmBodyPadding:C}=e,s=`${t}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},Qe()),[`&${t} ${t}-body`]:{padding:C},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${G(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${G(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${s}-content`]:{color:e.colorText,fontSize:a,lineHeight:u},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},xn=qe(["Modal","confirm"],e=>{const t=en(e);return[pn(t)]},nn,{order:-1e3});var yn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};function be(e){const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:a,type:u,okCancel:i,footer:c,locale:C}=e,s=yn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=l;if(!l&&l!==null)switch(u){case"info":f=r.createElement(sn,null);break;case"success":f=r.createElement(ln,null);break;case"error":f=r.createElement(on,null);break;default:f=r.createElement(tn,null)}const d=i??u==="confirm",g=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=V("Modal"),m=C||y,b=n||(d?m==null?void 0:m.okText:m==null?void 0:m.justOkText),v=o||(m==null?void 0:m.cancelText),p=Object.assign({autoFocusButton:g,cancelTextLocale:v,okTextLocale:b,mergedOkCancel:d},s),h=r.useMemo(()=>p,T(Object.values(p))),E=r.createElement(r.Fragment,null,r.createElement(Y,null),r.createElement(J,null)),P=e.title!==void 0&&e.title!==null,k=`${a}-body`;return r.createElement("div",{className:`${a}-body-wrapper`},r.createElement("div",{className:w(k,{[`${k}-has-title`]:P})},f,r.createElement("div",{className:`${a}-paragraph`},P&&r.createElement("span",{className:`${a}-title`},e.title),r.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?r.createElement(de,{value:h},r.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(E,{OkBtn:J,CancelBtn:Y}):E)):c,r.createElement(xn,{prefixCls:t}))}const On=e=>{const{close:t,zIndex:l,maskStyle:n,direction:o,prefixCls:a,wrapClassName:u,rootPrefixCls:i,bodyStyle:c,closable:C=!1,onConfirm:s,styles:f}=e,d=`${a}-confirm`,g=e.width||416,y=e.style||{},m=e.mask===void 0?!0:e.mask,b=e.maskClosable===void 0?!1:e.maskClosable,v=w(d,`${d}-${e.type}`,{[`${d}-rtl`]:o==="rtl"},e.className),[,p]=Xe(),h=r.useMemo(()=>l!==void 0?l:p.zIndexPopupBase+Ze,[l,p]);return r.createElement(ge,Object.assign({},e,{className:v,wrapClassName:w({[`${d}-centered`]:!!e.centered},u),onCancel:()=>{t==null||t({triggerCancel:!0}),s==null||s(!1)},title:"",footer:null,transitionName:A(i||"","zoom",e.transitionName),maskTransitionName:A(i||"","fade",e.maskTransitionName),mask:m,maskClosable:b,style:y,styles:Object.assign({body:c,mask:n},f),width:g,zIndex:h,closable:C}),r.createElement(be,Object.assign({},e,{confirmPrefixCls:d})))},ve=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return r.createElement(ce,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},r.createElement(On,Object.assign({},e)))},N=[];let pe="";function xe(){return pe}const hn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:a}=e,u=re(),i=r.useContext(L),c=xe()||i.getPrefixCls(),C=n||`${c}-modal`;let s=o;return s===!1&&(s=void 0),x.createElement(ve,Object.assign({},e,{rootPrefixCls:c,prefixCls:C,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:a??i.direction,locale:(l=(t=i.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:u,getContainer:s}))};function F(e){const t=Ue(),l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:c,open:!0}),o,a;function u(){for(var s,f=arguments.length,d=new Array(f),g=0;g<f;g++)d[g]=arguments[g];if(d.some(b=>b==null?void 0:b.triggerCancel)){var m;(s=e.onCancel)===null||s===void 0||(m=s).call.apply(m,[e,()=>{}].concat(T(d.slice(1))))}for(let b=0;b<N.length;b++)if(N[b]===c){N.splice(b,1);break}a()}function i(s){clearTimeout(o),o=setTimeout(()=>{const f=t.getPrefixCls(void 0,xe()),d=t.getIconPrefixCls(),g=t.getTheme(),y=x.createElement(hn,Object.assign({},s));a=rn()(x.createElement(ce,{prefixCls:f,iconPrefixCls:d,theme:g},t.holderRender?t.holderRender(y):y),l)})}function c(){for(var s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),u.apply(this,f)}}),n.visible&&delete n.visible,i(n)}function C(s){typeof s=="function"?n=s(n):n=Object.assign(Object.assign({},n),s),i(n)}return i(n),N.push(c),{destroy:c,update:C}}function ye(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"info"})}function he(e){return Object.assign(Object.assign({},e),{type:"success"})}function Pe(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ee(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Pn(e){let{rootPrefixCls:t}=e;pe=t}var En=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const $n=(e,t)=>{var l,{afterClose:n,config:o}=e,a=En(e,["afterClose","config"]);const[u,i]=r.useState(!0),[c,C]=r.useState(o),{direction:s,getPrefixCls:f}=r.useContext(L),d=f("modal"),g=f(),y=()=>{var p;n(),(p=c.afterClose)===null||p===void 0||p.call(c)},m=function(){var p;i(!1);for(var h=arguments.length,E=new Array(h),P=0;P<h;P++)E[P]=arguments[P];if(E.some(S=>S==null?void 0:S.triggerCancel)){var R;(p=c.onCancel)===null||p===void 0||(R=p).call.apply(R,[c,()=>{}].concat(T(E.slice(1))))}};r.useImperativeHandle(t,()=>({destroy:m,update:p=>{C(h=>Object.assign(Object.assign({},h),p))}}));const b=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[v]=V("Modal",Ge.Modal);return r.createElement(ve,Object.assign({prefixCls:d,rootPrefixCls:g},c,{close:m,open:u,afterClose:y,okText:c.okText||(b?v==null?void 0:v.okText:v==null?void 0:v.justOkText),direction:c.direction||s,cancelText:c.cancelText||(v==null?void 0:v.cancelText)},a))},jn=r.forwardRef($n);let se=0;const In=r.memo(r.forwardRef((e,t)=>{const[l,n]=un();return r.useImperativeHandle(t,()=>({patchElement:n}),[]),r.createElement(r.Fragment,null,l)}));function wn(){const e=r.useRef(null),[t,l]=r.useState([]);r.useEffect(()=>{t.length&&(T(t).forEach(u=>{u()}),l([]))},[t]);const n=r.useCallback(a=>function(i){var c;se+=1;const C=r.createRef();let s;const f=new Promise(b=>{s=b});let d=!1,g;const y=r.createElement(jn,{key:`modal-${se}`,config:a(i),ref:C,afterClose:()=>{g==null||g()},isSilent:()=>d,onConfirm:b=>{s(b)}});return g=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),g&&N.push(g),{destroy:()=>{function b(){var v;(v=C.current)===null||v===void 0||v.destroy()}C.current?b():l(v=>[].concat(T(v),[b]))},update:b=>{function v(){var p;(p=C.current)===null||p===void 0||p.update(b)}C.current?v():l(p=>[].concat(T(p),[v]))},then:b=>(d=!0,f.then(b))}},[]);return[r.useMemo(()=>({info:n(Oe),success:n(he),error:n(Pe),warning:n(ye),confirm:n(Ee)}),[]),r.createElement(In,{key:"modal-holder",ref:e})]}var Tn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Nn=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:a,title:u,children:i,footer:c}=e,C=Tn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=r.useContext(L),f=s(),d=t||s("modal"),g=ae(f),[y,m,b]=fe(d,g),v=`${d}-confirm`;let p={};return a?p={closable:o??!1,title:"",footer:"",children:r.createElement(be,Object.assign({},e,{prefixCls:d,confirmPrefixCls:v,rootPrefixCls:f,content:i}))}:p={closable:o??!0,title:u,footer:c!==null&&r.createElement(Ce,Object.assign({},e)),children:i},y(r.createElement(cn,Object.assign({prefixCls:d,className:w(m,`${d}-pure-panel`,a&&v,a&&`${v}-${a}`,l,b,g)},C,{closeIcon:me(d,n),closable:o},p)))},Sn=an(Nn);function $e(e){return F(ye(e))}const j=ge;j.useModal=wn;j.info=function(t){return F(Oe(t))};j.success=function(t){return F(he(t))};j.error=function(t){return F(Pe(t))};j.warning=$e;j.warn=$e;j.confirm=function(t){return F(Ee(t))};j.destroyAll=function(){for(;N.length;){const t=N.pop();t&&t()}};j.config=Pn;j._InternalPanelDoNotUseOrYouWillBeFired=Sn;export{j as M,gn as a,K as p,dn as u};
