import{r as c,af as ee,f as y,Y as U,ag as Oe,ae as me,O as Ae,a_ as Xt,a$ as Yt,aJ as et,b0 as Kt,b1 as ut,b2 as Nn,_ as Ze,b3 as Ut,b4 as Bn,b5 as ke,b6 as Ct,b7 as st,b8 as An,b9 as mt,e as Ke,ai as Jt,ba as ie,q as _n,bb as vt,W as Ee,am as Tn,U as Ln,av as Nt,t as zn,aU as Gn,Q as at,a5 as Qt,a6 as Zt,a7 as Wn,a8 as z,ap as Bt,aM as qn,aI as en,bc as tn,bd as Be,be as ct,bf as Vn,aT as Xn,aK as nn,a4 as Yn,bg as Kn,a3 as Un,bh as Jn,bi as Qn,aN as Zn,bj as er,bk as tr,p as nr,bl as rr,bm as ar,k as or,j as E,d as T,F as bt,I as St,T as lr,B as rn,a as sr}from"./main-Cq64AMgN.js";import{S as ir}from"./index-D9Ce2rPi.js";import{T as an}from"./index-D_LHLpHX.js";import{S as cr}from"./index-DU9NA8Xs.js";function ur(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function on(e){var t=e.targetRef,n=e.containerRef,r=e.direction,a=e.onDragChange,o=e.onDragChangeComplete,l=e.calculate,s=e.color,i=e.disabledDrag,u=c.useState({x:0,y:0}),d=ee(u,2),m=d[0],x=d[1],h=c.useRef(null),b=c.useRef(null);c.useEffect(function(){x(l())},[s]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",b.current),h.current=null,b.current=null}},[]);var f=function(S){var $=ur(S),O=$.pageX,D=$.pageY,k=n.current.getBoundingClientRect(),F=k.x,M=k.y,P=k.width,j=k.height,L=t.current.getBoundingClientRect(),w=L.width,N=L.height,A=w/2,B=N/2,X=Math.max(0,Math.min(O-F,P))-A,I=Math.max(0,Math.min(D-M,j))-B,Z={x:X,y:r==="x"?m.y:I};if(w===0&&N===0||w!==N)return!1;a==null||a(Z)},g=function(S){S.preventDefault(),f(S)},p=function(S){S.preventDefault(),document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",b.current),h.current=null,b.current=null,o==null||o()},v=function(S){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",b.current),!i&&(f(S),document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p),h.current=g,b.current=p)};return[m,v]}var ln=function(t){var n=t.size,r=n===void 0?"default":n,a=t.color,o=t.prefixCls;return y.createElement("div",{className:U("".concat(o,"-handler"),Oe({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:a}})},sn=function(t){var n=t.children,r=t.style,a=t.prefixCls;return y.createElement("div",{className:"".concat(a,"-palette"),style:me({position:"relative"},r)},n)},cn=c.forwardRef(function(e,t){var n=e.children,r=e.x,a=e.y;return y.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),dr=function(t){var n=t.color,r=t.onChange,a=t.prefixCls,o=t.onChangeComplete,l=t.disabled,s=c.useRef(),i=c.useRef(),u=c.useRef(n),d=Ae(function(f){var g=Xt({offset:f,targetRef:i,containerRef:s,color:n});u.current=g,r(g)}),m=on({color:n,containerRef:s,targetRef:i,calculate:function(){return Yt(n)},onDragChange:d,onDragChangeComplete:function(){return o==null?void 0:o(u.current)},disabledDrag:l}),x=ee(m,2),h=x[0],b=x[1];return y.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:b,onTouchStart:b},y.createElement(sn,{prefixCls:a},y.createElement(cn,{x:h.x,y:h.y,ref:i},y.createElement(ln,{color:n.toRgbString(),prefixCls:a})),y.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},gr=function(t,n){var r=et(t,{value:n}),a=ee(r,2),o=a[0],l=a[1],s=c.useMemo(function(){return Kt(o)},[o]);return[s,l]},mr=function(t){var n=t.colors,r=t.children,a=t.direction,o=a===void 0?"to right":a,l=t.type,s=t.prefixCls,i=c.useMemo(function(){return n.map(function(u,d){var m=Kt(u);return l==="alpha"&&d===n.length-1&&(m=new ut(m.setA(1))),m.toRgbString()}).join(",")},[n,l]);return y.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(i,")")}},r)},fr=function(t){var n=t.prefixCls,r=t.colors,a=t.disabled,o=t.onChange,l=t.onChangeComplete,s=t.color,i=t.type,u=c.useRef(),d=c.useRef(),m=c.useRef(s),x=function($){return i==="hue"?$.getHue():$.a*100},h=Ae(function(S){var $=Xt({offset:S,targetRef:d,containerRef:u,color:s,type:i});m.current=$,o(x($))}),b=on({color:s,targetRef:d,containerRef:u,calculate:function(){return Yt(s,i)},onDragChange:h,onDragChangeComplete:function(){l(x(m.current))},direction:"x",disabledDrag:a}),f=ee(b,2),g=f[0],p=f[1],v=y.useMemo(function(){if(i==="hue"){var S=s.toHsb();S.s=1,S.b=1,S.a=1;var $=new ut(S);return $}return s},[s,i]),C=y.useMemo(function(){return r.map(function(S){return"".concat(S.color," ").concat(S.percent,"%")})},[r]);return y.createElement("div",{ref:u,className:U("".concat(n,"-slider"),"".concat(n,"-slider-").concat(i)),onMouseDown:p,onTouchStart:p},y.createElement(sn,{prefixCls:n},y.createElement(cn,{x:g.x,y:g.y,ref:d},y.createElement(ln,{size:"small",color:v.toHexString(),prefixCls:n})),y.createElement(mr,{colors:C,type:i,prefixCls:n})))};function vr(e){return c.useMemo(function(){var t=e||{},n=t.slider;return[n||fr]},[e])}var hr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],pr=c.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,a=e.prefixCls,o=a===void 0?Nn:a,l=e.onChange,s=e.onChangeComplete,i=e.className,u=e.style,d=e.panelRender,m=e.disabledAlpha,x=m===void 0?!1:m,h=e.disabled,b=h===void 0?!1:h,f=e.components,g=vr(f),p=ee(g,1),v=p[0],C=gr(r||Bn,n),S=ee(C,2),$=S[0],O=S[1],D=c.useMemo(function(){return $.setA(1).toRgbString()},[$]),k=function(I,Z){n||O(I),l==null||l(I,Z)},F=function(I){return new ut($.setHue(I))},M=function(I){return new ut($.setA(I/100))},P=function(I){k(F(I),{type:"hue",value:I})},j=function(I){k(M(I),{type:"alpha",value:I})},L=function(I){s&&s(F(I))},w=function(I){s&&s(M(I))},N=U("".concat(o,"-panel"),i,Oe({},"".concat(o,"-panel-disabled"),b)),A={prefixCls:o,disabled:b,color:$},B=y.createElement(y.Fragment,null,y.createElement(dr,Ze({onChange:k},A,{onChangeComplete:s})),y.createElement("div",{className:"".concat(o,"-slider-container")},y.createElement("div",{className:U("".concat(o,"-slider-group"),Oe({},"".concat(o,"-slider-group-disabled-alpha"),x))},y.createElement(v,Ze({},A,{type:"hue",colors:hr,min:0,max:359,value:$.getHue(),onChange:P,onChangeComplete:L})),!x&&y.createElement(v,Ze({},A,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:D}],min:0,max:100,value:$.a*100,onChange:j,onChangeComplete:w}))),y.createElement(Ut,{color:$.toRgbString(),prefixCls:o})));return y.createElement("div",{className:N,style:u,ref:t},typeof d=="function"?d(B):B)});const un=y.createContext({}),dn=y.createContext({}),gn=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=()=>{if(r&&n&&!n.cleared){const o=n.toHsb();o.a=0;const l=ke(o);l.cleared=!0,r(l)}};return y.createElement("div",{className:`${t}-clear`,onClick:a})},mn="hex",fn="rgb",vn="hsb",Ye=e=>{let{prefixCls:t,min:n=0,max:r=100,value:a,onChange:o,className:l,formatter:s}=e;const i=`${t}-steppers`,[u,d]=c.useState(a);return c.useEffect(()=>{Number.isNaN(a)||d(a)},[a]),y.createElement(an,{className:U(i,l),min:n,max:r,value:u,formatter:s,size:"small",onChange:m=>{a||d(m||0),o==null||o(m)}})},Cr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-alpha-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=i=>{const u=o.toHsb();u.a=(i||0)/100;const d=ke(u);n||l(d),r==null||r(d)};return y.createElement(Ye,{value:Ct(o),prefixCls:t,formatter:i=>`${i}%`,className:a,onChange:s})},br=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Sr=e=>br.test(`#${e}`),xr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hex-input`,[o,l]=c.useState(()=>n?st(n.toHexString()):void 0);c.useEffect(()=>{n&&l(st(n.toHexString()))},[n]);const s=i=>{const u=i.target.value;l(st(u)),Sr(st(u,!0))&&(r==null||r(ke(u)))};return y.createElement(An,{className:a,value:o,prefix:"#",onChange:s,size:"small"})},yr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hsb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toHsb();d[u]=u==="h"?i:(i||0)/100;const m=ke(d);n||l(m),r==null||r(m)};return y.createElement("div",{className:a},y.createElement(Ye,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:t,className:a,formatter:i=>mt(i||0).toString(),onChange:i=>s(Number(i),"h")}),y.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"s")}),y.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"b")}))},$r=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-rgb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toRgb();d[u]=i||0;const m=ke(d);n||l(m),r==null||r(m)};return y.createElement("div",{className:a},y.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:t,className:a,onChange:i=>s(Number(i),"r")}),y.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:t,className:a,onChange:i=>s(Number(i),"g")}),y.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:t,className:a,onChange:i=>s(Number(i),"b")}))},Er=[mn,vn,fn].map(e=>({value:e,label:e.toUpperCase()})),Or=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:a,onFormatChange:o,onChange:l,disabledFormat:s}=e,[i,u]=et(mn,{value:n,onChange:o}),d=`${t}-input`,m=h=>{u(h)},x=c.useMemo(()=>{const h={value:r,prefixCls:t,onChange:l};switch(i){case vn:return y.createElement(yr,Object.assign({},h));case fn:return y.createElement($r,Object.assign({},h));default:return y.createElement(xr,Object.assign({},h))}},[i,t,r,l]);return y.createElement("div",{className:`${d}-container`},!s&&y.createElement(Ke,{value:i,variant:"borderless",getPopupContainer:h=>h,popupMatchSelectWidth:68,placement:"bottomRight",onChange:m,className:`${t}-format-select`,size:"small",options:Er}),y.createElement("div",{className:d},x),!a&&y.createElement(Cr,{prefixCls:t,value:r,onChange:l}))};function ht(e,t,n){return(e-t)/(n-t)}function xt(e,t,n,r){var a=ht(t,n,r),o={};switch(e){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(e,t){return Array.isArray(e)?e[t]:e}var Ue=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),hn=c.createContext({}),Pr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],At=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,a=e.valueIndex,o=e.onStartMove,l=e.onDelete,s=e.style,i=e.render,u=e.dragging,d=e.draggingDelete,m=e.onOffsetChange,x=e.onChangeComplete,h=e.onFocus,b=e.onMouseEnter,f=Jt(e,Pr),g=c.useContext(Ue),p=g.min,v=g.max,C=g.direction,S=g.disabled,$=g.keyboard,O=g.range,D=g.tabIndex,k=g.ariaLabelForHandle,F=g.ariaLabelledByForHandle,M=g.ariaRequired,P=g.ariaValueTextFormatterForHandle,j=g.styles,L=g.classNames,w="".concat(n,"-handle"),N=function(W){S||o(W,a)},A=function(W){h==null||h(W,a)},B=function(W){b(W,a)},X=function(W){if(!S&&$){var H=null;switch(W.which||W.keyCode){case ie.LEFT:H=C==="ltr"||C==="btt"?-1:1;break;case ie.RIGHT:H=C==="ltr"||C==="btt"?1:-1;break;case ie.UP:H=C!=="ttb"?1:-1;break;case ie.DOWN:H=C!=="ttb"?-1:1;break;case ie.HOME:H="min";break;case ie.END:H="max";break;case ie.PAGE_UP:H=2;break;case ie.PAGE_DOWN:H=-2;break;case ie.BACKSPACE:case ie.DELETE:l(a);break}H!==null&&(W.preventDefault(),m(H,a))}},I=function(W){switch(W.which||W.keyCode){case ie.LEFT:case ie.RIGHT:case ie.UP:case ie.DOWN:case ie.HOME:case ie.END:case ie.PAGE_UP:case ie.PAGE_DOWN:x==null||x();break}},Z=xt(C,r,p,v),ce={};if(a!==null){var te;ce={tabIndex:S?null:Xe(D,a),role:"slider","aria-valuemin":p,"aria-valuemax":v,"aria-valuenow":r,"aria-disabled":S,"aria-label":Xe(k,a),"aria-labelledby":Xe(F,a),"aria-required":Xe(M,a),"aria-valuetext":(te=Xe(P,a))===null||te===void 0?void 0:te(r),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:N,onTouchStart:N,onFocus:A,onMouseEnter:B,onKeyDown:X,onKeyUp:I}}var we=c.createElement("div",Ze({ref:t,className:U(w,Oe(Oe(Oe({},"".concat(w,"-").concat(a+1),a!==null&&O),"".concat(w,"-dragging"),u),"".concat(w,"-dragging-delete"),d),L.handle),style:me(me(me({},Z),s),j.handle)},ce,f));return i&&(we=i(we,{index:a,prefixCls:n,value:r,dragging:u,draggingDelete:d})),we}),Rr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],jr=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,l=e.values,s=e.handleRender,i=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,m=e.onFocus,x=Jt(e,Rr),h=c.useRef({}),b=c.useState(!1),f=ee(b,2),g=f[0],p=f[1],v=c.useState(-1),C=ee(v,2),S=C[0],$=C[1],O=function(P){$(P),p(!0)},D=function(P,j){O(j),m==null||m(P)},k=function(P,j){O(j)};c.useImperativeHandle(t,function(){return{focus:function(P){var j;(j=h.current[P])===null||j===void 0||j.focus()},hideHelp:function(){_n.flushSync(function(){p(!1)})}}});var F=me({prefixCls:n,onStartMove:a,onOffsetChange:o,render:s,onFocus:D,onMouseEnter:k},x);return c.createElement(c.Fragment,null,l.map(function(M,P){var j=u===P;return c.createElement(At,Ze({ref:function(w){w?h.current[P]=w:delete h.current[P]},dragging:j,draggingDelete:j&&d,style:Xe(r,P),key:P,value:M,valueIndex:P},F))}),i&&g&&c.createElement(At,Ze({key:"a11y"},F,{value:l[S],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),wr=function(t){var n=t.prefixCls,r=t.style,a=t.children,o=t.value,l=t.onClick,s=c.useContext(Ue),i=s.min,u=s.max,d=s.direction,m=s.includedStart,x=s.includedEnd,h=s.included,b="".concat(n,"-text"),f=xt(d,o,i,u);return c.createElement("span",{className:U(b,Oe({},"".concat(b,"-active"),h&&m<=o&&o<=x)),style:me(me({},f),r),onMouseDown:function(p){p.stopPropagation()},onClick:function(){l(o)}},a)},Mr=function(t){var n=t.prefixCls,r=t.marks,a=t.onClick,o="".concat(n,"-mark");return r.length?c.createElement("div",{className:o},r.map(function(l){var s=l.value,i=l.style,u=l.label;return c.createElement(wr,{key:s,prefixCls:o,style:i,value:s,onClick:a},u)})):null},Dr=function(t){var n=t.prefixCls,r=t.value,a=t.style,o=t.activeStyle,l=c.useContext(Ue),s=l.min,i=l.max,u=l.direction,d=l.included,m=l.includedStart,x=l.includedEnd,h="".concat(n,"-dot"),b=d&&m<=r&&r<=x,f=me(me({},xt(u,r,s,i)),typeof a=="function"?a(r):a);return b&&(f=me(me({},f),typeof o=="function"?o(r):o)),c.createElement("span",{className:U(h,Oe({},"".concat(h,"-active"),b)),style:f})},kr=function(t){var n=t.prefixCls,r=t.marks,a=t.dots,o=t.style,l=t.activeStyle,s=c.useContext(Ue),i=s.min,u=s.max,d=s.step,m=c.useMemo(function(){var x=new Set;if(r.forEach(function(b){x.add(b.value)}),a&&d!==null)for(var h=i;h<=u;)x.add(h),h+=d;return Array.from(x)},[i,u,d,a,r]);return c.createElement("div",{className:"".concat(n,"-step")},m.map(function(x){return c.createElement(Dr,{prefixCls:n,key:x,value:x,style:o,activeStyle:l})}))},_t=function(t){var n=t.prefixCls,r=t.style,a=t.start,o=t.end,l=t.index,s=t.onStartMove,i=t.replaceCls,u=c.useContext(Ue),d=u.direction,m=u.min,x=u.max,h=u.disabled,b=u.range,f=u.classNames,g="".concat(n,"-track"),p=ht(a,m,x),v=ht(o,m,x),C=function(D){!h&&s&&s(D,-1)},S={};switch(d){case"rtl":S.right="".concat(p*100,"%"),S.width="".concat(v*100-p*100,"%");break;case"btt":S.bottom="".concat(p*100,"%"),S.height="".concat(v*100-p*100,"%");break;case"ttb":S.top="".concat(p*100,"%"),S.height="".concat(v*100-p*100,"%");break;default:S.left="".concat(p*100,"%"),S.width="".concat(v*100-p*100,"%")}var $=i||U(g,Oe(Oe({},"".concat(g,"-").concat(l+1),l!==null&&b),"".concat(n,"-track-draggable"),s),f.track);return c.createElement("div",{className:$,style:me(me({},S),r),onMouseDown:C,onTouchStart:C})},Ir=function(t){var n=t.prefixCls,r=t.style,a=t.values,o=t.startPoint,l=t.onStartMove,s=c.useContext(Ue),i=s.included,u=s.range,d=s.min,m=s.styles,x=s.classNames,h=c.useMemo(function(){if(!u){if(a.length===0)return[];var f=o??d,g=a[0];return[{start:Math.min(f,g),end:Math.max(f,g)}]}for(var p=[],v=0;v<a.length-1;v+=1)p.push({start:a[v],end:a[v+1]});return p},[a,u,o,d]);if(!i)return null;var b=h!=null&&h.length&&(x.tracks||m.tracks)?c.createElement(_t,{index:null,prefixCls:n,start:h[0].start,end:h[h.length-1].end,replaceCls:U(x.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return c.createElement(c.Fragment,null,b,h.map(function(f,g){var p=f.start,v=f.end;return c.createElement(_t,{index:g,prefixCls:n,style:me(me({},Xe(r,g)),m.track),start:p,end:v,key:g,onStartMove:l})}))},Hr=130;function Tt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Fr(e,t,n,r,a,o,l,s,i,u,d){var m=c.useState(null),x=ee(m,2),h=x[0],b=x[1],f=c.useState(-1),g=ee(f,2),p=g[0],v=g[1],C=c.useState(!1),S=ee(C,2),$=S[0],O=S[1],D=c.useState(n),k=ee(D,2),F=k[0],M=k[1],P=c.useState(n),j=ee(P,2),L=j[0],w=j[1],N=c.useRef(null),A=c.useRef(null),B=c.useRef(null),X=c.useContext(hn),I=X.onDragStart,Z=X.onDragChange;vt(function(){p===-1&&M(n)},[n,p]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",N.current),document.removeEventListener("mouseup",A.current),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current))}},[]);var ce=function(H,_,J){_!==void 0&&b(_),M(H);var ue=H;J&&(ue=H.filter(function(Y,re){return re!==p})),l(ue),Z&&Z({rawValues:H,deleteIndex:J?p:-1,draggingIndex:p,draggingValue:_})},te=Ae(function(W,H,_){if(W===-1){var J=L[0],ue=L[L.length-1],Y=r-J,re=a-ue,ae=H*(a-r);ae=Math.max(ae,Y),ae=Math.min(ae,re);var pe=o(J+ae);ae=pe-J;var ye=L.map(function(be){return be+ae});ce(ye)}else{var $e=(a-r)*H,Ce=Ee(F);Ce[W]=L[W];var Pe=i(Ce,$e,W,"dist");ce(Pe.values,Pe.value,_)}}),we=function(H,_,J){H.stopPropagation();var ue=J||n,Y=ue[_];v(_),b(Y),w(ue),M(ue),O(!1);var re=Tt(H),ae=re.pageX,pe=re.pageY,ye=!1;I&&I({rawValues:ue,draggingIndex:_,draggingValue:Y});var $e=function(be){be.preventDefault();var fe=Tt(be),Fe=fe.pageX,Ne=fe.pageY,Ie=Fe-ae,Se=Ne-pe,q=e.current.getBoundingClientRect(),oe=q.width,Re=q.height,je,ve;switch(t){case"btt":je=-Se/Re,ve=Ie;break;case"ttb":je=Se/Re,ve=Ie;break;case"rtl":je=-Ie/oe,ve=Se;break;default:je=Ie/oe,ve=Se}ye=u?Math.abs(ve)>Hr&&d<F.length:!1,O(ye),te(_,je,ye)},Ce=function Pe(be){be.preventDefault(),document.removeEventListener("mouseup",Pe),document.removeEventListener("mousemove",$e),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current)),N.current=null,A.current=null,B.current=null,s(ye),v(-1),O(!1)};document.addEventListener("mouseup",Ce),document.addEventListener("mousemove",$e),H.currentTarget.addEventListener("touchend",Ce),H.currentTarget.addEventListener("touchmove",$e),N.current=$e,A.current=Ce,B.current=H.currentTarget},ne=c.useMemo(function(){var W=Ee(n).sort(function(Y,re){return Y-re}),H=Ee(F).sort(function(Y,re){return Y-re}),_={};H.forEach(function(Y){_[Y]=(_[Y]||0)+1}),W.forEach(function(Y){_[Y]=(_[Y]||0)-1});var J=u?1:0,ue=Object.values(_).reduce(function(Y,re){return Y+Math.abs(re)},0);return ue<=J?F:n},[n,F,u]);return[p,h,$,ne,we]}function Nr(e,t,n,r,a,o){var l=c.useCallback(function(h){return Math.max(e,Math.min(t,h))},[e,t]),s=c.useCallback(function(h){if(n!==null){var b=e+Math.round((l(h)-e)/n)*n,f=function(C){return(String(C).split(".")[1]||"").length},g=Math.max(f(n),f(t),f(e)),p=Number(b.toFixed(g));return e<=p&&p<=t?p:null}return null},[n,e,t,l]),i=c.useCallback(function(h){var b=l(h),f=r.map(function(v){return v.value});n!==null&&f.push(s(h)),f.push(e,t);var g=f[0],p=t-e;return f.forEach(function(v){var C=Math.abs(b-v);C<=p&&(g=v,p=C)}),g},[e,t,r,n,l,s]),u=function h(b,f,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof f=="number"){var v,C=b[g],S=C+f,$=[];r.forEach(function(M){$.push(M.value)}),$.push(e,t),$.push(s(C));var O=f>0?1:-1;p==="unit"?$.push(s(C+O*n)):$.push(s(S)),$=$.filter(function(M){return M!==null}).filter(function(M){return f<0?M<=C:M>=C}),p==="unit"&&($=$.filter(function(M){return M!==C}));var D=p==="unit"?C:S;v=$[0];var k=Math.abs(v-D);if($.forEach(function(M){var P=Math.abs(M-D);P<k&&(v=M,k=P)}),v===void 0)return f<0?e:t;if(p==="dist")return v;if(Math.abs(f)>1){var F=Ee(b);return F[g]=v,h(F,f-O,g,p)}return v}else{if(f==="min")return e;if(f==="max")return t}},d=function(b,f,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=b[g],C=u(b,f,g,p);return{value:C,changed:C!==v}},m=function(b){return o===null&&b===0||typeof o=="number"&&b<o},x=function(b,f,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=b.map(i),C=v[g],S=u(v,f,g,p);if(v[g]=S,a===!1){var $=o||0;g>0&&v[g-1]!==C&&(v[g]=Math.max(v[g],v[g-1]+$)),g<v.length-1&&v[g+1]!==C&&(v[g]=Math.min(v[g],v[g+1]-$))}else if(typeof o=="number"||o===null){for(var O=g+1;O<v.length;O+=1)for(var D=!0;m(v[O]-v[O-1])&&D;){var k=d(v,1,O);v[O]=k.value,D=k.changed}for(var F=g;F>0;F-=1)for(var M=!0;m(v[F]-v[F-1])&&M;){var P=d(v,-1,F-1);v[F-1]=P.value,M=P.changed}for(var j=v.length-1;j>0;j-=1)for(var L=!0;m(v[j]-v[j-1])&&L;){var w=d(v,-1,j-1);v[j-1]=w.value,L=w.changed}for(var N=0;N<v.length-1;N+=1)for(var A=!0;m(v[N+1]-v[N])&&A;){var B=d(v,1,N+1);v[N+1]=B.value,A=B.changed}}return{value:v[g],values:v}};return[i,x]}function Br(e){return c.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,a=e.maxCount;return[!0,t,!t&&n,r||0,a]},[e])}var Ar=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,a=e.className,o=e.style,l=e.classNames,s=e.styles,i=e.id,u=e.disabled,d=u===void 0?!1:u,m=e.keyboard,x=m===void 0?!0:m,h=e.autoFocus,b=e.onFocus,f=e.onBlur,g=e.min,p=g===void 0?0:g,v=e.max,C=v===void 0?100:v,S=e.step,$=S===void 0?1:S,O=e.value,D=e.defaultValue,k=e.range,F=e.count,M=e.onChange,P=e.onBeforeChange,j=e.onAfterChange,L=e.onChangeComplete,w=e.allowCross,N=w===void 0?!0:w,A=e.pushable,B=A===void 0?!1:A,X=e.reverse,I=e.vertical,Z=e.included,ce=Z===void 0?!0:Z,te=e.startPoint,we=e.trackStyle,ne=e.handleStyle,W=e.railStyle,H=e.dotStyle,_=e.activeDotStyle,J=e.marks,ue=e.dots,Y=e.handleRender,re=e.activeHandleRender,ae=e.track,pe=e.tabIndex,ye=pe===void 0?0:pe,$e=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,Pe=e.ariaRequired,be=e.ariaValueTextFormatterForHandle,fe=c.useRef(null),Fe=c.useRef(null),Ne=c.useMemo(function(){return I?X?"ttb":"btt":X?"rtl":"ltr"},[X,I]),Ie=Br(k),Se=ee(Ie,5),q=Se[0],oe=Se[1],Re=Se[2],je=Se[3],ve=Se[4],he=c.useMemo(function(){return isFinite(p)?p:0},[p]),He=c.useMemo(function(){return isFinite(C)?C:100},[C]),Me=c.useMemo(function(){return $!==null&&$<=0?1:$},[$]),le=c.useMemo(function(){return typeof B=="boolean"?B?Me:!1:B>=0?B:!1},[B,Me]),de=c.useMemo(function(){return Object.keys(J||{}).map(function(G){var R=J[G],V={value:Number(G)};return R&&Tn(R)==="object"&&!c.isValidElement(R)&&("label"in R||"style"in R)?(V.style=R.style,V.label=R.label):V.label=R,V}).filter(function(G){var R=G.label;return R||typeof R=="number"}).sort(function(G,R){return G.value-R.value})},[J]),tt=Nr(he,He,Me,de,N,le),qe=ee(tt,2),K=qe[0],ge=qe[1],De=et(D,{value:O}),$t=ee(De,2),ze=$t[0],On=$t[1],xe=c.useMemo(function(){var G=ze==null?[]:Array.isArray(ze)?ze:[ze],R=ee(G,1),V=R[0],Q=V===void 0?he:V,se=ze===null?[]:[Q];if(q){if(se=Ee(G),F||ze===void 0){var Ge=F>=0?F+1:2;for(se=se.slice(0,Ge);se.length<Ge;){var _e;se.push((_e=se[se.length-1])!==null&&_e!==void 0?_e:he)}}se.sort(function(Te,Le){return Te-Le})}return se.forEach(function(Te,Le){se[Le]=K(Te)}),se},[ze,q,he,F,K]),Je=function(R){return q?R:R[0]},ot=Ae(function(G){var R=Ee(G).sort(function(V,Q){return V-Q});M&&!Ln(R,xe,!0)&&M(Je(R)),On(R)}),Et=Ae(function(G){G&&fe.current.hideHelp();var R=Je(xe);j==null||j(R),Nt(!j,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(R)}),Pn=function(R){if(!(d||!oe||xe.length<=je)){var V=Ee(xe);V.splice(R,1),P==null||P(Je(V)),ot(V);var Q=Math.max(0,R-1);fe.current.hideHelp(),fe.current.focus(Q)}},Rn=Fr(Fe,Ne,xe,he,He,K,ot,Et,ge,oe,je),nt=ee(Rn,5),Ot=nt[0],jn=nt[1],wn=nt[2],dt=nt[3],Pt=nt[4],Rt=function(R,V){if(!d){var Q=Ee(xe),se=0,Ge=0,_e=He-he;xe.forEach(function(We,lt){var Ft=Math.abs(R-We);Ft<=_e&&(_e=Ft,se=lt),We<R&&(Ge=lt)});var Te=se;oe&&_e!==0&&(!ve||xe.length<ve)?(Q.splice(Ge+1,0,R),Te=Ge+1):Q[se]=R,q&&!xe.length&&F===void 0&&Q.push(R);var Le=Je(Q);if(P==null||P(Le),ot(Q),V){var Ve,Qe;(Ve=document.activeElement)===null||Ve===void 0||(Qe=Ve.blur)===null||Qe===void 0||Qe.call(Ve),fe.current.focus(Te),Pt(V,Te,Q)}else j==null||j(Le),Nt(!j,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Le)}},Mn=function(R){R.preventDefault();var V=Fe.current.getBoundingClientRect(),Q=V.width,se=V.height,Ge=V.left,_e=V.top,Te=V.bottom,Le=V.right,Ve=R.clientX,Qe=R.clientY,We;switch(Ne){case"btt":We=(Te-Qe)/se;break;case"ttb":We=(Qe-_e)/se;break;case"rtl":We=(Le-Ve)/Q;break;default:We=(Ve-Ge)/Q}var lt=he+We*(He-he);Rt(K(lt),R)},Dn=c.useState(null),jt=ee(Dn,2),gt=jt[0],wt=jt[1],kn=function(R,V){if(!d){var Q=ge(xe,R,V);P==null||P(Je(xe)),ot(Q.values),wt(Q.value)}};c.useEffect(function(){if(gt!==null){var G=xe.indexOf(gt);G>=0&&fe.current.focus(G)}wt(null)},[gt]);var In=c.useMemo(function(){return Re&&Me===null?!1:Re},[Re,Me]),Mt=Ae(function(G,R){Pt(G,R),P==null||P(Je(xe))}),Dt=Ot!==-1;c.useEffect(function(){if(!Dt){var G=xe.lastIndexOf(jn);fe.current.focus(G)}},[Dt]);var rt=c.useMemo(function(){return Ee(dt).sort(function(G,R){return G-R})},[dt]),Hn=c.useMemo(function(){return q?[rt[0],rt[rt.length-1]]:[he,rt[0]]},[rt,q,he]),kt=ee(Hn,2),It=kt[0],Ht=kt[1];c.useImperativeHandle(t,function(){return{focus:function(){fe.current.focus(0)},blur:function(){var R,V=document,Q=V.activeElement;(R=Fe.current)!==null&&R!==void 0&&R.contains(Q)&&(Q==null||Q.blur())}}}),c.useEffect(function(){h&&fe.current.focus(0)},[]);var Fn=c.useMemo(function(){return{min:he,max:He,direction:Ne,disabled:d,keyboard:x,step:Me,included:ce,includedStart:It,includedEnd:Ht,range:q,tabIndex:ye,ariaLabelForHandle:$e,ariaLabelledByForHandle:Ce,ariaRequired:Pe,ariaValueTextFormatterForHandle:be,styles:s||{},classNames:l||{}}},[he,He,Ne,d,x,Me,ce,It,Ht,q,ye,$e,Ce,Pe,be,s,l]);return c.createElement(Ue.Provider,{value:Fn},c.createElement("div",{ref:Fe,className:U(r,a,Oe(Oe(Oe(Oe({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),I),"".concat(r,"-horizontal"),!I),"".concat(r,"-with-marks"),de.length)),style:o,onMouseDown:Mn,id:i},c.createElement("div",{className:U("".concat(r,"-rail"),l==null?void 0:l.rail),style:me(me({},W),s==null?void 0:s.rail)}),ae!==!1&&c.createElement(Ir,{prefixCls:r,style:we,values:xe,startPoint:te,onStartMove:In?Mt:void 0}),c.createElement(kr,{prefixCls:r,marks:de,dots:ue,style:H,activeStyle:_}),c.createElement(jr,{ref:fe,prefixCls:r,style:ne,values:dt,draggingIndex:Ot,draggingDelete:wn,onStartMove:Mt,onOffsetChange:kn,onFocus:b,onBlur:f,handleRender:Y,activeHandleRender:re,onChangeComplete:Et,onDelete:oe?Pn:void 0}),c.createElement(Mr,{prefixCls:r,marks:de,onClick:Rt})))});const pn=c.createContext({}),Lt=c.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,a=c.useRef(null),o=n&&!r,l=c.useRef(null);function s(){at.cancel(l.current),l.current=null}function i(){l.current=at(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),l.current=null})}return c.useEffect(()=>(o?i():s(),s),[o,e.title]),c.createElement(zn,Object.assign({ref:Gn(a,t)},e,{open:o}))}),_r=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:o,marginPart:l,colorFillContentHover:s,handleColorDisabled:i,calc:u,handleSize:d,handleSizeHover:m,handleActiveColor:x,handleActiveOutlineColor:h,handleLineWidth:b,handleLineWidthHover:f,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},Wn(e)),{position:"relative",height:r,margin:`${z(l)} ${z(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${z(o)} ${z(l)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${z(b)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(b).mul(-1).equal(),insetBlockStart:u(b).mul(-1).equal(),width:u(d).add(u(b).mul(2)).equal(),height:u(d).add(u(b).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${z(b)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${g},
            inset-block-start ${g},
            width ${g},
            height ${g},
            box-shadow ${g},
            outline ${g}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(m).sub(d).div(2).add(f).mul(-1).equal(),insetBlockStart:u(m).sub(d).div(2).add(f).mul(-1).equal(),width:u(m).add(u(f).mul(2)).equal(),height:u(m).add(u(f).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${z(f)} ${x}`,outline:`6px solid ${h}`,width:m,height:m,insetInlineStart:e.calc(d).sub(m).div(2).equal(),insetBlockStart:e.calc(d).sub(m).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:`${z(b)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${z(b)} ${i}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},Cn=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:o,marginFull:l,calc:s}=e,i=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",m=t?"insetBlockStart":"insetInlineStart",x=t?"top":"insetInlineStart",h=s(r).mul(3).sub(a).div(2).equal(),b=s(a).sub(r).div(2).equal(),f=t?{borderWidth:`${z(b)} 0`,transform:`translateY(${z(s(b).mul(-1).equal())})`}:{borderWidth:`0 ${z(b)}`,transform:`translateX(${z(e.calc(b).mul(-1).equal())})`};return{[i]:r,[d]:s(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},f),[`${n}-handle`]:{[m]:h},[`${n}-mark`]:{insetInlineStart:0,top:0,[x]:s(r).mul(3).add(t?0:l).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[x]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[m]:s(r).sub(o).div(2).equal()}}},Tr=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},Cn(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Lr=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},Cn(e,!1)),{height:"100%"})}},zr=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,a=e.lineWidth+1,o=e.lineWidth+1*1.5,l=e.colorPrimary,s=new Bt(l).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:l,handleActiveOutlineColor:s,handleColorDisabled:new Bt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Gr=Qt("Slider",e=>{const t=Zt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[_r(t),Tr(t),Lr(t)]},zr);function ft(){const[e,t]=c.useState(!1),n=c.useRef(null),r=()=>{at.cancel(n.current)},a=o=>{r(),o?t(o):n.current=at(()=>{t(o)})};return c.useEffect(()=>r,[]),[e,a]}var Wr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function qr(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Vr=y.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:a,rootClassName:o,style:l,disabled:s,tooltipPrefixCls:i,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:m,tooltipPlacement:x,tooltip:h={},onChangeComplete:b,classNames:f,styles:g}=e,p=Wr(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:v}=e,{getPrefixCls:C,direction:S,className:$,style:O,classNames:D,styles:k,getPopupContainer:F}=qn("slider"),M=y.useContext(en),P=s??M,{handleRender:j,direction:L}=y.useContext(pn),N=(L||S)==="rtl",[A,B]=ft(),[X,I]=ft(),Z=Object.assign({},h),{open:ce,placement:te,getPopupContainer:we,prefixCls:ne,formatter:W}=Z,H=ce??d,_=(A||X)&&H!==!1,J=qr(W,u),[ue,Y]=ft(),re=q=>{b==null||b(q),Y(!1)},ae=(q,oe)=>q||(oe?N?"left":"right":"top"),pe=C("slider",n),[ye,$e,Ce]=Gr(pe),Pe=U(a,$,D.root,f==null?void 0:f.root,o,{[`${pe}-rtl`]:N,[`${pe}-lock`]:ue},$e,Ce);N&&!p.vertical&&(p.reverse=!p.reverse),y.useEffect(()=>{const q=()=>{at(()=>{I(!1)},1)};return document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}},[]);const be=r&&!H,fe=j||((q,oe)=>{const{index:Re}=oe,je=q.props;function ve(le,de,tt){var qe,K,ge,De;tt&&((K=(qe=p)[le])===null||K===void 0||K.call(qe,de)),(De=(ge=je)[le])===null||De===void 0||De.call(ge,de)}const he=Object.assign(Object.assign({},je),{onMouseEnter:le=>{B(!0),ve("onMouseEnter",le)},onMouseLeave:le=>{B(!1),ve("onMouseLeave",le)},onMouseDown:le=>{I(!0),Y(!0),ve("onMouseDown",le)},onFocus:le=>{var de;I(!0),(de=p.onFocus)===null||de===void 0||de.call(p,le),ve("onFocus",le,!0)},onBlur:le=>{var de;I(!1),(de=p.onBlur)===null||de===void 0||de.call(p,le),ve("onBlur",le,!0)}}),He=y.cloneElement(q,he),Me=(!!H||_)&&J!==null;return be?He:y.createElement(Lt,Object.assign({},Z,{prefixCls:C("tooltip",ne??i),title:J?J(oe.value):"",open:Me,placement:ae(te??x,v),key:Re,classNames:{root:`${pe}-tooltip`},getPopupContainer:we||m||F}),He)}),Fe=be?(q,oe)=>{const Re=y.cloneElement(q,{style:Object.assign(Object.assign({},q.props.style),{visibility:"hidden"})});return y.createElement(Lt,Object.assign({},Z,{prefixCls:C("tooltip",ne??i),title:J?J(oe.value):"",open:J!==null&&_,placement:ae(te??x,v),key:"tooltip",classNames:{root:`${pe}-tooltip`},getPopupContainer:we||m||F,draggingDelete:oe.draggingDelete}),Re)}:void 0,Ne=Object.assign(Object.assign(Object.assign(Object.assign({},k.root),O),g==null?void 0:g.root),l),Ie=Object.assign(Object.assign({},k.tracks),g==null?void 0:g.tracks),Se=U(D.tracks,f==null?void 0:f.tracks);return ye(y.createElement(Ar,Object.assign({},p,{classNames:Object.assign({handle:U(D.handle,f==null?void 0:f.handle),rail:U(D.rail,f==null?void 0:f.rail),track:U(D.track,f==null?void 0:f.track)},Se?{tracks:Se}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},k.handle),g==null?void 0:g.handle),rail:Object.assign(Object.assign({},k.rail),g==null?void 0:g.rail),track:Object.assign(Object.assign({},k.track),g==null?void 0:g.track)},Object.keys(Ie).length?{tracks:Ie}:{}),step:p.step,range:r,className:Pe,style:Ne,disabled:P,ref:t,prefixCls:pe,handleRender:fe,activeHandleRender:Fe,onChangeComplete:re})))});var Xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bn=e=>{const{prefixCls:t,colors:n,type:r,color:a,range:o=!1,className:l,activeIndex:s,onActive:i,onDragStart:u,onDragChange:d,onKeyDelete:m}=e,x=Xr(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),h=Object.assign(Object.assign({},x),{track:!1}),b=c.useMemo(()=>`linear-gradient(90deg, ${n.map(O=>`${O.color} ${O.percent}%`).join(", ")})`,[n]),f=c.useMemo(()=>!a||!r?null:r==="alpha"?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`,[a,r]),g=Ae(u),p=Ae(d),v=c.useMemo(()=>({onDragStart:g,onDragChange:p}),[]),C=Ae(($,O)=>{const{onFocus:D,style:k,className:F,onKeyDown:M}=$.props,P=Object.assign({},k);return r==="gradient"&&(P.background=tn(n,O.value)),c.cloneElement($,{onFocus:j=>{i==null||i(O.index),D==null||D(j)},style:P,className:U(F,{[`${t}-slider-handle-active`]:s===O.index}),onKeyDown:j=>{(j.key==="Delete"||j.key==="Backspace")&&m&&m(O.index),M==null||M(j)}})}),S=c.useMemo(()=>({direction:"ltr",handleRender:C}),[]);return c.createElement(pn.Provider,{value:S},c.createElement(hn.Provider,{value:v},c.createElement(Vr,Object.assign({},h,{className:U(l,`${t}-slider`),tooltip:{open:!1},range:{editable:o,minCount:2},styles:{rail:{background:b},handle:f?{background:f}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},Yr=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,a=l=>n(l[0]),o=l=>r(l[0]);return c.createElement(bn,Object.assign({},e,{value:[t],onChange:a,onChangeComplete:o}))};function zt(e){return Ee(e).sort((t,n)=>t.percent-n.percent)}const Kr=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:a,onActive:o,activeIndex:l,onGradientDragging:s,colors:i}=e,u=n==="gradient",d=c.useMemo(()=>i.map(p=>({percent:p.percent,color:p.color.toRgbString()})),[i]),m=c.useMemo(()=>d.map(p=>p.percent),[d]),x=c.useRef(d),h=p=>{let{rawValues:v,draggingIndex:C,draggingValue:S}=p;if(v.length>d.length){const $=tn(d,S),O=Ee(d);O.splice(C,0,{percent:S,color:$}),x.current=O}else x.current=d;s(!0),r(new Be(zt(x.current)),!0)},b=p=>{let{deleteIndex:v,draggingIndex:C,draggingValue:S}=p,$=Ee(x.current);v!==-1?$.splice(v,1):($[C]=Object.assign(Object.assign({},$[C]),{percent:S}),$=zt($)),r(new Be($),!0)},f=p=>{const v=Ee(d);v.splice(p,1);const C=new Be(v);r(C),a(C)},g=p=>{a(new Be(d)),l>=p.length&&o(p.length-1),s(!1)};return u?c.createElement(bn,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:m,range:!0,onChangeComplete:g,disabled:!1,type:"gradient",activeIndex:l,onActive:o,onDragStart:h,onDragChange:b,onKeyDelete:f}):null},Ur=c.memo(Kr);var Jr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Qr={slider:Yr},Gt=()=>{const e=c.useContext(un),{mode:t,onModeChange:n,modeOptions:r,prefixCls:a,allowClear:o,value:l,disabledAlpha:s,onChange:i,onClear:u,onChangeComplete:d,activeIndex:m,gradientDragging:x}=e,h=Jr(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),b=y.useMemo(()=>l.cleared?[{percent:0,color:new Be("")},{percent:100,color:new Be("")}]:l.getColors(),[l]),f=!l.isGradient(),[g,p]=y.useState(l);vt(()=>{var w;f||p((w=b[m])===null||w===void 0?void 0:w.color)},[x,m]);const v=y.useMemo(()=>{var w;return f?l:x?g:(w=b[m])===null||w===void 0?void 0:w.color},[l,m,f,g,x]),[C,S]=y.useState(v),[$,O]=y.useState(0),D=C!=null&&C.equals(v)?v:C;vt(()=>{S(v)},[$,v==null?void 0:v.toHexString()]);const k=(w,N)=>{let A=ke(w);if(l.cleared){const X=A.toRgb();if(!X.r&&!X.g&&!X.b&&N){const{type:I,value:Z=0}=N;A=new Be({h:I==="hue"?Z:0,s:1,b:1,a:I==="alpha"?Z/100:1})}else A=ct(A)}if(t==="single")return A;const B=Ee(b);return B[m]=Object.assign(Object.assign({},B[m]),{color:A}),new Be(B)},F=(w,N,A)=>{const B=k(w,A);S(B.isGradient()?B.getColors()[m].color:B),i(B,N)},M=(w,N)=>{d(k(w,N)),O(A=>A+1)},P=w=>{i(k(w))};let j=null;const L=r.length>1;return(o||L)&&(j=y.createElement("div",{className:`${a}-operation`},L&&y.createElement(cr,{size:"small",options:r,value:t,onChange:n}),y.createElement(gn,Object.assign({prefixCls:a,value:l,onChange:w=>{i(w),u==null||u()}},h)))),y.createElement(y.Fragment,null,j,y.createElement(Ur,Object.assign({},e,{colors:b})),y.createElement(pr,{prefixCls:a,value:D==null?void 0:D.toHsb(),disabledAlpha:s,onChange:(w,N)=>{F(w,!0,N)},onChangeComplete:(w,N)=>{M(w,N)},components:Qr}),y.createElement(Or,Object.assign({value:v,onChange:P,prefixCls:a,disabledAlpha:s},h)))},Wt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=c.useContext(dn);return Array.isArray(n)?y.createElement(Vn,{value:t,presets:n,prefixCls:e,onChange:r}):null},Zr=e=>{const{prefixCls:t,presets:n,panelRender:r,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:x,activeIndex:h,onActive:b,format:f,onFormatChange:g,gradientDragging:p,onGradientDragging:v,disabledFormat:C}=e,S=`${t}-inner`,$=y.useMemo(()=>({prefixCls:t,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:x,activeIndex:h,onActive:b,format:f,onFormatChange:g,gradientDragging:p,onGradientDragging:v,disabledFormat:C}),[t,a,o,l,s,i,u,d,m,x,h,b,f,g,p,v,C]),O=y.useMemo(()=>({prefixCls:t,value:a,presets:n,onChange:o}),[t,a,n,o]),D=y.createElement("div",{className:`${S}-content`},y.createElement(Gt,null),Array.isArray(n)&&y.createElement(Xn,null),y.createElement(Wt,null));return y.createElement(un.Provider,{value:$},y.createElement(dn.Provider,{value:O},y.createElement("div",{className:S},typeof r=="function"?r(D,{components:{Picker:Gt,Presets:Wt}}):D)))};var ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ta=c.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:a,disabled:o,format:l,className:s,showText:i,activeIndex:u}=e,d=ea(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),m=`${r}-trigger`,x=`${m}-text`,h=`${x}-cell`,[b]=nn("ColorPicker"),f=y.useMemo(()=>{if(!i)return"";if(typeof i=="function")return i(n);if(n.cleared)return b.transparent;if(n.isGradient())return n.getColors().map((C,S)=>{const $=u!==-1&&u!==S;return y.createElement("span",{key:S,className:U(h,$&&`${h}-inactive`)},C.color.toRgbString()," ",C.percent,"%")});const p=n.toHexString().toUpperCase(),v=Ct(n);switch(l){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return v<100?`${p.slice(0,7)},${v}%`:p}},[n,l,i,u]),g=c.useMemo(()=>n.cleared?y.createElement(gn,{prefixCls:r}):y.createElement(Ut,{prefixCls:r,color:n.toCssString()}),[n,r]);return y.createElement("div",Object.assign({ref:t,className:U(m,s,{[`${m}-active`]:a,[`${m}-disabled`]:o})},Yn(d)),g,i&&y.createElement("div",{className:x},f))});function na(e,t,n){const[r]=nn("ColorPicker"),[a,o]=et(e,{value:t}),[l,s]=c.useState("single"),[i,u]=c.useMemo(()=>{const f=(Array.isArray(n)?n:[n]).filter(C=>C);f.length||f.push("single");const g=new Set(f),p=[],v=(C,S)=>{g.has(C)&&p.push({label:S,value:C})};return v("single",r.singleColor),v("gradient",r.gradientColor),[p,g]},[n]),[d,m]=c.useState(null),x=Ae(f=>{m(f),o(f)}),h=c.useMemo(()=>{const f=ke(a||"");return f.equals(d)?d:f},[a,d]),b=c.useMemo(()=>{var f;return u.has(l)?l:(f=i[0])===null||f===void 0?void 0:f.value},[u,l,i]);return c.useEffect(()=>{s(h.isGradient()?"gradient":"single")},[h]),[h,x,b,s,i]}const Sn=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),qt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:a,lineWidth:o,colorFillSecondary:l}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:a,flex:"none"},Sn("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${z(o)} ${l}`,borderRadius:"inherit"}})}},ra=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:a,colorPickerAlphaInputWidth:o,marginXXS:l,paddingXXS:s,controlHeightSM:i,marginXS:u,fontSizeIcon:d,paddingXS:m,colorTextPlaceholder:x,colorPickerInputNumberHandleWidth:h,lineWidth:b}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:a,[`${n}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:h}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${z(o)}`,marginInlineStart:l},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(l).equal(),fontSize:r,lineHeight:z(i)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:a},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${z(m)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:z(e.calc(i).sub(e.calc(b).mul(2)).equal())},[`${n}-input-prefix`]:{color:x}}}}}},aa=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:a,marginSM:o,colorBgElevated:l,colorFillSecondary:s,lineWidthBold:i,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:a,inset:0},marginBottom:o},[`${t}-handler`]:{width:u,height:u,border:`${z(i)} solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${a}, 0 0 0 1px ${s}`}}},oa=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:a,colorPickerPresetColorSize:o,fontSizeSM:l,colorText:s,lineHeightSM:i,lineWidth:u,borderRadius:d,colorFill:m,colorWhite:x,marginXXS:h,paddingXS:b,fontHeightSM:f}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:f,color:r,paddingInlineEnd:a}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${z(b)} 0`},"&-label":{fontSize:l,color:s,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(h).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:e.calc(o).add(e.calc(u).mul(4)).equal(),height:e.calc(o).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${z(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:m},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(o).div(13).mul(5).equal(),height:e.calc(o).div(13).mul(8).equal(),border:`${z(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:x,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:r}}}},la=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:a,lineWidthBold:o,colorPickerHandlerSizeSM:l,colorPickerSliderHeight:s,marginSM:i,marginXS:u}=e,d=e.calc(l).sub(e.calc(o).mul(2).equal()).equal(),m=e.calc(l).add(e.calc(o).mul(2).equal()).equal(),x={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[Sn(z(s),e.colorFillSecondary),{margin:0,padding:0,height:s,borderRadius:e.calc(s).div(2).equal(),"&-rail":{height:s,borderRadius:e.calc(s).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:m,height:m,borderRadius:"100%"},"&:after":{width:l,height:l,border:`${z(o)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${a}`,outline:"none",insetInlineStart:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":x}}],[`${t}-slider-container`]:{display:"flex",gap:i,marginBottom:i,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":x}}}},pt=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${z(e.controlOutlineWidth)} ${n}`,outline:0}),sa=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Vt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:a,lineWidth:o,colorSplit:l,colorBorder:s,red6:i}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:a,border:`${z(o)} solid ${l}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:i},"&:hover":{borderColor:s}})}},ia=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:a,colorWarningHover:o,colorErrorOutline:l,colorWarningOutline:s}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},pt(e,n,l))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},pt(e,r,s))}}},ca=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:a,controlHeightXS:o,borderRadius:l,borderRadiusSM:s,borderRadiusXS:i,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:s,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:i},[`${t}-trigger-text`]:{lineHeight:z(o)}}}},ua=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:a,motionDurationMid:o,colorBgElevated:l,colorTextDisabled:s,colorText:i,colorBgContainerDisabled:u,borderRadius:d,marginXS:m,marginSM:x,controlHeight:h,controlHeightSM:b,colorBgTextActive:f,colorPickerPresetColorSize:g,colorPickerPreviewSize:p,lineWidth:v,colorBorder:C,paddingXXS:S,fontSize:$,colorPrimaryHover:O,controlOutline:D}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${z(x)} 0 ${z(m)}`}},[`${n}-panel`]:Object.assign({},aa(e))},la(e)),qt(e,p)),ra(e)),oa(e)),Vt(e,g,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:m}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:h,minHeight:h,borderRadius:d,border:`${z(v)} solid ${C}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${o}`,background:l,padding:e.calc(S).sub(v).equal(),[`${n}-trigger-text`]:{marginInlineStart:m,marginInlineEnd:e.calc(m).sub(e.calc(S).sub(v)).equal(),fontSize:$,color:i,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:s}}},"&:hover":{borderColor:O},[`&${n}-trigger-active`]:Object.assign({},pt(e,a,D)),"&-disabled":{color:s,background:u,cursor:"not-allowed","&:hover":{borderColor:f},[`${n}-trigger-text`]:{color:s}}},Vt(e,b)),qt(e,b)),ia(e)),ca(e))},sa(e))},Kn(e,{focusElCls:`${n}-trigger-active`})]},da=Qt("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,a=Zt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[ua(a)]});var ga=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const yt=e=>{const{mode:t,value:n,defaultValue:r,format:a,defaultFormat:o,allowClear:l=!1,presets:s,children:i,trigger:u="click",open:d,disabled:m,placement:x="bottomLeft",arrow:h=!0,panelRender:b,showText:f,style:g,className:p,size:v,rootClassName:C,prefixCls:S,styles:$,disabledAlpha:O=!1,onFormatChange:D,onChange:k,onClear:F,onOpenChange:M,onChangeComplete:P,getPopupContainer:j,autoAdjustOverflow:L=!0,destroyTooltipOnHide:w,disabledFormat:N}=e,A=ga(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:B,direction:X,colorPicker:I}=c.useContext(Un),Z=c.useContext(en),ce=m??Z,[te,we]=et(!1,{value:d,postState:K=>!ce&&K,onChange:M}),[ne,W]=et(a,{value:a,defaultValue:o,onChange:D}),H=B("color-picker",S),[_,J,ue,Y,re]=na(r,n,t),ae=c.useMemo(()=>Ct(_)<100,[_]),[pe,ye]=y.useState(null),$e=K=>{if(P){let ge=ke(K);O&&ae&&(ge=ct(K)),P(ge)}},Ce=(K,ge)=>{let De=ke(K);O&&ae&&(De=ct(De)),J(De),ye(null),k&&k(De,De.toCssString()),ge||$e(De)},[Pe,be]=y.useState(0),[fe,Fe]=y.useState(!1),Ne=K=>{if(Y(K),K==="single"&&_.isGradient())be(0),Ce(new Be(_.getColors()[0].color)),ye(_);else if(K==="gradient"&&!_.isGradient()){const ge=ae?ct(_):_;Ce(new Be(pe||[{percent:0,color:ge},{percent:100,color:ge}]))}},{status:Ie}=y.useContext(Jn),{compactSize:Se,compactItemClassnames:q}=Qn(H,X),oe=Zn(K=>{var ge;return(ge=v??Se)!==null&&ge!==void 0?ge:K}),Re=er(H),[je,ve,he]=da(H,Re),He={[`${H}-rtl`]:X},Me=U(C,he,Re,He),le=U(tr(H,Ie),{[`${H}-sm`]:oe==="small",[`${H}-lg`]:oe==="large"},q,I==null?void 0:I.className,Me,p,ve),de=U(H,Me),tt={open:te,trigger:u,placement:x,arrow:h,rootClassName:C,getPopupContainer:j,autoAdjustOverflow:L,destroyTooltipOnHide:w},qe=Object.assign(Object.assign({},I==null?void 0:I.style),g);return je(y.createElement(nr,Object.assign({style:$==null?void 0:$.popup,styles:{body:$==null?void 0:$.popupOverlayInner},onOpenChange:K=>{(!K||!ce)&&we(K)},content:y.createElement(rr,{form:!0},y.createElement(Zr,{mode:ue,onModeChange:Ne,modeOptions:re,prefixCls:H,value:_,allowClear:l,disabled:ce,disabledAlpha:O,presets:s,panelRender:b,format:ne,onFormatChange:W,onChange:Ce,onChangeComplete:$e,onClear:F,activeIndex:Pe,onActive:be,gradientDragging:fe,onGradientDragging:Fe,disabledFormat:N})),classNames:{root:de}},tt),i||y.createElement(ta,Object.assign({activeIndex:te?Pe:-1,open:te,className:le,style:qe,prefixCls:H,disabled:ce,showText:f,format:ne},A,{color:_}))))},ma=ar(yt,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);yt._InternalPanelDoNotUseOrYouWillBeFired=ma;const fa=({type:e,dataMap:t,constDataMap:n,componentMap:r,inputAnalysisMethod:a,dataKey:o,data:l,name:s,component_id:i,inputKey:u,...d})=>{if(!t)return E.jsx("div",{children:"...."});t={...t,...n};const m=r[e];if(!m)return E.jsxs("div",{children:[" ",e]});const{Component:x,dataKey:h,...b}=m;console.log(b);let f=[];return l?f=l:a?f=t[a]:o?o in t&&(f=t[o]):h?h in t&&(f=t[h]):i in t?f=t[i]:"first_data_key"in t?f=t[t.first_data_key]:i in t&&(f=t[i]),E.jsx(x,{...b,...d,data:f,name:s})},Ma=c.memo(({formJson:e,dataMap:t})=>{if(!e)return null;const{projectObj:n}=or(),o={rank:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}],group_field:n!=null&&n.metadata_form?n==null?void 0:n.metadata_form.map(s=>({label:s.label,value:s.name})):[]},l={GroupSelect:{Component:it,dataKey:"sample_group_list"},Input:{Component:Ca},GroupCompareSelect:{Component:pa},BaseSelect:{Component:it},BaseInputNumber:{Component:xa},BaseInput:{Component:ba},BaseSwitch:{Component:Sa},RankSelect:{Component:it,dataKey:"rank",mode:void 0,initialValue:"SPECIES"},GroupFieldSelect:{Component:it,dataKey:"group_field",mode:void 0,initialValue:"group"},FilterFieldSelect:{Component:va,dataKey:"sample_group_list",mode:void 0},GroupSelectSampleButton:{Component:$a},CollectedGroupSelectSampleButton:{Component:ya},MetaphlanCladeSelect:{Component:ha},SelectAll:{Component:Ea,dataKey:"sample_group_list"}};return E.jsx(E.Fragment,{children:e.map((s,i)=>E.jsx(E.Fragment,{children:E.jsx(fa,{...s,dataMap:t,componentMap:l,constDataMap:o},i)}))})},(e,t)=>(console.log("prevProps==nextProps: ",JSON.stringify(e)===JSON.stringify(t)),JSON.stringify(e)===JSON.stringify(t))),va=({label:e,name:t,data:n,rules:r,field:a,...o})=>{const[l,s]=c.useState(),i=T.useFormInstance();return c.useEffect(()=>{if(n&&a){const u=[...new Set(n.map(a))],d=u.map(m=>({label:m,value:m}));s(d),i.setFieldValue(t,u[0])}},[n]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{label:e,name:t,rules:r,children:E.jsx(xn,{...o,options:l})})})},xn=({options:e,clear:t,value:n,onChange:r,...a})=>{const o=T.useFormInstance(),l=s=>{r(s),t&&o.resetFields(t)};return E.jsx(Ke,{showSearch:!0,filterOption:(s,i)=>((i==null?void 0:i.label)??"").toLowerCase().includes(s.toLowerCase()),...a,options:e,value:n,onChange:l})},ha=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const[l,s]=c.useState(),i=async()=>{let d=(await sr.get("/fast-api/get_metaphlan_clade")).data.map(m=>({label:`${m.taxon.replaceAll(" ","_")}_${m.clade}`,value:m.clade}));s(d)};return c.useEffect(()=>{i()},[]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Ke,{...o,options:l,showSearch:!0,filterOption:(u,d)=>((d==null?void 0:d.label)??"").toLowerCase().includes(u.toLowerCase())})})})},pa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const l=T.useFormInstance(),s=T.useWatch(["sites1","group"],l),i=T.useWatch(["sites2","group"],l),[u,d]=c.useState();return c.useEffect(()=>{s&&i&&d([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${i.join("-")}`,value:`Prevalent in ${i.join("-")}`},{label:`Prevalent in ${s.join("-")}`,value:`Prevalent in ${s.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[s,i]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Ke,{showSearch:!0,filterOption:(m,x)=>((x==null?void 0:x.label)??"").toLowerCase().includes(m.toLowerCase()),...o,options:u})})})},Ca=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(lr,{...o})})}),ba=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(St,{...o})})}),Sa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(ir,{...o})})}),xa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(an,{...o})})}),it=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r||null,label:e,name:t,rules:a,children:E.jsx(xn,{...o,options:n})})}),ya=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l})=>{const[s,i]=c.useState(),[u,d]=c.useState([]),[m,x]=c.useState([]),h=T.useFormInstance();let b=[];a&&(b=a.map(C=>C.name));const f=T.useWatch(C=>{const S=Object.entries(C).filter(([$])=>b.includes($));return Object.fromEntries(S)},h),g=T.useWatch(o,h),p=T.useWatch([t,"file"],h),v=(C,S)=>{const $=C.reduce((O,D)=>{const k=D[S];return O[k]||(O[k]=[]),O[k].push(D.value),O},{});i($)};return c.useEffect(()=>{if(r&&Array.isArray(r)){const C=r.map(S=>({label:`${S.file_name}(${S.sample_source})`,value:S.id}));x(C)}},[r]),c.useEffect(()=>{if(p){let C=r.find(S=>S.id==p);C=C.columns.map(S=>({label:S.columns_name,value:S.columns_name,...S})),a&&f&&(C=a.reduce((S,$)=>S.filter(O=>$.method(O)===f[$.name]),C),C=C.map(S=>{const{label:$,id:O,value:D,...k}=S;return{label:`${S.label}(${a[0].method(S)})`,value:S.value,...k}})),C&&l?v(C,l):C&&g&&v(C,g),d(C)}},[r,p,g,f]),E.jsxs(E.Fragment,{children:[E.jsx(T.Item,{label:`${e} File`,name:[t,"file"],rules:n,children:E.jsx(Ke,{options:m})}),E.jsx(T.Item,{label:`${e} Columns`,name:[t,"sample"],rules:n,children:E.jsx($n,{sampleGrouped:s,sampleGroup:u,watch:[t,"group"]})}),E.jsxs(bt,{gap:"small",children:[E.jsx(T.Item,{label:e,name:[t,"group"],noStyle:!0,children:E.jsx(En,{sampleGrouped:s})}),E.jsx(T.Item,{name:[t,"group_name"],children:E.jsx(St,{size:"small",placeholder:"Optional group name"})}),E.jsx(T.Item,{name:[t,"color"],children:E.jsx(yn,{})})]})]})},$a=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l})=>{const[s,i]=c.useState(),[u,d]=c.useState([]),m=T.useFormInstance();let x=[];a&&(x=a.map(g=>g.name));const h=T.useWatch(g=>{const p=Object.entries(g).filter(([v])=>x.includes(v));return Object.fromEntries(p)},m),b=T.useWatch(o,m),f=(g,p)=>{const v=g.reduce((C,S)=>{const $=S[p];return C[$]||(C[$]=[]),C[$].push(S.value),C},{});i(v)};return c.useEffect(()=>{a&&h&&(r=a.reduce((g,p)=>g.filter(v=>p.method(v)===h[p.name]),r),r=r.map(g=>{const{label:p,id:v,value:C,...S}=g;return{label:`${g.label}(${a[0].method(g)})`,value:g.value,...S}})),r&&l?f(r,l):r&&b&&f(r,b),d(r)},[r,b,h]),E.jsxs(E.Fragment,{children:[E.jsx(T.Item,{label:e,name:[t,"sample"],rules:n,children:E.jsx($n,{sampleGrouped:s,sampleGroup:u,watch:[t,"group"]})}),E.jsxs(bt,{gap:"small",children:[E.jsx(T.Item,{label:e,name:[t,"group"],noStyle:!0,children:E.jsx(En,{sampleGrouped:s})}),E.jsx(T.Item,{name:[t,"group_name"],children:E.jsx(St,{size:"small",placeholder:"Optional group name"})}),E.jsx(T.Item,{name:[t,"color"],children:E.jsx(yn,{})})]})]})},yn=({value:e,onChange:t,...n})=>E.jsx(E.Fragment,{children:E.jsx(yt,{defaultValue:"#1677ff",...n,value:e,onChange:r=>{const a=r.toHexString();t(a)}})}),Ea=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Oa,{data:n,...o})})}),Oa=({data:e,value:t,onChange:n,mode:r,...a})=>{const[o,l]=c.useState(t),s=i=>{console.log(i),n(i),l(i)};return E.jsxs(E.Fragment,{children:[E.jsx(Ke,{...a,mode:r,value:o,onChange:s,allowClear:!0,options:e}),r=="multiple"&&E.jsxs(rn,{onClick:()=>{const i=e.map(u=>u.value);l(i),n(i)},children:["",o&&E.jsxs(E.Fragment,{children:["(",o.length,")"]})]})]})},$n=({value:e,onChange:t,sampleGroup:n,watch:r,sampleGrouped:a})=>{const[o,l]=c.useState(),s=T.useFormInstance(),i=T.useWatch(r,s);c.useEffect(()=>{l(i)},[i]);const u=d=>{const m=Object.entries(a||{}).filter(([x])=>d.includes(x)).flatMap(([,x])=>x);t(m)};return c.useEffect(()=>{o&&u(o)},[o]),E.jsxs(E.Fragment,{children:[E.jsx(Ke,{showSearch:!0,filterOption:(d,m)=>((m==null?void 0:m.label)??"").toLowerCase().includes(d.toLowerCase()),mode:"multiple",value:e,onChange:t,options:n}),e&&E.jsxs(E.Fragment,{children:["A total of ",e.length," samples were selected"]})]})},En=({value:e,onChange:t,sampleGrouped:n})=>{const r=a=>{if((e||[]).includes(a)){const o=(e||[]).filter(l=>!l.includes(a));t(o)}else{const o=[...e||[],a];t(o)}};return E.jsx(E.Fragment,{children:E.jsx(bt,{gap:"small",children:Object.entries(n||{}).map(([a,o])=>E.jsx("span",{children:E.jsxs(rn,{size:"small",type:(e||[]).includes(a)?"primary":"dashed",onClick:()=>r(a),children:[a,"(",o.length,")"]})},a))})})};export{Ma as F};
