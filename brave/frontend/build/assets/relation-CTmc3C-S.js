import{r as n,d as b,j as t,g as R,P as w,a as u,aq as C}from"./main-BFdXSxSk.js";import{C as S}from"./index-Bu_8sAQb.js";import{R as E}from"./DeleteOutlined-ZGsgJzFv.js";import{a as F}from"./index-vwSh_oOK.js";import"./index-u54hlnBP.js";import"./Dropdown-CjWuFlcv.js";import"./usePagination-D-1FogKP.js";import"./Table-CAzGvc6L.js";import"./addEventListener-CGGMUWeS.js";import"./index-CrFRXVOt.js";import"./index-U2Qux_ly.js";import"./index-B8u-5pkT.js";import"./index-KokPGa7l.js";const Y=({close:l,height:y,data:o,loadGraph:$,...i})=>{var c,x;const[e,j]=n.useState(),[s,d]=n.useState(!1),{messageApi:h}=b(),f=async()=>{var g,r;d(!0);const N=await u.get(`/entity-relation/find-by-paired-entity/${(g=o==null?void 0:o.fromNode)==null?void 0:g.id}/${(r=o==null?void 0:o.toNode)==null?void 0:r.id}`);j(N.data),d(!1)};return n.useEffect(()=>{o!=null&&o.fromNode&&(o!=null&&o.toNode)&&f()},[o==null?void 0:o.fromNode,o==null?void 0:o.toNode]),t.jsx(S,{loading:s,styles:{body:{padding:"0.5rem",height:"100%",overflowY:"auto"}},title:t.jsx(t.Fragment,{children:`${i==null?void 0:i.label} (${(c=o==null?void 0:o.fromNode)==null?void 0:c.label})->(${(x=o==null?void 0:o.toNode)==null?void 0:x.label})`}),size:"small",extra:t.jsx(t.Fragment,{children:t.jsxs(R,{gap:"small",children:[t.jsx(w,{title:`删除(${e==null?void 0:e.from_name})-[${e==null?void 0:e.type}]-(${e==null?void 0:e.to_name})?`,onConfirm:async()=>{await u.delete(`/entity-relation/relation/${e.rid}`),h.success("删除成功"),l(),$()},children:t.jsx(E,{})}),t.jsx(F,{onClick:f}),t.jsx(C,{onClick:l})]})}),style:{borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",padding:"0.5rem",overflow:"hidden",height:y},children:JSON.stringify(e)})};export{Y as default};
