import{r as n,d as b,j as t,g as R,P as w,a as y,aq as C}from"./main-ros2QGKm.js";import{C as S}from"./index-Cv8Q4of7.js";import{R as E}from"./DeleteOutlined-Br0pjbOS.js";import{a as F}from"./study-page-DT_vo25J.js";import"./index-D5vn_t3p.js";import"./Dropdown-DARokWAg.js";import"./usePagination-D9z51lYh.js";import"./Table-ga7Owivr.js";import"./addEventListener-C-rMQDad.js";import"./index-ClzmiFXE.js";import"./index-CPADW9qu.js";const L=({close:l,height:$,data:e,loadGraph:j,...i})=>{var c,x;const[o,r]=n.useState(),[s,d]=n.useState(!1),{messageApi:h}=b(),f=async()=>{var g,u;d(!0);const N=await y.get(`/entity-relation/find-by-paired-entity/${(g=e==null?void 0:e.fromNode)==null?void 0:g.id}/${(u=e==null?void 0:e.toNode)==null?void 0:u.id}`);r(N.data),d(!1)};return n.useEffect(()=>{e!=null&&e.fromNode&&(e!=null&&e.toNode)&&f()},[e==null?void 0:e.fromNode,e==null?void 0:e.toNode]),t.jsx(S,{loading:s,styles:{body:{padding:"0.5rem",height:"100%",overflowY:"auto"}},title:t.jsx(t.Fragment,{children:`${i==null?void 0:i.label} (${(c=e==null?void 0:e.fromNode)==null?void 0:c.label})->(${(x=e==null?void 0:e.toNode)==null?void 0:x.label})`}),size:"small",extra:t.jsx(t.Fragment,{children:t.jsxs(R,{gap:"small",children:[t.jsx(w,{title:`删除(${o==null?void 0:o.from_name})-[${o==null?void 0:o.type}]-(${o==null?void 0:o.to_name})?`,onConfirm:async()=>{await y.delete(`/entity-relation/relation/${o.rid}`),h.success("删除成功"),l(),j()},children:t.jsx(E,{})}),t.jsx(F,{onClick:f}),t.jsx(C,{onClick:l})]})}),style:{borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",padding:"0.5rem",overflow:"hidden",height:$},children:JSON.stringify(o)})};export{L as default};
