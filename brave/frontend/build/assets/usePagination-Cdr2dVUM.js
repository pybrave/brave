import{r as t,a as k}from"./main-gLSsR9RJ.js";const N=({url:o,pageApi:l,params:r,map:u,initialPageSize:p=12})=>{const[y,f]=t.useState([]),[a,n]=t.useState(1),[S,m]=t.useState(0),[w,g]=t.useState(!1),[c]=t.useState(p),[i,b]=t.useState(""),h=s=>{b(s),n(1)},d=async s=>{g(!0);try{let e;o?e=await k.post(o,{...r,page_number:s,page_size:c,keywords:i||void 0}):e=await l({...r,page_number:s,page_size:c,keywords:i||void 0});const{items:P,total:_,...x}=e.data;u?(e.data=P.map(u),f(e.data)):f(e.data.items),m(_)}catch(e){console.error("Error fetching data:",e)}finally{g(!1)}},E=()=>{d(a)};return t.useEffect(()=>{d(1),n(1)},[o,JSON.stringify(r)]),t.useEffect(()=>{d(a)},[a,i]),{data:y,pageNumber:a,totalPage:S,loading:w,setPageNumber:n,pageSize:c,reload:E,search:h}};export{N as u};
