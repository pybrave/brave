import{r as h,v as F,_ as O,ag as K,aN as R,ad as B,O as q,ae as P,bj as H,Z as V,$ as G,a0 as J,a1 as b,a2 as Q,bs as Y,X as Z,aX as U,a6 as ee,aY as ne,bm as te,bS as ie,u as D,e as ae,j as s,g as E,S as le,I as ce,o as N,aq as oe,B as re}from"./main-DXb8rb93.js";import{u as se}from"./usePagination-gn6S2hbC.js";import{F as de}from"./Table-Dop9r612.js";import{P as he}from"./index-BaWKjIxw.js";import{R as ge}from"./PlusCircleOutlined-CRNzBXNP.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},me=function(n,l){return h.createElement(F,O({},n,{ref:l,icon:ue}))},Se=h.forwardRef(me),$e=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],T=h.forwardRef(function(e,n){var l,t=e.prefixCls,c=t===void 0?"rc-switch":t,r=e.className,d=e.checked,a=e.defaultChecked,i=e.disabled,o=e.loadingIcon,g=e.checkedChildren,u=e.unCheckedChildren,v=e.onClick,C=e.onChange,y=e.onKeyDown,M=K(e,$e),w=R(!1,{value:d,defaultValue:a}),p=B(w,2),I=p[0],S=p[1];function x(m,z){var k=I;return i||(k=m,S(k),C==null||C(k,z)),k}function j(m){m.which===H.LEFT?x(!1,m):m.which===H.RIGHT&&x(!0,m),y==null||y(m)}function $(m){var z=x(!I,m);v==null||v(z,m)}var f=q(c,r,(l={},P(l,"".concat(c,"-checked"),I),P(l,"".concat(c,"-disabled"),i),l));return h.createElement("button",O({},M,{type:"button",role:"switch","aria-checked":I,disabled:i,className:f,ref:n,onKeyDown:j,onClick:$}),o,h.createElement("span",{className:"".concat(c,"-inner")},h.createElement("span",{className:"".concat(c,"-inner-checked")},g),h.createElement("span",{className:"".concat(c,"-inner-unchecked")},u)))});T.displayName="Switch";const Ce=e=>{const{componentCls:n,trackHeightSM:l,trackPadding:t,trackMinWidthSM:c,innerMinMarginSM:r,innerMaxMarginSM:d,handleSizeSM:a,calc:i}=e,o=`${n}-inner`,g=b(i(a).add(i(t).mul(2)).equal()),u=b(i(d).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:c,height:l,lineHeight:b(l),[`${n}-inner`]:{paddingInlineStart:d,paddingInlineEnd:r,[`${o}-checked, ${o}-unchecked`]:{minHeight:l},[`${o}-checked`]:{marginInlineStart:`calc(-100% + ${g} - ${u})`,marginInlineEnd:`calc(100% - ${g} + ${u})`},[`${o}-unchecked`]:{marginTop:i(l).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:a,height:a},[`${n}-loading-icon`]:{top:i(i(a).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:r,paddingInlineEnd:d,[`${o}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${o}-unchecked`]:{marginInlineStart:`calc(100% - ${g} + ${u})`,marginInlineEnd:`calc(-100% + ${g} - ${u})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${b(i(a).add(t).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${o}`]:{[`${o}-unchecked`]:{marginInlineStart:i(e.marginXXS).div(2).equal(),marginInlineEnd:i(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${o}`]:{[`${o}-checked`]:{marginInlineStart:i(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:i(e.marginXXS).div(2).equal()}}}}}}},ye=e=>{const{componentCls:n,handleSize:l,calc:t}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:t(t(l).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},fe=e=>{const{componentCls:n,trackPadding:l,handleBg:t,handleShadow:c,handleSize:r,calc:d}=e,a=`${n}-handle`;return{[n]:{[a]:{position:"absolute",top:l,insetInlineStart:l,width:r,height:r,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t,borderRadius:d(r).div(2).equal(),boxShadow:c,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${a}`]:{insetInlineStart:`calc(100% - ${b(d(r).add(l).equal())})`},[`&:not(${n}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Ie=e=>{const{componentCls:n,trackHeight:l,trackPadding:t,innerMinMargin:c,innerMaxMargin:r,handleSize:d,calc:a}=e,i=`${n}-inner`,o=b(a(d).add(a(t).mul(2)).equal()),g=b(a(r).mul(2).equal());return{[n]:{[i]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:r,paddingInlineEnd:c,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${i}-checked, ${i}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:l},[`${i}-checked`]:{marginInlineStart:`calc(-100% + ${o} - ${g})`,marginInlineEnd:`calc(100% - ${o} + ${g})`},[`${i}-unchecked`]:{marginTop:a(l).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${i}`]:{paddingInlineStart:c,paddingInlineEnd:r,[`${i}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${i}-unchecked`]:{marginInlineStart:`calc(100% - ${o} + ${g})`,marginInlineEnd:`calc(-100% + ${o} - ${g})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${i}`]:{[`${i}-unchecked`]:{marginInlineStart:a(t).mul(2).equal(),marginInlineEnd:a(t).mul(-1).mul(2).equal()}},[`&${n}-checked ${i}`]:{[`${i}-checked`]:{marginInlineStart:a(t).mul(-1).mul(2).equal(),marginInlineEnd:a(t).mul(2).equal()}}}}}},be=e=>{const{componentCls:n,trackHeight:l,trackMinWidth:t}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},J(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t,height:l,lineHeight:b(l),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Q(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},ve=e=>{const{fontSize:n,lineHeight:l,controlHeight:t,colorWhite:c}=e,r=n*l,d=t/2,a=2,i=r-a*2,o=d-a*2;return{trackHeight:r,trackHeightSM:d,trackMinWidth:i*2+a*4,trackMinWidthSM:o*2+a*2,trackPadding:a,handleBg:c,handleSize:i,handleSizeSM:o,handleShadow:`0 2px 4px 0 ${new Y("#00230b").setA(.2).toRgbString()}`,innerMinMargin:i/2,innerMaxMargin:i+a+a*2,innerMinMarginSM:o/2,innerMaxMarginSM:o+a+a*2}},we=V("Switch",e=>{const n=G(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[be(n),Ie(n),fe(n),ye(n),Ce(n)]},ve);var pe=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(e);c<t.length;c++)n.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(e,t[c])&&(l[t[c]]=e[t[c]]);return l};const xe=h.forwardRef((e,n)=>{const{prefixCls:l,size:t,disabled:c,loading:r,className:d,rootClassName:a,style:i,checked:o,value:g,defaultChecked:u,defaultValue:v,onChange:C}=e,y=pe(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[M,w]=R(!1,{value:o??g,defaultValue:u??v}),{getPrefixCls:p,direction:I,switch:S}=h.useContext(Z),x=h.useContext(U),j=(c??x)||r,$=p("switch",l),f=h.createElement("div",{className:`${$}-handle`},r&&h.createElement(te,{className:`${$}-loading-icon`})),[m,z,k]=we($),A=ee(t),W=q(S==null?void 0:S.className,{[`${$}-small`]:A==="small",[`${$}-loading`]:r,[`${$}-rtl`]:I==="rtl"},d,a,z,k),L=Object.assign(Object.assign({},S==null?void 0:S.style),i),X=function(){w(arguments.length<=0?void 0:arguments[0]),C==null||C.apply(void 0,arguments)};return m(h.createElement(ne,{component:"Switch"},h.createElement(T,Object.assign({},y,{checked:M,onChange:X,prefixCls:$,className:W,style:L,disabled:j,ref:n,loadingIcon:f}))))}),_=xe;_.__ANT_SWITCH=!0;const ke=h.forwardRef(({rowSelection:e,openModal:n,api:l,params:t,close:c,columns:r,hiddenSwitch:d=!1},a)=>{const[i,o]=h.useState(!d),{locale:g}=ie(),[u]=h.useState(30),{data:v,pageNumber:C,totalPage:y,loading:M,reload:w,pageSize:p,setPageSize:I,setPageNumber:S,search:x}=se({url:l,initialPageSize:u,params:{...t,is_research:i,locale:g}});h.useImperativeHandle(a,()=>({reload:w,setPageNumber:S})),D();const{messageApi:j}=ae(),$=h.useMemo(()=>r({openModal:n,reload:w,messageApi:j}),[t==null?void 0:t.category]);return s.jsx("div",{children:s.jsx(de,{title:()=>s.jsxs(E,{justify:"space-between",children:[s.jsxs(E,{gap:"small",align:"center",children:[!d&&s.jsx(_,{value:i,onChange:o,checkedChildren:"filter",unCheckedChildren:"all",size:"small",defaultChecked:!0}),s.jsx(ce.Search,{size:"small",placeholder:"search...",allowClear:!0,enterButton:!0,onSearch:f=>{x(f)},style:{width:300}})]}),s.jsxs(E,{gap:"small",children:[s.jsx(N,{title:"create",children:s.jsx(ge,{onClick:()=>{t!=null&&t.category&&(t!=null&&t.registry_join)?n("optModal",{entityType:"mesh",category:t==null?void 0:t.category,registryJoin:t==null?void 0:t.registry_join}):t!=null&&t.category?n("optModal",{entityType:"mesh",category:t==null?void 0:t.category}):n("optModal",{entityType:"mesh"})}})}),s.jsx(N,{title:"refresh",children:s.jsx(Se,{onClick:()=>w()})}),c&&s.jsx(oe,{onClick:c})]})]}),rowSelection:e,rowKey:f=>f.entity_id,size:"small",bordered:!0,pagination:!1,loading:M,scroll:{x:"max-content"},columns:$,dataSource:v,footer:()=>s.jsx(s.Fragment,{children:y!=0&&s.jsxs(E,{style:{marginTop:"1rem"},align:"center",gap:"small",children:[s.jsxs("p",{children:["A total of ",y," data "]}),s.jsx(he,{size:"small",current:C,pageSize:p,total:y,onChange:f=>S(f),showSizeChanger:!1}),s.jsx(le,{size:"small",value:p,onChange:I,options:[{key:10,value:10},{key:30,value:30},{key:50,value:50}]})]})})})})}),Me=()=>[{title:"entity_id",dataIndex:"entity_id",key:"taxonomy_id"},{title:"entity_name",dataIndex:"entity_name",key:"entity_name"},{title:"title",dataIndex:"title",key:"title"}],je=(e,n,l,t)=>[{title:"操作",key:"action",fixed:"right",width:200,render:(c,r)=>s.jsx(s.Fragment,{children:s.jsx(re,{size:"small",color:"cyan",variant:"solid",onClick:()=>{t(`/mining-data/${r.entity_id}`)},children:"mining"})})}],Oe=h.forwardRef(({rowSelection:e,openModal:n,params:l,close:t,hiddenSwitch:c=!1},r)=>{const d=D();return s.jsx("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:s.jsx(ke,{rowSelection:e,columns:({openModal:a,reload:i,messageApi:o})=>{const g=Me(),u=je(a,i,o,d);return[...g,...u]},hiddenSwitch:!0,ref:r,api:"/entity/page/study",openModal:()=>{},close:t})})});export{ke as D,Se as R,_ as S,Oe as a};
