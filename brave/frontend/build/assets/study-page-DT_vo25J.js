import{r as i,v as S,_ as w,cg as O,f as z,d as T,j as t,g as d,S as p,I as B,o as C,aq as F,B as $}from"./main-ros2QGKm.js";import{u as A}from"./usePagination-D9z51lYh.js";import{F as E}from"./Table-ga7Owivr.js";import{P as H}from"./index-ClzmiFXE.js";import{S as N}from"./index-CPADW9qu.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},V=function(n,l){return i.createElement(S,w({},n,{ref:l,icon:D}))},q=i.forwardRef(V),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},K=function(n,l){return i.createElement(S,w({},n,{ref:l,icon:J}))},L=i.forwardRef(K);const W=i.forwardRef(({rowSelection:o,openModal:n,api:l,params:e,close:c,columns:s,hiddenSwitch:u=!1},g)=>{const[r,h]=i.useState(!0),{locale:y}=O(),[x]=i.useState(30),{data:k,pageNumber:R,totalPage:f,loading:_,reload:j,pageSize:v,setPageSize:P,setPageNumber:m,search:I}=A({url:l,initialPageSize:x,params:{...e,is_research:r,locale:y}});i.useImperativeHandle(g,()=>({reload:j,setPageNumber:m})),z();const{messageApi:M}=T(),b=i.useMemo(()=>s({openModal:n,reload:j,messageApi:M}),[e==null?void 0:e.category]);return t.jsx("div",{children:t.jsx(E,{title:()=>t.jsxs(d,{justify:"space-between",children:[t.jsxs(d,{gap:"small",align:"center",children:[!u&&t.jsx(N,{value:r,onChange:h,checkedChildren:"filter",unCheckedChildren:"all",size:"small",defaultChecked:!0}),t.jsx(B.Search,{size:"small",placeholder:"search...",allowClear:!0,enterButton:!0,onSearch:a=>{I(a)},style:{width:300}})]}),t.jsxs(d,{gap:"small",children:[t.jsx(C,{title:"create",children:t.jsx(q,{onClick:()=>{e!=null&&e.category&&(e!=null&&e.registry_join)?n("optModal",{entityType:"mesh",category:e==null?void 0:e.category,registryJoin:e==null?void 0:e.registry_join}):e!=null&&e.category?n("optModal",{entityType:"mesh",category:e==null?void 0:e.category}):n("optModal",{entityType:"mesh"})}})}),t.jsx(C,{title:"refresh",children:t.jsx(L,{onClick:()=>j()})}),c&&t.jsx(F,{onClick:c})]})]}),rowSelection:o,rowKey:a=>a.entity_id,size:"small",bordered:!0,pagination:!1,loading:_,scroll:{x:"max-content"},columns:b,dataSource:k,footer:()=>t.jsx(t.Fragment,{children:f!=0&&t.jsxs(d,{style:{marginTop:"1rem"},align:"center",gap:"small",children:[t.jsxs("p",{children:["A total of ",f," data "]}),t.jsx(H,{size:"small",current:R,pageSize:v,total:f,onChange:a=>m(a),showSizeChanger:!1}),t.jsx(p,{size:"small",value:v,onChange:P,options:[{key:10,value:10},{key:30,value:30},{key:50,value:50}]})]})})})})}),G=()=>[{title:"entity_id",dataIndex:"entity_id",key:"taxonomy_id"},{title:"entity_name",dataIndex:"entity_name",key:"entity_name"},{title:"title",dataIndex:"title",key:"title"}],Q=(o,n,l,e)=>[{title:"操作",key:"action",fixed:"right",width:200,render:(c,s)=>t.jsx(t.Fragment,{children:t.jsx($,{size:"small",color:"cyan",variant:"solid",onClick:()=>{e(`/mining-data/${s.entity_id}`)},children:"mining"})})}],te=i.forwardRef(({rowSelection:o,openModal:n,params:l,close:e,hiddenSwitch:c=!1},s)=>{const u=z();return t.jsx("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:t.jsx(W,{rowSelection:o,columns:({openModal:g,reload:r,messageApi:h})=>{const y=G(),x=Q(g,r,h,u);return[...y,...x]},hiddenSwitch:!0,ref:s,api:"/entity/page/study",openModal:()=>{},close:e})})});export{W as D,q as R,te as S,L as a};
