import{ai as Xu,cv as mW,k as bW,l as _W,r as wW,j as NP}from"./main-Bw4HDwdl.js";import{r as OW}from"./index-Chjiymov.js";var OI={},FP={},iM;function EW(){return iM||(iM=1,function(b){b.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},b.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},b.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},b.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},b.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},b.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},b.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},b.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},b.realToAlias=function(){var S=Object.prototype.hasOwnProperty,m=b.aliasToReal,O={};for(var E in m){var T=m[E];S.call(O,T)?O[T].push(E):O[T]=[E]}return O}(),b.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},b.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},b.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}}(FP)),FP}var LP,nM;function TF(){return nM||(nM=1,LP={}),LP}var BP,oM;function SW(){if(oM)return BP;oM=1;var b=EW(),S=TF(),m=Array.prototype.push;function O(U,K){return K==2?function(V,Y){return U.apply(void 0,arguments)}:function(V){return U.apply(void 0,arguments)}}function E(U,K){return K==2?function(V,Y){return U(V,Y)}:function(V){return U(V)}}function T(U){for(var K=U?U.length:0,V=Array(K);K--;)V[K]=U[K];return V}function $(U){return function(K){return U({},K)}}function F(U,K){return function(){for(var V=arguments.length,Y=V-1,Z=Array(V);V--;)Z[V]=arguments[V];var se=Z[K],ne=Z.slice(0,K);return se&&m.apply(ne,se),K!=Y&&m.apply(ne,Z.slice(K+1)),U.apply(this,ne)}}function j(U,K){return function(){var V=arguments.length;if(V){for(var Y=Array(V);V--;)Y[V]=arguments[V];var Z=Y[0]=K.apply(void 0,Y);return U.apply(void 0,Y),Z}}}function B(U,K,V,Y){var Z=typeof K=="function",se=K===Object(K);if(se&&(Y=V,V=K,K=void 0),V==null)throw new TypeError;Y||(Y={});var ne={cap:"cap"in Y?Y.cap:!0,curry:"curry"in Y?Y.curry:!0,fixed:"fixed"in Y?Y.fixed:!0,immutable:"immutable"in Y?Y.immutable:!0,rearg:"rearg"in Y?Y.rearg:!0},_e=Z?V:S,le="curry"in Y&&Y.curry,ie="fixed"in Y&&Y.fixed,te="rearg"in Y&&Y.rearg,we=Z?V.runInContext():void 0,oe=Z?V:{ary:U.ary,assign:U.assign,clone:U.clone,curry:U.curry,forEach:U.forEach,isArray:U.isArray,isError:U.isError,isFunction:U.isFunction,isWeakMap:U.isWeakMap,iteratee:U.iteratee,keys:U.keys,rearg:U.rearg,toInteger:U.toInteger,toPath:U.toPath},ee=oe.ary,Te=oe.assign,he=oe.clone,Ae=oe.curry,xe=oe.forEach,Ve=oe.isArray,it=oe.isError,Ze=oe.isFunction,Fe=oe.isWeakMap,je=oe.keys,et=oe.rearg,Ue=oe.toInteger,dt=oe.toPath,ft=je(b.aryMethod),gt={castArray:function(fe){return function(){var ve=arguments[0];return Ve(ve)?fe(T(ve)):fe.apply(void 0,arguments)}},iteratee:function(fe){return function(){var ve=arguments[0],ae=arguments[1],$e=fe(ve,ae),Le=$e.length;return ne.cap&&typeof ae=="number"?(ae=ae>2?ae-2:1,Le&&Le<=ae?$e:E($e,ae)):$e}},mixin:function(fe){return function(ve){var ae=this;if(!Ze(ae))return fe(ae,Object(ve));var $e=[];return xe(je(ve),function(Le){Ze(ve[Le])&&$e.push([Le,ae.prototype[Le]])}),fe(ae,Object(ve)),xe($e,function(Le){var Xt=Le[1];Ze(Xt)?ae.prototype[Le[0]]=Xt:delete ae.prototype[Le[0]]}),ae}},nthArg:function(fe){return function(ve){var ae=ve<0?1:Ue(ve)+1;return Ae(fe(ve),ae)}},rearg:function(fe){return function(ve,ae){var $e=ae?ae.length:0;return Ae(fe(ve,ae),$e)}},runInContext:function(fe){return function(ve){return B(U,fe(ve),Y)}}};function rn(fe,ve){if(ne.cap){var ae=b.iterateeRearg[fe];if(ae)return nn(ve,ae);var $e=!Z&&b.iterateeAry[fe];if($e)return Sr(ve,$e)}return ve}function ur(fe,ve,ae){return le||ne.curry&&ae>1?Ae(ve,ae):ve}function ut(fe,ve,ae){if(ne.fixed&&(ie||!b.skipFixed[fe])){var $e=b.methodSpread[fe],Le=$e&&$e.start;return Le===void 0?ee(ve,ae):F(ve,Le)}return ve}function Ft(fe,ve,ae){return ne.rearg&&ae>1&&(te||!b.skipRearg[fe])?et(ve,b.methodRearg[fe]||b.aryRearg[ae]):ve}function Or(fe,ve){ve=dt(ve);for(var ae=-1,$e=ve.length,Le=$e-1,Xt=he(Object(fe)),pt=Xt;pt!=null&&++ae<$e;){var Ie=ve[ae],ze=pt[Ie];ze!=null&&!(Ze(ze)||it(ze)||Fe(ze))&&(pt[Ie]=he(ae==Le?ze:Object(ze))),pt=pt[Ie]}return Xt}function Er(fe){return _t.runInContext.convert(fe)(void 0)}function Vn(fe,ve){var ae=b.aliasToReal[fe]||fe,$e=b.remap[ae]||ae,Le=Y;return function(Xt){var pt=Z?we:oe,Ie=Z?we[$e]:ve,ze=Te(Te({},Le),Xt);return B(pt,ae,Ie,ze)}}function Sr(fe,ve){return Ti(fe,function(ae){return typeof ae=="function"?E(ae,ve):ae})}function nn(fe,ve){return Ti(fe,function(ae){var $e=ve.length;return O(et(E(ae,$e),ve),$e)})}function Ti(fe,ve){return function(){var ae=arguments.length;if(!ae)return fe();for(var $e=Array(ae);ae--;)$e[ae]=arguments[ae];var Le=ne.rearg?0:ae-1;return $e[Le]=ve($e[Le]),fe.apply(void 0,$e)}}function vr(fe,ve,ae){var $e,Le=b.aliasToReal[fe]||fe,Xt=ve,pt=gt[Le];return pt?Xt=pt(ve):ne.immutable&&(b.mutate.array[Le]?Xt=j(ve,T):b.mutate.object[Le]?Xt=j(ve,$(ve)):b.mutate.set[Le]&&(Xt=j(ve,Or))),xe(ft,function(Ie){return xe(b.aryMethod[Ie],function(ze){if(Le==ze){var ei=b.methodSpread[Le],_n=ei&&ei.afterRearg;return $e=_n?ut(Le,Ft(Le,Xt,Ie),Ie):Ft(Le,ut(Le,Xt,Ie),Ie),$e=rn(Le,$e),$e=ur(Le,$e,Ie),!1}}),!$e}),$e||($e=Xt),$e==ve&&($e=le?Ae($e,1):function(){return ve.apply(this,arguments)}),$e.convert=Vn(Le,ve),$e.placeholder=ve.placeholder=ae,$e}if(!se)return vr(K,V,_e);var _t=V,xi=[];return xe(ft,function(fe){xe(b.aryMethod[fe],function(ve){var ae=_t[b.remap[ve]||ve];ae&&xi.push([ve,vr(ve,ae,_t)])})}),xe(je(_t),function(fe){var ve=_t[fe];if(typeof ve=="function"){for(var ae=xi.length;ae--;)if(xi[ae][0]==fe)return;ve.convert=Vn(fe,ve),xi.push([fe,ve])}}),xe(xi,function(fe){_t[fe[0]]=fe[1]}),_t.convert=Er,_t.placeholder=_t,xe(je(_t),function(fe){xe(b.realToAlias[fe]||[],function(ve){_t[ve]=_t[fe]})}),_t}return BP=B,BP}var zP,sM;function SI(){if(sM)return zP;sM=1;function b(S){return S}return zP=b,zP}var qP,aM;function xF(){if(aM)return qP;aM=1;var b=typeof Xu=="object"&&Xu&&Xu.Object===Object&&Xu;return qP=b,qP}var WP,uM;function Un(){if(uM)return WP;uM=1;var b=xF(),S=typeof self=="object"&&self&&self.Object===Object&&self,m=b||S||Function("return this")();return WP=m,WP}var HP,lM;function G1(){if(lM)return HP;lM=1;var b=Un(),S=b.Symbol;return HP=S,HP}var UP,cM;function TW(){if(cM)return UP;cM=1;var b=G1(),S=Object.prototype,m=S.hasOwnProperty,O=S.toString,E=b?b.toStringTag:void 0;function T($){var F=m.call($,E),j=$[E];try{$[E]=void 0;var B=!0}catch{}var U=O.call($);return B&&(F?$[E]=j:delete $[E]),U}return UP=T,UP}var GP,hM;function xW(){if(hM)return GP;hM=1;var b=Object.prototype,S=b.toString;function m(O){return S.call(O)}return GP=m,GP}var VP,dM;function Mm(){if(dM)return VP;dM=1;var b=G1(),S=TW(),m=xW(),O="[object Null]",E="[object Undefined]",T=b?b.toStringTag:void 0;function $(F){return F==null?F===void 0?E:O:T&&T in Object(F)?S(F):m(F)}return VP=$,VP}var KP,fM;function fs(){if(fM)return KP;fM=1;function b(S){var m=typeof S;return S!=null&&(m=="object"||m=="function")}return KP=b,KP}var YP,pM;function TI(){if(pM)return YP;pM=1;var b=Mm(),S=fs(),m="[object AsyncFunction]",O="[object Function]",E="[object GeneratorFunction]",T="[object Proxy]";function $(F){if(!S(F))return!1;var j=b(F);return j==O||j==E||j==m||j==T}return YP=$,YP}var XP,vM;function IW(){if(vM)return XP;vM=1;var b=Un(),S=b["__core-js_shared__"];return XP=S,XP}var JP,gM;function PW(){if(gM)return JP;gM=1;var b=IW(),S=function(){var O=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}();function m(O){return!!S&&S in O}return JP=m,JP}var QP,yM;function IF(){if(yM)return QP;yM=1;var b=Function.prototype,S=b.toString;function m(O){if(O!=null){try{return S.call(O)}catch{}try{return O+""}catch{}}return""}return QP=m,QP}var ZP,mM;function CW(){if(mM)return ZP;mM=1;var b=TI(),S=PW(),m=fs(),O=IF(),E=/[\\^$.*+?()[\]{}|]/g,T=/^\[object .+?Constructor\]$/,$=Function.prototype,F=Object.prototype,j=$.toString,B=F.hasOwnProperty,U=RegExp("^"+j.call(B).replace(E,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K(V){if(!m(V)||S(V))return!1;var Y=b(V)?U:T;return Y.test(O(V))}return ZP=K,ZP}var eC,bM;function AW(){if(bM)return eC;bM=1;function b(S,m){return S==null?void 0:S[m]}return eC=b,eC}var tC,_M;function jm(){if(_M)return tC;_M=1;var b=CW(),S=AW();function m(O,E){var T=S(O,E);return b(T)?T:void 0}return tC=m,tC}var rC,wM;function PF(){if(wM)return rC;wM=1;var b=jm(),S=Un(),m=b(S,"WeakMap");return rC=m,rC}var iC,OM;function CF(){if(OM)return iC;OM=1;var b=PF(),S=b&&new b;return iC=S,iC}var nC,EM;function AF(){if(EM)return nC;EM=1;var b=SI(),S=CF(),m=S?function(O,E){return S.set(O,E),O}:b;return nC=m,nC}var oC,SM;function xI(){if(SM)return oC;SM=1;var b=fs(),S=Object.create,m=function(){function O(){}return function(E){if(!b(E))return{};if(S)return S(E);O.prototype=E;var T=new O;return O.prototype=void 0,T}}();return oC=m,oC}var sC,TM;function II(){if(TM)return sC;TM=1;var b=xI(),S=fs();function m(O){return function(){var E=arguments;switch(E.length){case 0:return new O;case 1:return new O(E[0]);case 2:return new O(E[0],E[1]);case 3:return new O(E[0],E[1],E[2]);case 4:return new O(E[0],E[1],E[2],E[3]);case 5:return new O(E[0],E[1],E[2],E[3],E[4]);case 6:return new O(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new O(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var T=b(O.prototype),$=O.apply(T,E);return S($)?$:T}}return sC=m,sC}var aC,xM;function RW(){if(xM)return aC;xM=1;var b=II(),S=Un(),m=1;function O(E,T,$){var F=T&m,j=b(E);function B(){var U=this&&this!==S&&this instanceof B?j:E;return U.apply(F?$:this,arguments)}return B}return aC=O,aC}var uC,IM;function PI(){if(IM)return uC;IM=1;function b(S,m,O){switch(O.length){case 0:return S.call(m);case 1:return S.call(m,O[0]);case 2:return S.call(m,O[0],O[1]);case 3:return S.call(m,O[0],O[1],O[2])}return S.apply(m,O)}return uC=b,uC}var lC,PM;function RF(){if(PM)return lC;PM=1;var b=Math.max;function S(m,O,E,T){for(var $=-1,F=m.length,j=E.length,B=-1,U=O.length,K=b(F-j,0),V=Array(U+K),Y=!T;++B<U;)V[B]=O[B];for(;++$<j;)(Y||$<F)&&(V[E[$]]=m[$]);for(;K--;)V[B++]=m[$++];return V}return lC=S,lC}var cC,CM;function kF(){if(CM)return cC;CM=1;var b=Math.max;function S(m,O,E,T){for(var $=-1,F=m.length,j=-1,B=E.length,U=-1,K=O.length,V=b(F-B,0),Y=Array(V+K),Z=!T;++$<V;)Y[$]=m[$];for(var se=$;++U<K;)Y[se+U]=O[U];for(;++j<B;)(Z||$<F)&&(Y[se+E[j]]=m[$++]);return Y}return cC=S,cC}var hC,AM;function kW(){if(AM)return hC;AM=1;function b(S,m){for(var O=S.length,E=0;O--;)S[O]===m&&++E;return E}return hC=b,hC}var dC,RM;function i$(){if(RM)return dC;RM=1;function b(){}return dC=b,dC}var fC,kM;function n$(){if(kM)return fC;kM=1;var b=xI(),S=i$(),m=4294967295;function O(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}return O.prototype=b(S.prototype),O.prototype.constructor=O,fC=O,fC}var pC,$M;function $W(){if($M)return pC;$M=1;function b(){}return pC=b,pC}var vC,DM;function $F(){if(DM)return vC;DM=1;var b=CF(),S=$W(),m=b?function(O){return b.get(O)}:S;return vC=m,vC}var gC,MM;function DW(){if(MM)return gC;MM=1;var b={};return gC=b,gC}var yC,jM;function MW(){if(jM)return yC;jM=1;var b=DW(),S=Object.prototype,m=S.hasOwnProperty;function O(E){for(var T=E.name+"",$=b[T],F=m.call(b,T)?$.length:0;F--;){var j=$[F],B=j.func;if(B==null||B==E)return j.name}return T}return yC=O,yC}var mC,NM;function DF(){if(NM)return mC;NM=1;var b=xI(),S=i$();function m(O,E){this.__wrapped__=O,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=void 0}return m.prototype=b(S.prototype),m.prototype.constructor=m,mC=m,mC}var bC,FM;function Gn(){if(FM)return bC;FM=1;var b=Array.isArray;return bC=b,bC}var _C,LM;function ps(){if(LM)return _C;LM=1;function b(S){return S!=null&&typeof S=="object"}return _C=b,_C}var wC,BM;function Vx(){if(BM)return wC;BM=1;function b(S,m){var O=-1,E=S.length;for(m||(m=Array(E));++O<E;)m[O]=S[O];return m}return wC=b,wC}var OC,zM;function jW(){if(zM)return OC;zM=1;var b=n$(),S=DF(),m=Vx();function O(E){if(E instanceof b)return E.clone();var T=new S(E.__wrapped__,E.__chain__);return T.__actions__=m(E.__actions__),T.__index__=E.__index__,T.__values__=E.__values__,T}return OC=O,OC}var EC,qM;function NW(){if(qM)return EC;qM=1;var b=n$(),S=DF(),m=i$(),O=Gn(),E=ps(),T=jW(),$=Object.prototype,F=$.hasOwnProperty;function j(B){if(E(B)&&!O(B)&&!(B instanceof b)){if(B instanceof S)return B;if(F.call(B,"__wrapped__"))return T(B)}return new S(B)}return j.prototype=m.prototype,j.prototype.constructor=j,EC=j,EC}var SC,WM;function FW(){if(WM)return SC;WM=1;var b=n$(),S=$F(),m=MW(),O=NW();function E(T){var $=m(T),F=O[$];if(typeof F!="function"||!($ in b.prototype))return!1;if(T===F)return!0;var j=S(F);return!!j&&T===j[0]}return SC=E,SC}var TC,HM;function MF(){if(HM)return TC;HM=1;var b=800,S=16,m=Date.now;function O(E){var T=0,$=0;return function(){var F=m(),j=S-(F-$);if($=F,j>0){if(++T>=b)return arguments[0]}else T=0;return E.apply(void 0,arguments)}}return TC=O,TC}var xC,UM;function jF(){if(UM)return xC;UM=1;var b=AF(),S=MF(),m=S(b);return xC=m,xC}var IC,GM;function LW(){if(GM)return IC;GM=1;var b=/\{\n\/\* \[wrapped with (.+)\] \*/,S=/,? & /;function m(O){var E=O.match(b);return E?E[1].split(S):[]}return IC=m,IC}var PC,VM;function BW(){if(VM)return PC;VM=1;var b=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function S(m,O){var E=O.length;if(!E)return m;var T=E-1;return O[T]=(E>1?"& ":"")+O[T],O=O.join(E>2?", ":" "),m.replace(b,`{
/* [wrapped with `+O+`] */
`)}return PC=S,PC}var CC,KM;function zW(){if(KM)return CC;KM=1;function b(S){return function(){return S}}return CC=b,CC}var AC,YM;function NF(){if(YM)return AC;YM=1;var b=jm(),S=function(){try{var m=b(Object,"defineProperty");return m({},"",{}),m}catch{}}();return AC=S,AC}var RC,XM;function qW(){if(XM)return RC;XM=1;var b=zW(),S=NF(),m=SI(),O=S?function(E,T){return S(E,"toString",{configurable:!0,enumerable:!1,value:b(T),writable:!0})}:m;return RC=O,RC}var kC,JM;function o$(){if(JM)return kC;JM=1;var b=qW(),S=MF(),m=S(b);return kC=m,kC}var $C,QM;function s$(){if(QM)return $C;QM=1;function b(S,m){for(var O=-1,E=S==null?0:S.length;++O<E&&m(S[O],O,S)!==!1;);return S}return $C=b,$C}var DC,ZM;function WW(){if(ZM)return DC;ZM=1;function b(S,m,O,E){for(var T=S.length,$=O+(E?1:-1);E?$--:++$<T;)if(m(S[$],$,S))return $;return-1}return DC=b,DC}var MC,e2;function HW(){if(e2)return MC;e2=1;function b(S){return S!==S}return MC=b,MC}var jC,t2;function UW(){if(t2)return jC;t2=1;function b(S,m,O){for(var E=O-1,T=S.length;++E<T;)if(S[E]===m)return E;return-1}return jC=b,jC}var NC,r2;function GW(){if(r2)return NC;r2=1;var b=WW(),S=HW(),m=UW();function O(E,T,$){return T===T?m(E,T,$):b(E,S,$)}return NC=O,NC}var FC,i2;function a$(){if(i2)return FC;i2=1;var b=GW();function S(m,O){var E=m==null?0:m.length;return!!E&&b(m,O,0)>-1}return FC=S,FC}var LC,n2;function VW(){if(n2)return LC;n2=1;var b=s$(),S=a$(),m=1,O=2,E=8,T=16,$=32,F=64,j=128,B=256,U=512,K=[["ary",j],["bind",m],["bindKey",O],["curry",E],["curryRight",T],["flip",U],["partial",$],["partialRight",F],["rearg",B]];function V(Y,Z){return b(K,function(se){var ne="_."+se[0];Z&se[1]&&!S(Y,ne)&&Y.push(ne)}),Y.sort()}return LC=V,LC}var BC,o2;function FF(){if(o2)return BC;o2=1;var b=LW(),S=BW(),m=o$(),O=VW();function E(T,$,F){var j=$+"";return m(T,S(j,O(b(j),F)))}return BC=E,BC}var zC,s2;function LF(){if(s2)return zC;s2=1;var b=FW(),S=jF(),m=FF(),O=4,E=8,T=32,$=64;function F(j,B,U,K,V,Y,Z,se,ne,_e){var le=B&E,ie=le?Z:void 0,te=le?void 0:Z,we=le?Y:void 0,oe=le?void 0:Y;B|=le?T:$,B&=~(le?$:T),B&O||(B&=-4);var ee=[j,B,V,we,ie,oe,te,se,ne,_e],Te=U.apply(void 0,ee);return b(j)&&S(Te,ee),Te.placeholder=K,m(Te,j,B)}return zC=F,zC}var qC,a2;function BF(){if(a2)return qC;a2=1;function b(S){var m=S;return m.placeholder}return qC=b,qC}var WC,u2;function CI(){if(u2)return WC;u2=1;var b=9007199254740991,S=/^(?:0|[1-9]\d*)$/;function m(O,E){var T=typeof O;return E=E??b,!!E&&(T=="number"||T!="symbol"&&S.test(O))&&O>-1&&O%1==0&&O<E}return WC=m,WC}var HC,l2;function KW(){if(l2)return HC;l2=1;var b=Vx(),S=CI(),m=Math.min;function O(E,T){for(var $=E.length,F=m(T.length,$),j=b(E);F--;){var B=T[F];E[F]=S(B,$)?j[B]:void 0}return E}return HC=O,HC}var UC,c2;function u$(){if(c2)return UC;c2=1;var b="__lodash_placeholder__";function S(m,O){for(var E=-1,T=m.length,$=0,F=[];++E<T;){var j=m[E];(j===O||j===b)&&(m[E]=b,F[$++]=E)}return F}return UC=S,UC}var GC,h2;function zF(){if(h2)return GC;h2=1;var b=RF(),S=kF(),m=kW(),O=II(),E=LF(),T=BF(),$=KW(),F=u$(),j=Un(),B=1,U=2,K=8,V=16,Y=128,Z=512;function se(ne,_e,le,ie,te,we,oe,ee,Te,he){var Ae=_e&Y,xe=_e&B,Ve=_e&U,it=_e&(K|V),Ze=_e&Z,Fe=Ve?void 0:O(ne);function je(){for(var et=arguments.length,Ue=Array(et),dt=et;dt--;)Ue[dt]=arguments[dt];if(it)var ft=T(je),gt=m(Ue,ft);if(ie&&(Ue=b(Ue,ie,te,it)),we&&(Ue=S(Ue,we,oe,it)),et-=gt,it&&et<he){var rn=F(Ue,ft);return E(ne,_e,se,je.placeholder,le,Ue,rn,ee,Te,he-et)}var ur=xe?le:this,ut=Ve?ur[ne]:ne;return et=Ue.length,ee?Ue=$(Ue,ee):Ze&&et>1&&Ue.reverse(),Ae&&Te<et&&(Ue.length=Te),this&&this!==j&&this instanceof je&&(ut=Fe||O(ut)),ut.apply(ur,Ue)}return je}return GC=se,GC}var VC,d2;function YW(){if(d2)return VC;d2=1;var b=PI(),S=II(),m=zF(),O=LF(),E=BF(),T=u$(),$=Un();function F(j,B,U){var K=S(j);function V(){for(var Y=arguments.length,Z=Array(Y),se=Y,ne=E(V);se--;)Z[se]=arguments[se];var _e=Y<3&&Z[0]!==ne&&Z[Y-1]!==ne?[]:T(Z,ne);if(Y-=_e.length,Y<U)return O(j,B,m,V.placeholder,void 0,Z,_e,void 0,void 0,U-Y);var le=this&&this!==$&&this instanceof V?K:j;return b(le,this,Z)}return V}return VC=F,VC}var KC,f2;function XW(){if(f2)return KC;f2=1;var b=PI(),S=II(),m=Un(),O=1;function E(T,$,F,j){var B=$&O,U=S(T);function K(){for(var V=-1,Y=arguments.length,Z=-1,se=j.length,ne=Array(se+Y),_e=this&&this!==m&&this instanceof K?U:T;++Z<se;)ne[Z]=j[Z];for(;Y--;)ne[Z++]=arguments[++V];return b(_e,B?F:this,ne)}return K}return KC=E,KC}var YC,p2;function JW(){if(p2)return YC;p2=1;var b=RF(),S=kF(),m=u$(),O="__lodash_placeholder__",E=1,T=2,$=4,F=8,j=128,B=256,U=Math.min;function K(V,Y){var Z=V[1],se=Y[1],ne=Z|se,_e=ne<(E|T|j),le=se==j&&Z==F||se==j&&Z==B&&V[7].length<=Y[8]||se==(j|B)&&Y[7].length<=Y[8]&&Z==F;if(!(_e||le))return V;se&E&&(V[2]=Y[2],ne|=Z&E?0:$);var ie=Y[3];if(ie){var te=V[3];V[3]=te?b(te,ie,Y[4]):ie,V[4]=te?m(V[3],O):Y[4]}return ie=Y[5],ie&&(te=V[5],V[5]=te?S(te,ie,Y[6]):ie,V[6]=te?m(V[5],O):Y[6]),ie=Y[7],ie&&(V[7]=ie),se&j&&(V[8]=V[8]==null?Y[8]:U(V[8],Y[8])),V[9]==null&&(V[9]=Y[9]),V[0]=Y[0],V[1]=ne,V}return YC=K,YC}var XC,v2;function QW(){if(v2)return XC;v2=1;var b=/\s/;function S(m){for(var O=m.length;O--&&b.test(m.charAt(O)););return O}return XC=S,XC}var JC,g2;function ZW(){if(g2)return JC;g2=1;var b=QW(),S=/^\s+/;function m(O){return O&&O.slice(0,b(O)+1).replace(S,"")}return JC=m,JC}var QC,y2;function Kx(){if(y2)return QC;y2=1;var b=Mm(),S=ps(),m="[object Symbol]";function O(E){return typeof E=="symbol"||S(E)&&b(E)==m}return QC=O,QC}var ZC,m2;function e4(){if(m2)return ZC;m2=1;var b=ZW(),S=fs(),m=Kx(),O=NaN,E=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,$=/^0o[0-7]+$/i,F=parseInt;function j(B){if(typeof B=="number")return B;if(m(B))return O;if(S(B)){var U=typeof B.valueOf=="function"?B.valueOf():B;B=S(U)?U+"":U}if(typeof B!="string")return B===0?B:+B;B=b(B);var K=T.test(B);return K||$.test(B)?F(B.slice(2),K?2:8):E.test(B)?O:+B}return ZC=j,ZC}var eA,b2;function t4(){if(b2)return eA;b2=1;var b=e4(),S=1/0,m=17976931348623157e292;function O(E){if(!E)return E===0?E:0;if(E=b(E),E===S||E===-1/0){var T=E<0?-1:1;return T*m}return E===E?E:0}return eA=O,eA}var tA,_2;function qF(){if(_2)return tA;_2=1;var b=t4();function S(m){var O=b(m),E=O%1;return O===O?E?O-E:O:0}return tA=S,tA}var rA,w2;function l$(){if(w2)return rA;w2=1;var b=AF(),S=RW(),m=YW(),O=zF(),E=XW(),T=$F(),$=JW(),F=jF(),j=FF(),B=qF(),U="Expected a function",K=1,V=2,Y=8,Z=16,se=32,ne=64,_e=Math.max;function le(ie,te,we,oe,ee,Te,he,Ae){var xe=te&V;if(!xe&&typeof ie!="function")throw new TypeError(U);var Ve=oe?oe.length:0;if(Ve||(te&=-97,oe=ee=void 0),he=he===void 0?he:_e(B(he),0),Ae=Ae===void 0?Ae:B(Ae),Ve-=ee?ee.length:0,te&ne){var it=oe,Ze=ee;oe=ee=void 0}var Fe=xe?void 0:T(ie),je=[ie,te,we,oe,ee,it,Ze,Te,he,Ae];if(Fe&&$(je,Fe),ie=je[0],te=je[1],we=je[2],oe=je[3],ee=je[4],Ae=je[9]=je[9]===void 0?xe?0:ie.length:_e(je[9]-Ve,0),!Ae&&te&(Y|Z)&&(te&=-25),!te||te==K)var et=S(ie,te,we);else te==Y||te==Z?et=m(ie,te,Ae):(te==se||te==(K|se))&&!ee.length?et=E(ie,te,we,oe):et=O.apply(void 0,je);var Ue=Fe?b:F;return j(Ue(et,je),ie,te)}return rA=le,rA}var iA,O2;function r4(){if(O2)return iA;O2=1;var b=l$(),S=128;function m(O,E,T){return E=T?void 0:E,E=O&&E==null?O.length:E,b(O,S,void 0,void 0,void 0,void 0,E)}return iA=m,iA}var nA,E2;function c$(){if(E2)return nA;E2=1;var b=NF();function S(m,O,E){O=="__proto__"&&b?b(m,O,{configurable:!0,enumerable:!0,value:E,writable:!0}):m[O]=E}return nA=S,nA}var oA,S2;function Yx(){if(S2)return oA;S2=1;function b(S,m){return S===m||S!==S&&m!==m}return oA=b,oA}var sA,T2;function WF(){if(T2)return sA;T2=1;var b=c$(),S=Yx(),m=Object.prototype,O=m.hasOwnProperty;function E(T,$,F){var j=T[$];(!(O.call(T,$)&&S(j,F))||F===void 0&&!($ in T))&&b(T,$,F)}return sA=E,sA}var aA,x2;function Xx(){if(x2)return aA;x2=1;var b=WF(),S=c$();function m(O,E,T,$){var F=!T;T||(T={});for(var j=-1,B=E.length;++j<B;){var U=E[j],K=$?$(T[U],O[U],U,T,O):void 0;K===void 0&&(K=O[U]),F?S(T,U,K):b(T,U,K)}return T}return aA=m,aA}var uA,I2;function i4(){if(I2)return uA;I2=1;function b(S,m){for(var O=-1,E=Array(S);++O<S;)E[O]=m(O);return E}return uA=b,uA}var lA,P2;function n4(){if(P2)return lA;P2=1;var b=Mm(),S=ps(),m="[object Arguments]";function O(E){return S(E)&&b(E)==m}return lA=O,lA}var cA,C2;function AI(){if(C2)return cA;C2=1;var b=n4(),S=ps(),m=Object.prototype,O=m.hasOwnProperty,E=m.propertyIsEnumerable,T=b(function(){return arguments}())?b:function($){return S($)&&O.call($,"callee")&&!E.call($,"callee")};return cA=T,cA}var zx={exports:{}},hA,A2;function o4(){if(A2)return hA;A2=1;function b(){return!1}return hA=b,hA}zx.exports;var R2;function RI(){return R2||(R2=1,function(b,S){var m=Un(),O=o4(),E=S&&!S.nodeType&&S,T=E&&!0&&b&&!b.nodeType&&b,$=T&&T.exports===E,F=$?m.Buffer:void 0,j=F?F.isBuffer:void 0,B=j||O;b.exports=B}(zx,zx.exports)),zx.exports}var dA,k2;function h$(){if(k2)return dA;k2=1;var b=9007199254740991;function S(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=b}return dA=S,dA}var fA,$2;function s4(){if($2)return fA;$2=1;var b=Mm(),S=h$(),m=ps(),O="[object Arguments]",E="[object Array]",T="[object Boolean]",$="[object Date]",F="[object Error]",j="[object Function]",B="[object Map]",U="[object Number]",K="[object Object]",V="[object RegExp]",Y="[object Set]",Z="[object String]",se="[object WeakMap]",ne="[object ArrayBuffer]",_e="[object DataView]",le="[object Float32Array]",ie="[object Float64Array]",te="[object Int8Array]",we="[object Int16Array]",oe="[object Int32Array]",ee="[object Uint8Array]",Te="[object Uint8ClampedArray]",he="[object Uint16Array]",Ae="[object Uint32Array]",xe={};xe[le]=xe[ie]=xe[te]=xe[we]=xe[oe]=xe[ee]=xe[Te]=xe[he]=xe[Ae]=!0,xe[O]=xe[E]=xe[ne]=xe[T]=xe[_e]=xe[$]=xe[F]=xe[j]=xe[B]=xe[U]=xe[K]=xe[V]=xe[Y]=xe[Z]=xe[se]=!1;function Ve(it){return m(it)&&S(it.length)&&!!xe[b(it)]}return fA=Ve,fA}var pA,D2;function Jx(){if(D2)return pA;D2=1;function b(S){return function(m){return S(m)}}return pA=b,pA}var qx={exports:{}};qx.exports;var M2;function d$(){return M2||(M2=1,function(b,S){var m=xF(),O=S&&!S.nodeType&&S,E=O&&!0&&b&&!b.nodeType&&b,T=E&&E.exports===O,$=T&&m.process,F=function(){try{var j=E&&E.require&&E.require("util").types;return j||$&&$.binding&&$.binding("util")}catch{}}();b.exports=F}(qx,qx.exports)),qx.exports}var vA,j2;function f$(){if(j2)return vA;j2=1;var b=s4(),S=Jx(),m=d$(),O=m&&m.isTypedArray,E=O?S(O):b;return vA=E,vA}var gA,N2;function HF(){if(N2)return gA;N2=1;var b=i4(),S=AI(),m=Gn(),O=RI(),E=CI(),T=f$(),$=Object.prototype,F=$.hasOwnProperty;function j(B,U){var K=m(B),V=!K&&S(B),Y=!K&&!V&&O(B),Z=!K&&!V&&!Y&&T(B),se=K||V||Y||Z,ne=se?b(B.length,String):[],_e=ne.length;for(var le in B)(U||F.call(B,le))&&!(se&&(le=="length"||Y&&(le=="offset"||le=="parent")||Z&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||E(le,_e)))&&ne.push(le);return ne}return gA=j,gA}var yA,F2;function p$(){if(F2)return yA;F2=1;var b=Object.prototype;function S(m){var O=m&&m.constructor,E=typeof O=="function"&&O.prototype||b;return m===E}return yA=S,yA}var mA,L2;function UF(){if(L2)return mA;L2=1;function b(S,m){return function(O){return S(m(O))}}return mA=b,mA}var bA,B2;function a4(){if(B2)return bA;B2=1;var b=UF(),S=b(Object.keys,Object);return bA=S,bA}var _A,z2;function GF(){if(z2)return _A;z2=1;var b=p$(),S=a4(),m=Object.prototype,O=m.hasOwnProperty;function E(T){if(!b(T))return S(T);var $=[];for(var F in Object(T))O.call(T,F)&&F!="constructor"&&$.push(F);return $}return _A=E,_A}var wA,q2;function kI(){if(q2)return wA;q2=1;var b=TI(),S=h$();function m(O){return O!=null&&S(O.length)&&!b(O)}return wA=m,wA}var OA,W2;function $I(){if(W2)return OA;W2=1;var b=HF(),S=GF(),m=kI();function O(E){return m(E)?b(E):S(E)}return OA=O,OA}var EA,H2;function VF(){if(H2)return EA;H2=1;var b=Xx(),S=$I();function m(O,E){return O&&b(E,S(E),O)}return EA=m,EA}var SA,U2;function u4(){if(U2)return SA;U2=1;function b(){this.__data__=[],this.size=0}return SA=b,SA}var TA,G2;function DI(){if(G2)return TA;G2=1;var b=Yx();function S(m,O){for(var E=m.length;E--;)if(b(m[E][0],O))return E;return-1}return TA=S,TA}var xA,V2;function l4(){if(V2)return xA;V2=1;var b=DI(),S=Array.prototype,m=S.splice;function O(E){var T=this.__data__,$=b(T,E);if($<0)return!1;var F=T.length-1;return $==F?T.pop():m.call(T,$,1),--this.size,!0}return xA=O,xA}var IA,K2;function c4(){if(K2)return IA;K2=1;var b=DI();function S(m){var O=this.__data__,E=b(O,m);return E<0?void 0:O[E][1]}return IA=S,IA}var PA,Y2;function h4(){if(Y2)return PA;Y2=1;var b=DI();function S(m){return b(this.__data__,m)>-1}return PA=S,PA}var CA,X2;function d4(){if(X2)return CA;X2=1;var b=DI();function S(m,O){var E=this.__data__,T=b(E,m);return T<0?(++this.size,E.push([m,O])):E[T][1]=O,this}return CA=S,CA}var AA,J2;function MI(){if(J2)return AA;J2=1;var b=u4(),S=l4(),m=c4(),O=h4(),E=d4();function T($){var F=-1,j=$==null?0:$.length;for(this.clear();++F<j;){var B=$[F];this.set(B[0],B[1])}}return T.prototype.clear=b,T.prototype.delete=S,T.prototype.get=m,T.prototype.has=O,T.prototype.set=E,AA=T,AA}var RA,Q2;function f4(){if(Q2)return RA;Q2=1;var b=MI();function S(){this.__data__=new b,this.size=0}return RA=S,RA}var kA,Z2;function p4(){if(Z2)return kA;Z2=1;function b(S){var m=this.__data__,O=m.delete(S);return this.size=m.size,O}return kA=b,kA}var $A,ej;function v4(){if(ej)return $A;ej=1;function b(S){return this.__data__.get(S)}return $A=b,$A}var DA,tj;function g4(){if(tj)return DA;tj=1;function b(S){return this.__data__.has(S)}return DA=b,DA}var MA,rj;function v$(){if(rj)return MA;rj=1;var b=jm(),S=Un(),m=b(S,"Map");return MA=m,MA}var jA,ij;function jI(){if(ij)return jA;ij=1;var b=jm(),S=b(Object,"create");return jA=S,jA}var NA,nj;function y4(){if(nj)return NA;nj=1;var b=jI();function S(){this.__data__=b?b(null):{},this.size=0}return NA=S,NA}var FA,oj;function m4(){if(oj)return FA;oj=1;function b(S){var m=this.has(S)&&delete this.__data__[S];return this.size-=m?1:0,m}return FA=b,FA}var LA,sj;function b4(){if(sj)return LA;sj=1;var b=jI(),S="__lodash_hash_undefined__",m=Object.prototype,O=m.hasOwnProperty;function E(T){var $=this.__data__;if(b){var F=$[T];return F===S?void 0:F}return O.call($,T)?$[T]:void 0}return LA=E,LA}var BA,aj;function _4(){if(aj)return BA;aj=1;var b=jI(),S=Object.prototype,m=S.hasOwnProperty;function O(E){var T=this.__data__;return b?T[E]!==void 0:m.call(T,E)}return BA=O,BA}var zA,uj;function w4(){if(uj)return zA;uj=1;var b=jI(),S="__lodash_hash_undefined__";function m(O,E){var T=this.__data__;return this.size+=this.has(O)?0:1,T[O]=b&&E===void 0?S:E,this}return zA=m,zA}var qA,lj;function O4(){if(lj)return qA;lj=1;var b=y4(),S=m4(),m=b4(),O=_4(),E=w4();function T($){var F=-1,j=$==null?0:$.length;for(this.clear();++F<j;){var B=$[F];this.set(B[0],B[1])}}return T.prototype.clear=b,T.prototype.delete=S,T.prototype.get=m,T.prototype.has=O,T.prototype.set=E,qA=T,qA}var WA,cj;function E4(){if(cj)return WA;cj=1;var b=O4(),S=MI(),m=v$();function O(){this.size=0,this.__data__={hash:new b,map:new(m||S),string:new b}}return WA=O,WA}var HA,hj;function S4(){if(hj)return HA;hj=1;function b(S){var m=typeof S;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?S!=="__proto__":S===null}return HA=b,HA}var UA,dj;function NI(){if(dj)return UA;dj=1;var b=S4();function S(m,O){var E=m.__data__;return b(O)?E[typeof O=="string"?"string":"hash"]:E.map}return UA=S,UA}var GA,fj;function T4(){if(fj)return GA;fj=1;var b=NI();function S(m){var O=b(this,m).delete(m);return this.size-=O?1:0,O}return GA=S,GA}var VA,pj;function x4(){if(pj)return VA;pj=1;var b=NI();function S(m){return b(this,m).get(m)}return VA=S,VA}var KA,vj;function I4(){if(vj)return KA;vj=1;var b=NI();function S(m){return b(this,m).has(m)}return KA=S,KA}var YA,gj;function P4(){if(gj)return YA;gj=1;var b=NI();function S(m,O){var E=b(this,m),T=E.size;return E.set(m,O),this.size+=E.size==T?0:1,this}return YA=S,YA}var XA,yj;function g$(){if(yj)return XA;yj=1;var b=E4(),S=T4(),m=x4(),O=I4(),E=P4();function T($){var F=-1,j=$==null?0:$.length;for(this.clear();++F<j;){var B=$[F];this.set(B[0],B[1])}}return T.prototype.clear=b,T.prototype.delete=S,T.prototype.get=m,T.prototype.has=O,T.prototype.set=E,XA=T,XA}var JA,mj;function C4(){if(mj)return JA;mj=1;var b=MI(),S=v$(),m=g$(),O=200;function E(T,$){var F=this.__data__;if(F instanceof b){var j=F.__data__;if(!S||j.length<O-1)return j.push([T,$]),this.size=++F.size,this;F=this.__data__=new m(j)}return F.set(T,$),this.size=F.size,this}return JA=E,JA}var QA,bj;function FI(){if(bj)return QA;bj=1;var b=MI(),S=f4(),m=p4(),O=v4(),E=g4(),T=C4();function $(F){var j=this.__data__=new b(F);this.size=j.size}return $.prototype.clear=S,$.prototype.delete=m,$.prototype.get=O,$.prototype.has=E,$.prototype.set=T,QA=$,QA}var ZA,_j;function A4(){if(_j)return ZA;_j=1;function b(S){var m=[];if(S!=null)for(var O in Object(S))m.push(O);return m}return ZA=b,ZA}var eR,wj;function R4(){if(wj)return eR;wj=1;var b=fs(),S=p$(),m=A4(),O=Object.prototype,E=O.hasOwnProperty;function T($){if(!b($))return m($);var F=S($),j=[];for(var B in $)B=="constructor"&&(F||!E.call($,B))||j.push(B);return j}return eR=T,eR}var tR,Oj;function Qx(){if(Oj)return tR;Oj=1;var b=HF(),S=R4(),m=kI();function O(E){return m(E)?b(E,!0):S(E)}return tR=O,tR}var rR,Ej;function k4(){if(Ej)return rR;Ej=1;var b=Xx(),S=Qx();function m(O,E){return O&&b(E,S(E),O)}return rR=m,rR}var Wx={exports:{}};Wx.exports;var Sj;function KF(){return Sj||(Sj=1,function(b,S){var m=Un(),O=S&&!S.nodeType&&S,E=O&&!0&&b&&!b.nodeType&&b,T=E&&E.exports===O,$=T?m.Buffer:void 0,F=$?$.allocUnsafe:void 0;function j(B,U){if(U)return B.slice();var K=B.length,V=F?F(K):new B.constructor(K);return B.copy(V),V}b.exports=j}(Wx,Wx.exports)),Wx.exports}var iR,Tj;function $4(){if(Tj)return iR;Tj=1;function b(S,m){for(var O=-1,E=S==null?0:S.length,T=0,$=[];++O<E;){var F=S[O];m(F,O,S)&&($[T++]=F)}return $}return iR=b,iR}var nR,xj;function YF(){if(xj)return nR;xj=1;function b(){return[]}return nR=b,nR}var oR,Ij;function y$(){if(Ij)return oR;Ij=1;var b=$4(),S=YF(),m=Object.prototype,O=m.propertyIsEnumerable,E=Object.getOwnPropertySymbols,T=E?function($){return $==null?[]:($=Object($),b(E($),function(F){return O.call($,F)}))}:S;return oR=T,oR}var sR,Pj;function D4(){if(Pj)return sR;Pj=1;var b=Xx(),S=y$();function m(O,E){return b(O,S(O),E)}return sR=m,sR}var aR,Cj;function m$(){if(Cj)return aR;Cj=1;function b(S,m){for(var O=-1,E=m.length,T=S.length;++O<E;)S[T+O]=m[O];return S}return aR=b,aR}var uR,Aj;function b$(){if(Aj)return uR;Aj=1;var b=UF(),S=b(Object.getPrototypeOf,Object);return uR=S,uR}var lR,Rj;function XF(){if(Rj)return lR;Rj=1;var b=m$(),S=b$(),m=y$(),O=YF(),E=Object.getOwnPropertySymbols,T=E?function($){for(var F=[];$;)b(F,m($)),$=S($);return F}:O;return lR=T,lR}var cR,kj;function M4(){if(kj)return cR;kj=1;var b=Xx(),S=XF();function m(O,E){return b(O,S(O),E)}return cR=m,cR}var hR,$j;function JF(){if($j)return hR;$j=1;var b=m$(),S=Gn();function m(O,E,T){var $=E(O);return S(O)?$:b($,T(O))}return hR=m,hR}var dR,Dj;function QF(){if(Dj)return dR;Dj=1;var b=JF(),S=y$(),m=$I();function O(E){return b(E,m,S)}return dR=O,dR}var fR,Mj;function j4(){if(Mj)return fR;Mj=1;var b=JF(),S=XF(),m=Qx();function O(E){return b(E,m,S)}return fR=O,fR}var pR,jj;function N4(){if(jj)return pR;jj=1;var b=jm(),S=Un(),m=b(S,"DataView");return pR=m,pR}var vR,Nj;function F4(){if(Nj)return vR;Nj=1;var b=jm(),S=Un(),m=b(S,"Promise");return vR=m,vR}var gR,Fj;function L4(){if(Fj)return gR;Fj=1;var b=jm(),S=Un(),m=b(S,"Set");return gR=m,gR}var yR,Lj;function Zx(){if(Lj)return yR;Lj=1;var b=N4(),S=v$(),m=F4(),O=L4(),E=PF(),T=Mm(),$=IF(),F="[object Map]",j="[object Object]",B="[object Promise]",U="[object Set]",K="[object WeakMap]",V="[object DataView]",Y=$(b),Z=$(S),se=$(m),ne=$(O),_e=$(E),le=T;return(b&&le(new b(new ArrayBuffer(1)))!=V||S&&le(new S)!=F||m&&le(m.resolve())!=B||O&&le(new O)!=U||E&&le(new E)!=K)&&(le=function(ie){var te=T(ie),we=te==j?ie.constructor:void 0,oe=we?$(we):"";if(oe)switch(oe){case Y:return V;case Z:return F;case se:return B;case ne:return U;case _e:return K}return te}),yR=le,yR}var mR,Bj;function B4(){if(Bj)return mR;Bj=1;var b=Object.prototype,S=b.hasOwnProperty;function m(O){var E=O.length,T=new O.constructor(E);return E&&typeof O[0]=="string"&&S.call(O,"index")&&(T.index=O.index,T.input=O.input),T}return mR=m,mR}var bR,zj;function ZF(){if(zj)return bR;zj=1;var b=Un(),S=b.Uint8Array;return bR=S,bR}var _R,qj;function _$(){if(qj)return _R;qj=1;var b=ZF();function S(m){var O=new m.constructor(m.byteLength);return new b(O).set(new b(m)),O}return _R=S,_R}var wR,Wj;function z4(){if(Wj)return wR;Wj=1;var b=_$();function S(m,O){var E=O?b(m.buffer):m.buffer;return new m.constructor(E,m.byteOffset,m.byteLength)}return wR=S,wR}var OR,Hj;function q4(){if(Hj)return OR;Hj=1;var b=/\w*$/;function S(m){var O=new m.constructor(m.source,b.exec(m));return O.lastIndex=m.lastIndex,O}return OR=S,OR}var ER,Uj;function W4(){if(Uj)return ER;Uj=1;var b=G1(),S=b?b.prototype:void 0,m=S?S.valueOf:void 0;function O(E){return m?Object(m.call(E)):{}}return ER=O,ER}var SR,Gj;function eL(){if(Gj)return SR;Gj=1;var b=_$();function S(m,O){var E=O?b(m.buffer):m.buffer;return new m.constructor(E,m.byteOffset,m.length)}return SR=S,SR}var TR,Vj;function H4(){if(Vj)return TR;Vj=1;var b=_$(),S=z4(),m=q4(),O=W4(),E=eL(),T="[object Boolean]",$="[object Date]",F="[object Map]",j="[object Number]",B="[object RegExp]",U="[object Set]",K="[object String]",V="[object Symbol]",Y="[object ArrayBuffer]",Z="[object DataView]",se="[object Float32Array]",ne="[object Float64Array]",_e="[object Int8Array]",le="[object Int16Array]",ie="[object Int32Array]",te="[object Uint8Array]",we="[object Uint8ClampedArray]",oe="[object Uint16Array]",ee="[object Uint32Array]";function Te(he,Ae,xe){var Ve=he.constructor;switch(Ae){case Y:return b(he);case T:case $:return new Ve(+he);case Z:return S(he,xe);case se:case ne:case _e:case le:case ie:case te:case we:case oe:case ee:return E(he,xe);case F:return new Ve;case j:case K:return new Ve(he);case B:return m(he);case U:return new Ve;case V:return O(he)}}return TR=Te,TR}var xR,Kj;function tL(){if(Kj)return xR;Kj=1;var b=xI(),S=b$(),m=p$();function O(E){return typeof E.constructor=="function"&&!m(E)?b(S(E)):{}}return xR=O,xR}var IR,Yj;function U4(){if(Yj)return IR;Yj=1;var b=Zx(),S=ps(),m="[object Map]";function O(E){return S(E)&&b(E)==m}return IR=O,IR}var PR,Xj;function G4(){if(Xj)return PR;Xj=1;var b=U4(),S=Jx(),m=d$(),O=m&&m.isMap,E=O?S(O):b;return PR=E,PR}var CR,Jj;function V4(){if(Jj)return CR;Jj=1;var b=Zx(),S=ps(),m="[object Set]";function O(E){return S(E)&&b(E)==m}return CR=O,CR}var AR,Qj;function K4(){if(Qj)return AR;Qj=1;var b=V4(),S=Jx(),m=d$(),O=m&&m.isSet,E=O?S(O):b;return AR=E,AR}var RR,Zj;function rL(){if(Zj)return RR;Zj=1;var b=FI(),S=s$(),m=WF(),O=VF(),E=k4(),T=KF(),$=Vx(),F=D4(),j=M4(),B=QF(),U=j4(),K=Zx(),V=B4(),Y=H4(),Z=tL(),se=Gn(),ne=RI(),_e=G4(),le=fs(),ie=K4(),te=$I(),we=Qx(),oe=1,ee=2,Te=4,he="[object Arguments]",Ae="[object Array]",xe="[object Boolean]",Ve="[object Date]",it="[object Error]",Ze="[object Function]",Fe="[object GeneratorFunction]",je="[object Map]",et="[object Number]",Ue="[object Object]",dt="[object RegExp]",ft="[object Set]",gt="[object String]",rn="[object Symbol]",ur="[object WeakMap]",ut="[object ArrayBuffer]",Ft="[object DataView]",Or="[object Float32Array]",Er="[object Float64Array]",Vn="[object Int8Array]",Sr="[object Int16Array]",nn="[object Int32Array]",Ti="[object Uint8Array]",vr="[object Uint8ClampedArray]",_t="[object Uint16Array]",xi="[object Uint32Array]",fe={};fe[he]=fe[Ae]=fe[ut]=fe[Ft]=fe[xe]=fe[Ve]=fe[Or]=fe[Er]=fe[Vn]=fe[Sr]=fe[nn]=fe[je]=fe[et]=fe[Ue]=fe[dt]=fe[ft]=fe[gt]=fe[rn]=fe[Ti]=fe[vr]=fe[_t]=fe[xi]=!0,fe[it]=fe[Ze]=fe[ur]=!1;function ve(ae,$e,Le,Xt,pt,Ie){var ze,ei=$e&oe,_n=$e&ee,Jt=$e&Te;if(Le&&(ze=pt?Le(ae,Xt,pt,Ie):Le(ae)),ze!==void 0)return ze;if(!le(ae))return ae;var lt=se(ae);if(lt){if(ze=V(ae),!ei)return $(ae,ze)}else{var tt=K(ae),yt=tt==Ze||tt==Fe;if(ne(ae))return T(ae,ei);if(tt==Ue||tt==he||yt&&!pt){if(ze=_n||yt?{}:Z(ae),!ei)return _n?j(ae,E(ze,ae)):F(ae,O(ze,ae))}else{if(!fe[tt])return pt?ae:{};ze=Y(ae,tt,ei)}}Ie||(Ie=new b);var Ii=Ie.get(ae);if(Ii)return Ii;Ie.set(ae,ze),ie(ae)?ae.forEach(function(Pi){ze.add(ve(Pi,$e,Le,Pi,ae,Ie))}):_e(ae)&&ae.forEach(function(Pi,vt){ze.set(vt,ve(Pi,$e,Le,vt,ae,Ie))});var vs=Jt?_n?U:B:_n?we:te,Ht=lt?void 0:vs(ae);return S(Ht||ae,function(Pi,vt){Ht&&(vt=Pi,Pi=ae[vt]),m(ze,vt,ve(Pi,$e,Le,vt,ae,Ie))}),ze}return RR=ve,RR}var kR,eN;function Y4(){if(eN)return kR;eN=1;var b=rL(),S=4;function m(O){return b(O,S)}return kR=m,kR}var $R,tN;function X4(){if(tN)return $R;tN=1;var b=l$(),S=8;function m(O,E,T){E=T?void 0:E;var $=b(O,S,void 0,void 0,void 0,void 0,void 0,E);return $.placeholder=m.placeholder,$}return m.placeholder={},$R=m,$R}var DR,rN;function iL(){if(rN)return DR;rN=1;var b=Mm(),S=b$(),m=ps(),O="[object Object]",E=Function.prototype,T=Object.prototype,$=E.toString,F=T.hasOwnProperty,j=$.call(Object);function B(U){if(!m(U)||b(U)!=O)return!1;var K=S(U);if(K===null)return!0;var V=F.call(K,"constructor")&&K.constructor;return typeof V=="function"&&V instanceof V&&$.call(V)==j}return DR=B,DR}var MR,iN;function J4(){if(iN)return MR;iN=1;var b=Mm(),S=ps(),m=iL(),O="[object DOMException]",E="[object Error]";function T($){if(!S($))return!1;var F=b($);return F==E||F==O||typeof $.message=="string"&&typeof $.name=="string"&&!m($)}return MR=T,MR}var jR,nN;function Q4(){if(nN)return jR;nN=1;var b=Zx(),S=ps(),m="[object WeakMap]";function O(E){return S(E)&&b(E)==m}return jR=O,jR}var NR,oN;function Z4(){if(oN)return NR;oN=1;var b="__lodash_hash_undefined__";function S(m){return this.__data__.set(m,b),this}return NR=S,NR}var FR,sN;function eH(){if(sN)return FR;sN=1;function b(S){return this.__data__.has(S)}return FR=b,FR}var LR,aN;function w$(){if(aN)return LR;aN=1;var b=g$(),S=Z4(),m=eH();function O(E){var T=-1,$=E==null?0:E.length;for(this.__data__=new b;++T<$;)this.add(E[T])}return O.prototype.add=O.prototype.push=S,O.prototype.has=m,LR=O,LR}var BR,uN;function tH(){if(uN)return BR;uN=1;function b(S,m){for(var O=-1,E=S==null?0:S.length;++O<E;)if(m(S[O],O,S))return!0;return!1}return BR=b,BR}var zR,lN;function O$(){if(lN)return zR;lN=1;function b(S,m){return S.has(m)}return zR=b,zR}var qR,cN;function nL(){if(cN)return qR;cN=1;var b=w$(),S=tH(),m=O$(),O=1,E=2;function T($,F,j,B,U,K){var V=j&O,Y=$.length,Z=F.length;if(Y!=Z&&!(V&&Z>Y))return!1;var se=K.get($),ne=K.get(F);if(se&&ne)return se==F&&ne==$;var _e=-1,le=!0,ie=j&E?new b:void 0;for(K.set($,F),K.set(F,$);++_e<Y;){var te=$[_e],we=F[_e];if(B)var oe=V?B(we,te,_e,F,$,K):B(te,we,_e,$,F,K);if(oe!==void 0){if(oe)continue;le=!1;break}if(ie){if(!S(F,function(ee,Te){if(!m(ie,Te)&&(te===ee||U(te,ee,j,B,K)))return ie.push(Te)})){le=!1;break}}else if(!(te===we||U(te,we,j,B,K))){le=!1;break}}return K.delete($),K.delete(F),le}return qR=T,qR}var WR,hN;function rH(){if(hN)return WR;hN=1;function b(S){var m=-1,O=Array(S.size);return S.forEach(function(E,T){O[++m]=[T,E]}),O}return WR=b,WR}var HR,dN;function iH(){if(dN)return HR;dN=1;function b(S){var m=-1,O=Array(S.size);return S.forEach(function(E){O[++m]=E}),O}return HR=b,HR}var UR,fN;function nH(){if(fN)return UR;fN=1;var b=G1(),S=ZF(),m=Yx(),O=nL(),E=rH(),T=iH(),$=1,F=2,j="[object Boolean]",B="[object Date]",U="[object Error]",K="[object Map]",V="[object Number]",Y="[object RegExp]",Z="[object Set]",se="[object String]",ne="[object Symbol]",_e="[object ArrayBuffer]",le="[object DataView]",ie=b?b.prototype:void 0,te=ie?ie.valueOf:void 0;function we(oe,ee,Te,he,Ae,xe,Ve){switch(Te){case le:if(oe.byteLength!=ee.byteLength||oe.byteOffset!=ee.byteOffset)return!1;oe=oe.buffer,ee=ee.buffer;case _e:return!(oe.byteLength!=ee.byteLength||!xe(new S(oe),new S(ee)));case j:case B:case V:return m(+oe,+ee);case U:return oe.name==ee.name&&oe.message==ee.message;case Y:case se:return oe==ee+"";case K:var it=E;case Z:var Ze=he&$;if(it||(it=T),oe.size!=ee.size&&!Ze)return!1;var Fe=Ve.get(oe);if(Fe)return Fe==ee;he|=F,Ve.set(oe,ee);var je=O(it(oe),it(ee),he,Ae,xe,Ve);return Ve.delete(oe),je;case ne:if(te)return te.call(oe)==te.call(ee)}return!1}return UR=we,UR}var GR,pN;function oH(){if(pN)return GR;pN=1;var b=QF(),S=1,m=Object.prototype,O=m.hasOwnProperty;function E(T,$,F,j,B,U){var K=F&S,V=b(T),Y=V.length,Z=b($),se=Z.length;if(Y!=se&&!K)return!1;for(var ne=Y;ne--;){var _e=V[ne];if(!(K?_e in $:O.call($,_e)))return!1}var le=U.get(T),ie=U.get($);if(le&&ie)return le==$&&ie==T;var te=!0;U.set(T,$),U.set($,T);for(var we=K;++ne<Y;){_e=V[ne];var oe=T[_e],ee=$[_e];if(j)var Te=K?j(ee,oe,_e,$,T,U):j(oe,ee,_e,T,$,U);if(!(Te===void 0?oe===ee||B(oe,ee,F,j,U):Te)){te=!1;break}we||(we=_e=="constructor")}if(te&&!we){var he=T.constructor,Ae=$.constructor;he!=Ae&&"constructor"in T&&"constructor"in $&&!(typeof he=="function"&&he instanceof he&&typeof Ae=="function"&&Ae instanceof Ae)&&(te=!1)}return U.delete(T),U.delete($),te}return GR=E,GR}var VR,vN;function sH(){if(vN)return VR;vN=1;var b=FI(),S=nL(),m=nH(),O=oH(),E=Zx(),T=Gn(),$=RI(),F=f$(),j=1,B="[object Arguments]",U="[object Array]",K="[object Object]",V=Object.prototype,Y=V.hasOwnProperty;function Z(se,ne,_e,le,ie,te){var we=T(se),oe=T(ne),ee=we?U:E(se),Te=oe?U:E(ne);ee=ee==B?K:ee,Te=Te==B?K:Te;var he=ee==K,Ae=Te==K,xe=ee==Te;if(xe&&$(se)){if(!$(ne))return!1;we=!0,he=!1}if(xe&&!he)return te||(te=new b),we||F(se)?S(se,ne,_e,le,ie,te):m(se,ne,ee,_e,le,ie,te);if(!(_e&j)){var Ve=he&&Y.call(se,"__wrapped__"),it=Ae&&Y.call(ne,"__wrapped__");if(Ve||it){var Ze=Ve?se.value():se,Fe=it?ne.value():ne;return te||(te=new b),ie(Ze,Fe,_e,le,te)}}return xe?(te||(te=new b),O(se,ne,_e,le,ie,te)):!1}return VR=Z,VR}var KR,gN;function E$(){if(gN)return KR;gN=1;var b=sH(),S=ps();function m(O,E,T,$,F){return O===E?!0:O==null||E==null||!S(O)&&!S(E)?O!==O&&E!==E:b(O,E,T,$,m,F)}return KR=m,KR}var YR,yN;function aH(){if(yN)return YR;yN=1;var b=FI(),S=E$(),m=1,O=2;function E(T,$,F,j){var B=F.length,U=B,K=!j;if(T==null)return!U;for(T=Object(T);B--;){var V=F[B];if(K&&V[2]?V[1]!==T[V[0]]:!(V[0]in T))return!1}for(;++B<U;){V=F[B];var Y=V[0],Z=T[Y],se=V[1];if(K&&V[2]){if(Z===void 0&&!(Y in T))return!1}else{var ne=new b;if(j)var _e=j(Z,se,Y,T,$,ne);if(!(_e===void 0?S(se,Z,m|O,j,ne):_e))return!1}}return!0}return YR=E,YR}var XR,mN;function oL(){if(mN)return XR;mN=1;var b=fs();function S(m){return m===m&&!b(m)}return XR=S,XR}var JR,bN;function uH(){if(bN)return JR;bN=1;var b=oL(),S=$I();function m(O){for(var E=S(O),T=E.length;T--;){var $=E[T],F=O[$];E[T]=[$,F,b(F)]}return E}return JR=m,JR}var QR,_N;function sL(){if(_N)return QR;_N=1;function b(S,m){return function(O){return O==null?!1:O[S]===m&&(m!==void 0||S in Object(O))}}return QR=b,QR}var ZR,wN;function lH(){if(wN)return ZR;wN=1;var b=aH(),S=uH(),m=sL();function O(E){var T=S(E);return T.length==1&&T[0][2]?m(T[0][0],T[0][1]):function($){return $===E||b($,E,T)}}return ZR=O,ZR}var ek,ON;function S$(){if(ON)return ek;ON=1;var b=Gn(),S=Kx(),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function E(T,$){if(b(T))return!1;var F=typeof T;return F=="number"||F=="symbol"||F=="boolean"||T==null||S(T)?!0:O.test(T)||!m.test(T)||$!=null&&T in Object($)}return ek=E,ek}var tk,EN;function cH(){if(EN)return tk;EN=1;var b=g$(),S="Expected a function";function m(O,E){if(typeof O!="function"||E!=null&&typeof E!="function")throw new TypeError(S);var T=function(){var $=arguments,F=E?E.apply(this,$):$[0],j=T.cache;if(j.has(F))return j.get(F);var B=O.apply(this,$);return T.cache=j.set(F,B)||j,B};return T.cache=new(m.Cache||b),T}return m.Cache=b,tk=m,tk}var rk,SN;function hH(){if(SN)return rk;SN=1;var b=cH(),S=500;function m(O){var E=b(O,function($){return T.size===S&&T.clear(),$}),T=E.cache;return E}return rk=m,rk}var ik,TN;function aL(){if(TN)return ik;TN=1;var b=hH(),S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,O=b(function(E){var T=[];return E.charCodeAt(0)===46&&T.push(""),E.replace(S,function($,F,j,B){T.push(j?B.replace(m,"$1"):F||$)}),T});return ik=O,ik}var nk,xN;function eI(){if(xN)return nk;xN=1;function b(S,m){for(var O=-1,E=S==null?0:S.length,T=Array(E);++O<E;)T[O]=m(S[O],O,S);return T}return nk=b,nk}var ok,IN;function dH(){if(IN)return ok;IN=1;var b=G1(),S=eI(),m=Gn(),O=Kx(),E=b?b.prototype:void 0,T=E?E.toString:void 0;function $(F){if(typeof F=="string")return F;if(m(F))return S(F,$)+"";if(O(F))return T?T.call(F):"";var j=F+"";return j=="0"&&1/F==-1/0?"-0":j}return ok=$,ok}var sk,PN;function uL(){if(PN)return sk;PN=1;var b=dH();function S(m){return m==null?"":b(m)}return sk=S,sk}var ak,CN;function lL(){if(CN)return ak;CN=1;var b=Gn(),S=S$(),m=aL(),O=uL();function E(T,$){return b(T)?T:S(T,$)?[T]:m(O(T))}return ak=E,ak}var uk,AN;function tI(){if(AN)return uk;AN=1;var b=Kx();function S(m){if(typeof m=="string"||b(m))return m;var O=m+"";return O=="0"&&1/m==-1/0?"-0":O}return uk=S,uk}var lk,RN;function cL(){if(RN)return lk;RN=1;var b=lL(),S=tI();function m(O,E){E=b(E,O);for(var T=0,$=E.length;O!=null&&T<$;)O=O[S(E[T++])];return T&&T==$?O:void 0}return lk=m,lk}var ck,kN;function fH(){if(kN)return ck;kN=1;var b=cL();function S(m,O,E){var T=m==null?void 0:b(m,O);return T===void 0?E:T}return ck=S,ck}var hk,$N;function pH(){if($N)return hk;$N=1;function b(S,m){return S!=null&&m in Object(S)}return hk=b,hk}var dk,DN;function vH(){if(DN)return dk;DN=1;var b=lL(),S=AI(),m=Gn(),O=CI(),E=h$(),T=tI();function $(F,j,B){j=b(j,F);for(var U=-1,K=j.length,V=!1;++U<K;){var Y=T(j[U]);if(!(V=F!=null&&B(F,Y)))break;F=F[Y]}return V||++U!=K?V:(K=F==null?0:F.length,!!K&&E(K)&&O(Y,K)&&(m(F)||S(F)))}return dk=$,dk}var fk,MN;function gH(){if(MN)return fk;MN=1;var b=pH(),S=vH();function m(O,E){return O!=null&&S(O,E,b)}return fk=m,fk}var pk,jN;function yH(){if(jN)return pk;jN=1;var b=E$(),S=fH(),m=gH(),O=S$(),E=oL(),T=sL(),$=tI(),F=1,j=2;function B(U,K){return O(U)&&E(K)?T($(U),K):function(V){var Y=S(V,U);return Y===void 0&&Y===K?m(V,U):b(K,Y,F|j)}}return pk=B,pk}var vk,NN;function mH(){if(NN)return vk;NN=1;function b(S){return function(m){return m==null?void 0:m[S]}}return vk=b,vk}var gk,FN;function bH(){if(FN)return gk;FN=1;var b=cL();function S(m){return function(O){return b(O,m)}}return gk=S,gk}var yk,LN;function _H(){if(LN)return yk;LN=1;var b=mH(),S=bH(),m=S$(),O=tI();function E(T){return m(T)?b(O(T)):S(T)}return yk=E,yk}var mk,BN;function wH(){if(BN)return mk;BN=1;var b=lH(),S=yH(),m=SI(),O=Gn(),E=_H();function T($){return typeof $=="function"?$:$==null?m:typeof $=="object"?O($)?S($[0],$[1]):b($):E($)}return mk=T,mk}var bk,zN;function OH(){if(zN)return bk;zN=1;var b=rL(),S=wH(),m=1;function O(E){return S(typeof E=="function"?E:b(E,m))}return bk=O,bk}var _k,qN;function EH(){if(qN)return _k;qN=1;var b=G1(),S=AI(),m=Gn(),O=b?b.isConcatSpreadable:void 0;function E(T){return m(T)||S(T)||!!(O&&T&&T[O])}return _k=E,_k}var wk,WN;function hL(){if(WN)return wk;WN=1;var b=m$(),S=EH();function m(O,E,T,$,F){var j=-1,B=O.length;for(T||(T=S),F||(F=[]);++j<B;){var U=O[j];E>0&&T(U)?E>1?m(U,E-1,T,$,F):b(F,U):$||(F[F.length]=U)}return F}return wk=m,wk}var Ok,HN;function SH(){if(HN)return Ok;HN=1;var b=hL();function S(m){var O=m==null?0:m.length;return O?b(m,1):[]}return Ok=S,Ok}var Ek,UN;function dL(){if(UN)return Ek;UN=1;var b=PI(),S=Math.max;function m(O,E,T){return E=S(E===void 0?O.length-1:E,0),function(){for(var $=arguments,F=-1,j=S($.length-E,0),B=Array(j);++F<j;)B[F]=$[E+F];F=-1;for(var U=Array(E+1);++F<E;)U[F]=$[F];return U[E]=T(B),b(O,this,U)}}return Ek=m,Ek}var Sk,GN;function TH(){if(GN)return Sk;GN=1;var b=SH(),S=dL(),m=o$();function O(E){return m(S(E,void 0,b),E+"")}return Sk=O,Sk}var Tk,VN;function xH(){if(VN)return Tk;VN=1;var b=l$(),S=TH(),m=256,O=S(function(E,T){return b(E,m,void 0,void 0,void 0,T)});return Tk=O,Tk}var xk,KN;function IH(){if(KN)return xk;KN=1;var b=eI(),S=Vx(),m=Gn(),O=Kx(),E=aL(),T=tI(),$=uL();function F(j){return m(j)?b(j,T):O(j)?[j]:S(E($(j)))}return xk=F,xk}var Ik,YN;function PH(){return YN||(YN=1,Ik={ary:r4(),assign:VF(),clone:Y4(),curry:X4(),forEach:s$(),isArray:Gn(),isError:J4(),isFunction:TI(),isWeakMap:Q4(),iteratee:OH(),keys:GF(),rearg:xH(),toInteger:qF(),toPath:IH()}),Ik}var Pk,XN;function CH(){if(XN)return Pk;XN=1;var b=SW(),S=PH();function m(O,E,T){return b(S,O,E,T)}return Pk=m,Pk}var Ck,JN;function LI(){if(JN)return Ck;JN=1;var b=SI(),S=dL(),m=o$();function O(E,T){return m(S(E,T,b),E+"")}return Ck=O,Ck}var Ak,QN;function fL(){if(QN)return Ak;QN=1;var b=c$(),S=Yx();function m(O,E,T){(T!==void 0&&!S(O[E],T)||T===void 0&&!(E in O))&&b(O,E,T)}return Ak=m,Ak}var Rk,ZN;function AH(){if(ZN)return Rk;ZN=1;function b(S){return function(m,O,E){for(var T=-1,$=Object(m),F=E(m),j=F.length;j--;){var B=F[S?j:++T];if(O($[B],B,$)===!1)break}return m}}return Rk=b,Rk}var kk,eF;function RH(){if(eF)return kk;eF=1;var b=AH(),S=b();return kk=S,kk}var $k,tF;function T$(){if(tF)return $k;tF=1;var b=kI(),S=ps();function m(O){return S(O)&&b(O)}return $k=m,$k}var Dk,rF;function pL(){if(rF)return Dk;rF=1;function b(S,m){if(!(m==="constructor"&&typeof S[m]=="function")&&m!="__proto__")return S[m]}return Dk=b,Dk}var Mk,iF;function kH(){if(iF)return Mk;iF=1;var b=Xx(),S=Qx();function m(O){return b(O,S(O))}return Mk=m,Mk}var jk,nF;function $H(){if(nF)return jk;nF=1;var b=fL(),S=KF(),m=eL(),O=Vx(),E=tL(),T=AI(),$=Gn(),F=T$(),j=RI(),B=TI(),U=fs(),K=iL(),V=f$(),Y=pL(),Z=kH();function se(ne,_e,le,ie,te,we,oe){var ee=Y(ne,le),Te=Y(_e,le),he=oe.get(Te);if(he){b(ne,le,he);return}var Ae=we?we(ee,Te,le+"",ne,_e,oe):void 0,xe=Ae===void 0;if(xe){var Ve=$(Te),it=!Ve&&j(Te),Ze=!Ve&&!it&&V(Te);Ae=Te,Ve||it||Ze?$(ee)?Ae=ee:F(ee)?Ae=O(ee):it?(xe=!1,Ae=S(Te,!0)):Ze?(xe=!1,Ae=m(Te,!0)):Ae=[]:K(Te)||T(Te)?(Ae=ee,T(ee)?Ae=Z(ee):(!U(ee)||B(ee))&&(Ae=E(Te))):xe=!1}xe&&(oe.set(Te,Ae),te(Ae,Te,ie,we,oe),oe.delete(Te)),b(ne,le,Ae)}return jk=se,jk}var Nk,oF;function vL(){if(oF)return Nk;oF=1;var b=FI(),S=fL(),m=RH(),O=$H(),E=fs(),T=Qx(),$=pL();function F(j,B,U,K,V){j!==B&&m(B,function(Y,Z){if(V||(V=new b),E(Y))O(j,B,Z,U,F,K,V);else{var se=K?K($(j,Z),Y,Z+"",j,B,V):void 0;se===void 0&&(se=Y),S(j,Z,se)}},T)}return Nk=F,Nk}var Fk,sF;function DH(){if(sF)return Fk;sF=1;var b=vL(),S=fs();function m(O,E,T,$,F,j){return S(O)&&S(E)&&(j.set(E,O),b(O,E,void 0,m,j),j.delete(E)),O}return Fk=m,Fk}var Lk,aF;function MH(){if(aF)return Lk;aF=1;var b=Yx(),S=kI(),m=CI(),O=fs();function E(T,$,F){if(!O(F))return!1;var j=typeof $;return(j=="number"?S(F)&&m($,F.length):j=="string"&&$ in F)?b(F[$],T):!1}return Lk=E,Lk}var Bk,uF;function jH(){if(uF)return Bk;uF=1;var b=LI(),S=MH();function m(O){return b(function(E,T){var $=-1,F=T.length,j=F>1?T[F-1]:void 0,B=F>2?T[2]:void 0;for(j=O.length>3&&typeof j=="function"?(F--,j):void 0,B&&S(T[0],T[1],B)&&(j=F<3?void 0:j,F=1),E=Object(E);++$<F;){var U=T[$];U&&O(E,U,$,j)}return E})}return Bk=m,Bk}var zk,lF;function NH(){if(lF)return zk;lF=1;var b=vL(),S=jH(),m=S(function(O,E,T,$){b(O,E,T,$)});return zk=m,zk}var qk,cF;function FH(){if(cF)return qk;cF=1;var b=PI(),S=LI(),m=DH(),O=NH(),E=S(function(T){return T.push(void 0,m),b(O,void 0,T)});return qk=E,qk}var Wk,hF;function LH(){if(hF)return Wk;hF=1;var b=CH(),S=b("defaultsDeep",FH());return S.placeholder=TF(),Wk=S,Wk}var Hk,dF;function BH(){if(dF)return Hk;dF=1;var b=E$();function S(m,O){return b(m,O)}return Hk=S,Hk}var Uk,fF;function gL(){if(fF)return Uk;fF=1;function b(S,m,O){for(var E=-1,T=S==null?0:S.length;++E<T;)if(O(m,S[E]))return!0;return!1}return Uk=b,Uk}var Gk,pF;function zH(){if(pF)return Gk;pF=1;var b=w$(),S=a$(),m=gL(),O=eI(),E=Jx(),T=O$(),$=200;function F(j,B,U,K){var V=-1,Y=S,Z=!0,se=j.length,ne=[],_e=B.length;if(!se)return ne;U&&(B=O(B,E(U))),K?(Y=m,Z=!1):B.length>=$&&(Y=T,Z=!1,B=new b(B));e:for(;++V<se;){var le=j[V],ie=U==null?le:U(le);if(le=K||le!==0?le:0,Z&&ie===ie){for(var te=_e;te--;)if(B[te]===ie)continue e;ne.push(le)}else Y(B,ie,K)||ne.push(le)}return ne}return Gk=F,Gk}var Vk,vF;function yL(){if(vF)return Vk;vF=1;function b(S){var m=S==null?0:S.length;return m?S[m-1]:void 0}return Vk=b,Vk}var Kk,gF;function qH(){if(gF)return Kk;gF=1;var b=zH(),S=hL(),m=LI(),O=T$(),E=yL(),T=m(function($,F){var j=E(F);return O(j)&&(j=void 0),O($)?b($,S(F,1,O,!0),void 0,j):[]});return Kk=T,Kk}var Yk,yF;function WH(){if(yF)return Yk;yF=1;var b=w$(),S=a$(),m=gL(),O=eI(),E=Jx(),T=O$(),$=Math.min;function F(j,B,U){for(var K=U?m:S,V=j[0].length,Y=j.length,Z=Y,se=Array(Y),ne=1/0,_e=[];Z--;){var le=j[Z];Z&&B&&(le=O(le,E(B))),ne=$(le.length,ne),se[Z]=!U&&(B||V>=120&&le.length>=120)?new b(Z&&le):void 0}le=j[0];var ie=-1,te=se[0];e:for(;++ie<V&&_e.length<ne;){var we=le[ie],oe=B?B(we):we;if(we=U||we!==0?we:0,!(te?T(te,oe):K(_e,oe,U))){for(Z=Y;--Z;){var ee=se[Z];if(!(ee?T(ee,oe):K(j[Z],oe,U)))continue e}te&&te.push(oe),_e.push(we)}}return _e}return Yk=F,Yk}var Xk,mF;function HH(){if(mF)return Xk;mF=1;var b=T$();function S(m){return b(m)?m:[]}return Xk=S,Xk}var Jk,bF;function UH(){if(bF)return Jk;bF=1;var b=eI(),S=WH(),m=LI(),O=HH(),E=yL(),T=m(function($){var F=E($),j=b($,O);return F=typeof F=="function"?F:void 0,F&&j.pop(),j.length&&j[0]===$[0]?S(j,void 0,F):[]});return Jk=T,Jk}var Hx={exports:{}};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.10
 * @date    2025-07-06T08:42:20.006Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var GH=Hx.exports,_F;function VH(){return _F||(_F=1,function(b,S){(function(m,O){O(S)})(GH,function(m){function O(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xu<"u"?Xu:typeof self<"u"?self:{};function T(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var $={exports:{}},F=function(o){return o&&o.Math===Math&&o},j=F(typeof globalThis=="object"&&globalThis)||F(typeof window=="object"&&window)||F(typeof self=="object"&&self)||F(typeof E=="object"&&E)||function(){return this}()||E||Function("return this")(),B=function(o){try{return!!o()}catch{return!0}},U=!B(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}),K=U,V=Function.prototype,Y=V.apply,Z=V.call,se=typeof Reflect=="object"&&Reflect.apply||(K?Z.bind(Y):function(){return Z.apply(Y,arguments)}),ne=U,_e=Function.prototype,le=_e.call,ie=ne&&_e.bind.bind(le,le),te=ne?ie:function(o){return function(){return le.apply(o,arguments)}},we=te,oe=we({}.toString),ee=we("".slice),Te=function(o){return ee(oe(o),8,-1)},he=Te,Ae=te,xe=function(o){if(he(o)==="Function")return Ae(o)},Ve=typeof document=="object"&&document.all,it={all:Ve,IS_HTMLDDA:Ve===void 0&&Ve!==void 0},Ze=it.all,Fe=it.IS_HTMLDDA?function(o){return typeof o=="function"||o===Ze}:function(o){return typeof o=="function"},je={},et=!B(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Ue=U,dt=Function.prototype.call,ft=Ue?dt.bind(dt):function(){return dt.apply(dt,arguments)},gt={},rn={}.propertyIsEnumerable,ur=Object.getOwnPropertyDescriptor,ut=ur&&!rn.call({1:2},1);gt.f=ut?function(o){var u=ur(this,o);return!!u&&u.enumerable}:rn;var Ft,Or,Er=function(o,u){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:u}},Vn=B,Sr=Te,nn=Object,Ti=te("".split),vr=Vn(function(){return!nn("z").propertyIsEnumerable(0)})?function(o){return Sr(o)==="String"?Ti(o,""):nn(o)}:nn,_t=function(o){return o==null},xi=_t,fe=TypeError,ve=function(o){if(xi(o))throw new fe("Can't call method on "+o);return o},ae=vr,$e=ve,Le=function(o){return ae($e(o))},Xt=Fe,pt=it.all,Ie=it.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:Xt(o)||o===pt}:function(o){return typeof o=="object"?o!==null:Xt(o)},ze={},ei=ze,_n=j,Jt=Fe,lt=function(o){return Jt(o)?o:void 0},tt=function(o,u){return arguments.length<2?lt(ei[o])||lt(_n[o]):ei[o]&&ei[o][u]||_n[o]&&_n[o][u]},yt=te({}.isPrototypeOf),Ii=typeof navigator<"u"&&String(navigator.userAgent)||"",vs=j,Ht=Ii,Pi=vs.process,vt=vs.Deno,wn=Pi&&Pi.versions||vt&&vt.version,go=wn&&wn.v8;go&&(Or=(Ft=go.split("."))[0]>0&&Ft[0]<4?1:+(Ft[0]+Ft[1])),!Or&&Ht&&(!(Ft=Ht.match(/Edge\/(\d+)/))||Ft[1]>=74)&&(Ft=Ht.match(/Chrome\/(\d+)/))&&(Or=+Ft[1]);var On=Or,np=On,Nm=B,gs=j.String,yo=!!Object.getOwnPropertySymbols&&!Nm(function(){var o=Symbol("symbol detection");return!gs(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&np&&np<41}),Ci=yo&&!Symbol.sham&&typeof Symbol.iterator=="symbol",eh=tt,Ta=Fe,Fm=yt,Ju=Object,Qu=Ci?function(o){return typeof o=="symbol"}:function(o){var u=eh("Symbol");return Ta(u)&&Fm(u.prototype,Ju(o))},Zu=String,on=function(o){try{return Zu(o)}catch{return"Object"}},V1=Fe,Lm=on,xa=TypeError,ti=function(o){if(V1(o))return o;throw new xa(Lm(o)+" is not a function")},K1=ti,op=_t,th=function(o,u){var l=o[u];return op(l)?void 0:K1(l)},ys=ft,sp=Fe,ms=Ie,Bm=TypeError,ap={exports:{}},zm=j,ri=Object.defineProperty,qm=function(o,u){try{ri(zm,o,{value:u,configurable:!0,writable:!0})}catch{zm[o]=u}return u},rh="__core-js_shared__",Ia=j[rh]||qm(rh,{}),Kn=Ia;(ap.exports=function(o,u){return Kn[o]||(Kn[o]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var mo=ap.exports,up=ve,Ai=Object,ii=function(o){return Ai(up(o))},Wm=ii,gr=te({}.hasOwnProperty),Ut=Object.hasOwn||function(o,u){return gr(Wm(o),u)},Y1=te,X1=0,J1=Math.random(),ih=Y1(1 .toString),el=function(o){return"Symbol("+(o===void 0?"":o)+")_"+ih(++X1+J1,36)},Hm=mo,nh=Ut,Um=el,Pa=yo,Ca=Ci,bo=j.Symbol,Tr=Hm("wks"),Gt=Ca?bo.for||bo:bo&&bo.withoutSetter||Um,$t=function(o){return nh(Tr,o)||(Tr[o]=Pa&&nh(bo,o)?bo[o]:Gt("Symbol."+o)),Tr[o]},Gm=ft,Lt=Ie,Vm=Qu,Q1=th,Z1=function(o,u){var l,d;if(sp(l=o.toString)&&!ms(d=ys(l,o))||sp(l=o.valueOf)&&!ms(d=ys(l,o)))return d;throw new Bm("Can't convert object to primitive value")},eO=TypeError,oh=$t("toPrimitive"),tO=function(o,u){if(!Lt(o)||Vm(o))return o;var l,d=Q1(o,oh);if(d){if(l=Gm(d,o,u),!Lt(l)||Vm(l))return l;throw new eO("Can't convert object to primitive value")}return Z1(o)},sh=Qu,Aa=function(o){var u=tO(o,"string");return sh(u)?u:u+""},ah=Ie,lp=j.document,Km=ah(lp)&&ah(lp.createElement),_o=function(o){return Km?lp.createElement(o):{}},uh=_o,Ym=!et&&!B(function(){return Object.defineProperty(uh("div"),"a",{get:function(){return 7}}).a!==7}),Dt=et,rO=ft,Xm=gt,Jm=Er,iO=Le,nO=Aa,oO=Ut,Qm=Ym,Zm=Object.getOwnPropertyDescriptor;je.f=Dt?Zm:function(o,u){if(o=iO(o),u=nO(u),Qm)try{return Zm(o,u)}catch{}if(oO(o,u))return Jm(!rO(Xm.f,o,u),o[u])};var sO=B,aO=Fe,tl=/#|\.prototype\./,wo=function(o,u){var l=eb[uO(o)];return l===lO||l!==cp&&(aO(u)?sO(u):!!u)},uO=wo.normalize=function(o){return String(o).replace(tl,".").toLowerCase()},eb=wo.data={},cp=wo.NATIVE="N",lO=wo.POLYFILL="P",lh=wo,cO=ti,hO=U,ch=xe(xe.bind),Vt=function(o,u){return cO(o),u===void 0?o:hO?ch(o,u):function(){return o.apply(u,arguments)}},Mr={},tb=et&&B(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),dO=Ie,fO=String,Yn=TypeError,di=function(o){if(dO(o))return o;throw new Yn(fO(o)+" is not an object")},pO=et,vO=Ym,rl=tb,il=di,rb=Aa,hp=TypeError,bs=Object.defineProperty,dp=Object.getOwnPropertyDescriptor,nl="enumerable",ol="configurable",fp="writable";Mr.f=pO?rl?function(o,u,l){if(il(o),u=rb(u),il(l),typeof o=="function"&&u==="prototype"&&"value"in l&&fp in l&&!l[fp]){var d=dp(o,u);d&&d[fp]&&(o[u]=l.value,l={configurable:ol in l?l[ol]:d[ol],enumerable:nl in l?l[nl]:d[nl],writable:!1})}return bs(o,u,l)}:bs:function(o,u,l){if(il(o),u=rb(u),il(l),vO)try{return bs(o,u,l)}catch{}if("get"in l||"set"in l)throw new hp("Accessors not supported");return"value"in l&&(o[u]=l.value),o};var ib=Mr,_s=Er,Ri=et?function(o,u,l){return ib.f(o,u,_s(1,l))}:function(o,u,l){return o[u]=l,o},hh=j,gO=se,Oo=xe,ni=Fe,yO=je.f,Ra=lh,ws=ze,ka=Vt,Os=Ri,nb=Ut,Ne=function(o){var u=function(l,d,g){if(this instanceof u){switch(arguments.length){case 0:return new o;case 1:return new o(l);case 2:return new o(l,d)}return new o(l,d,g)}return gO(o,this,arguments)};return u.prototype=o.prototype,u},qe=function(o,u){var l,d,g,_,I,C,k,N,z,W=o.target,Q=o.global,re=o.stat,pe=o.proto,Se=Q?hh:re?hh[W]:(hh[W]||{}).prototype,Re=Q?ws:ws[W]||Os(ws,W,{})[W],De=Re.prototype;for(_ in u)d=!(l=Ra(Q?_:W+(re?".":"#")+_,o.forced))&&Se&&nb(Se,_),C=Re[_],d&&(k=o.dontCallGetSet?(z=yO(Se,_))&&z.value:Se[_]),I=d&&k?k:u[_],d&&typeof C==typeof I||(N=o.bind&&d?ka(I,hh):o.wrap&&d?Ne(I):pe&&ni(I)?Oo(I):I,(o.sham||I&&I.sham||C&&C.sham)&&Os(N,"sham",!0),Os(Re,_,N),pe&&(nb(ws,g=W+"Prototype")||Os(ws,g,{}),Os(ws[g],_,I),o.real&&De&&(l||!De[_])&&Os(De,_,I)))},mO=qe,bO=et,Eo=Mr.f;mO({target:"Object",stat:!0,forced:Object.defineProperty!==Eo,sham:!bO},{defineProperty:Eo});var pp=ze.Object,_O=$.exports=function(o,u,l){return pp.defineProperty(o,u,l)};pp.defineProperty.sham&&(_O.sham=!0);var dh=$.exports,$a=dh,Da=T($a),vp=Te,En=Array.isArray||function(o){return vp(o)==="Array"},Sn=Math.ceil,wO=Math.floor,OO=Math.trunc||function(o){var u=+o;return(u>0?wO:Sn)(u)},ki=function(o){var u=+o;return u!=u||u===0?0:OO(u)},sl=ki,gp=Math.min,al=function(o){return o>0?gp(sl(o),9007199254740991):0},jr=function(o){return al(o.length)},EO=TypeError,fh=function(o){if(o>9007199254740991)throw EO("Maximum allowed index exceeded");return o},Ma=Aa,ob=Mr,Es=Er,Xn=function(o,u,l){var d=Ma(u);d in o?ob.f(o,d,Es(0,l)):o[d]=l},sb={};sb[$t("toStringTag")]="z";var Be=String(sb)==="[object z]",ul=Be,ll=Fe,ja=Te,SO=$t("toStringTag"),ab=Object,TO=ja(function(){return arguments}())==="Arguments",sn=ul?ja:function(o){var u,l,d;return o===void 0?"Undefined":o===null?"Null":typeof(l=function(g,_){try{return g[_]}catch{}}(u=ab(o),SO))=="string"?l:TO?ja(u):(d=ja(u))==="Object"&&ll(u.callee)?"Arguments":d},xO=Fe,ph=Ia,IO=te(Function.toString);xO(ph.inspectSource)||(ph.inspectSource=function(o){return IO(o)});var ub=ph.inspectSource,Na=te,lb=B,yp=Fe,vh=sn,cb=ub,wt=function(){},gh=[],mp=tt("Reflect","construct"),bp=/^\s*(?:class|function)\b/,PO=Na(bp.exec),yh=!bp.test(wt),Fa=function(o){if(!yp(o))return!1;try{return mp(wt,gh,o),!0}catch{return!1}},hb=function(o){if(!yp(o))return!1;switch(vh(o)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return yh||!!PO(bp,cb(o))}catch{return!0}};hb.sham=!0;var cl=!mp||lb(function(){var o;return Fa(Fa.call)||!Fa(Object)||!Fa(function(){o=!0})||o})?hb:Fa,db=En,fi=cl,_p=Ie,CO=$t("species"),La=Array,AO=function(o){var u;return db(o)&&(u=o.constructor,(fi(u)&&(u===La||db(u.prototype))||_p(u)&&(u=u[CO])===null)&&(u=void 0)),u===void 0?La:u},Qt=function(o,u){return new(AO(o))(u===0?0:u)},RO=B,Ba=On,kO=$t("species"),Ss=function(o){return Ba>=51||!RO(function(){var u=[];return(u.constructor={})[kO]=function(){return{foo:1}},u[o](Boolean).foo!==1})},fb=qe,de=B,wp=En,pb=Ie,za=ii,vb=jr,Op=fh,Ep=Xn,gb=Qt,yb=Ss,Jn=On,So=$t("isConcatSpreadable"),$O=Jn>=51||!de(function(){var o=[];return o[So]=!1,o.concat()[0]!==o}),mh=function(o){if(!pb(o))return!1;var u=o[So];return u!==void 0?!!u:wp(o)};fb({target:"Array",proto:!0,forced:!$O||!yb("concat")},{concat:function(o){var u,l,d,g,_,I=za(this),C=gb(I,0),k=0;for(u=-1,d=arguments.length;u<d;u++)if(mh(_=u===-1?I:arguments[u]))for(g=vb(_),Op(k+g),l=0;l<g;l++,k++)l in _&&Ep(C,k,_[l]);else Op(k+1),Ep(C,k++,_);return C.length=k,C}});var DO=sn,mb=String,Ts=function(o){if(DO(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return mb(o)},To={},Sp=ki,Tp=Math.max,MO=Math.min,bh=function(o,u){var l=Sp(o);return l<0?Tp(l+u,0):MO(l,u)},hl=Le,jO=bh,bb=jr,xp=function(o){return function(u,l,d){var g,_=hl(u),I=bb(_),C=jO(d,I);if(o&&l!=l){for(;I>C;)if((g=_[C++])!=g)return!0}else for(;I>C;C++)if((o||C in _)&&_[C]===l)return o||C||0;return!o&&-1}},xs={indexOf:xp(!1)},dl={},Qn=Ut,_b=Le,_h=xs.indexOf,wb=dl,Ob=te([].push),Ip=function(o,u){var l,d=_b(o),g=0,_=[];for(l in d)!Qn(wb,l)&&Qn(d,l)&&Ob(_,l);for(;u.length>g;)Qn(d,l=u[g++])&&(~_h(_,l)||Ob(_,l));return _},Pp=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],NO=Ip,Cp=Pp,wh=Object.keys||function(o){return NO(o,Cp)},Eb=et,qa=tb,FO=Mr,LO=di,fl=Le,Sb=wh;To.f=Eb&&!qa?Object.defineProperties:function(o,u){LO(o);for(var l,d=fl(u),g=Sb(u),_=g.length,I=0;_>I;)FO.f(o,l=g[I++],d[l]);return o};var Zn,Ap=tt("document","documentElement"),BO=el,Tb=mo("keys"),Oh=function(o){return Tb[o]||(Tb[o]=BO(o))},xb=di,zO=To,pl=Pp,Ib=dl,qO=Ap,WO=_o,Is="prototype",Rp="script",kp=Oh("IE_PROTO"),$p=function(){},Pb=function(o){return"<"+Rp+">"+o+"</"+Rp+">"},Cb=function(o){o.write(Pb("")),o.close();var u=o.parentWindow.Object;return o=null,u},Eh=function(){try{Zn=new ActiveXObject("htmlfile")}catch{}var o,u,l;Eh=typeof document<"u"?document.domain&&Zn?Cb(Zn):(u=WO("iframe"),l="java"+Rp+":",u.style.display="none",qO.appendChild(u),u.src=String(l),(o=u.contentWindow.document).open(),o.write(Pb("document.F=Object")),o.close(),o.F):Cb(Zn);for(var d=pl.length;d--;)delete Eh[Is][pl[d]];return Eh()};Ib[kp]=!0;var xo=Object.create||function(o,u){var l;return o!==null?($p[Is]=xb(o),l=new $p,$p[Is]=null,l[kp]=o):l=Eh(),u===void 0?l:zO.f(l,u)},$i={},Sh=Ip,HO=Pp.concat("length","prototype");$i.f=Object.getOwnPropertyNames||function(o){return Sh(o,HO)};var Dp={},Mp=bh,Th=jr,UO=Xn,GO=Array,VO=Math.max,an=function(o,u,l){for(var d=Th(o),g=Mp(u,d),_=Mp(l===void 0?d:l,d),I=GO(VO(_-g,0)),C=0;g<_;g++,C++)UO(I,C,o[g]);return I.length=C,I},xh=Te,vl=Le,Ab=$i.f,jp=an,Rb=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Dp.f=function(o){return Rb&&xh(o)==="Window"?function(u){try{return Ab(u)}catch{return jp(Rb)}}(o):Ab(vl(o))};var gl={};gl.f=Object.getOwnPropertySymbols;var KO=Ri,Tn=function(o,u,l,d){return d&&d.enumerable?o[u]=l:KO(o,u,l),o},kb=Mr,yl=function(o,u,l){return kb.f(o,u,l)},Wa={},Ih=$t;Wa.f=Ih;var Ps,ml,bl,$b=ze,YO=Ut,XO=Wa,Np=Mr.f,Ct=function(o){var u=$b.Symbol||($b.Symbol={});YO(u,o)||Np(u,o,{value:XO.f(o)})},Fp=ft,Lp=tt,Db=$t,Bp=Tn,Io=function(){var o=Lp("Symbol"),u=o&&o.prototype,l=u&&u.valueOf,d=Db("toPrimitive");u&&!u[d]&&Bp(u,d,function(g){return Fp(l,this)},{})},_l=sn,wl=Be?{}.toString:function(){return"[object "+_l(this)+"]"},Mb=Be,JO=Mr.f,Ph=Ri,jb=Ut,QO=wl,zp=$t("toStringTag"),Po=function(o,u,l,d){if(o){var g=l?o:o.prototype;jb(g,zp)||JO(g,zp,{configurable:!0,value:u}),d&&!Mb&&Ph(g,"toString",QO)}},qp=Fe,Ol=j.WeakMap,Nb=qp(Ol)&&/native code/.test(String(Ol)),Ch=j,Wp=Ie,Fb=Ri,Ah=Ut,Ha=Ia,Co=Oh,Cs=dl,Ao="Object already initialized",As=Ch.TypeError,ZO=Ch.WeakMap;if(Nb||Ha.state){var pi=Ha.state||(Ha.state=new ZO);pi.get=pi.get,pi.has=pi.has,pi.set=pi.set,Ps=function(o,u){if(pi.has(o))throw new As(Ao);return u.facade=o,pi.set(o,u),u},ml=function(o){return pi.get(o)||{}},bl=function(o){return pi.has(o)}}else{var Di=Co("state");Cs[Di]=!0,Ps=function(o,u){if(Ah(o,Di))throw new As(Ao);return u.facade=o,Fb(o,Di,u),u},ml=function(o){return Ah(o,Di)?o[Di]:{}},bl=function(o){return Ah(o,Di)}}var Mi={set:Ps,get:ml,has:bl,enforce:function(o){return bl(o)?ml(o):Ps(o,{})},getterFor:function(o){return function(u){var l;if(!Wp(u)||(l=ml(u)).type!==o)throw new As("Incompatible receiver, "+o+" required");return l}}},Lb=Vt,eE=vr,tE=ii,rE=jr,Mt=Qt,Bb=te([].push),Rh=function(o){var u=o===1,l=o===2,d=o===3,g=o===4,_=o===6,I=o===7,C=o===5||_;return function(k,N,z,W){for(var Q,re,pe=tE(k),Se=eE(pe),Re=Lb(N,z),De=rE(Se),Oe=0,Ke=W||Mt,Xe=u?Ke(k,De):l||I?Ke(k,0):void 0;De>Oe;Oe++)if((C||Oe in Se)&&(re=Re(Q=Se[Oe],Oe,pe),o))if(u)Xe[Oe]=re;else if(re)switch(o){case 3:return!0;case 5:return Q;case 6:return Oe;case 2:Bb(Xe,Q)}else switch(o){case 4:return!1;case 7:Bb(Xe,Q)}return _?-1:d||g?g:Xe}},Rs={forEach:Rh(0),map:Rh(1),filter:Rh(2),some:Rh(3)},kh=qe,ks=j,Hp=ft,El=te,Ua=et,un=yo,iE=B,Zt=Ut,Sl=yt,$h=di,xn=Le,Up=Aa,zb=Ts,Dh=Er,xt=xo,Gp=wh,nE=$i,qb=Dp,Vp=gl,Tl=je,Wb=Mr,oE=To,Kp=gt,Mh=Tn,sE=yl,ji=mo,$s=dl,ln=el,aE=$t,Hb=Wa,Ds=Ct,uE=Io,lE=Po,jh=Mi,In=Rs.forEach,Bt=Oh("hidden"),Ro="Symbol",ko="prototype",Yp=jh.set,Nh=jh.getterFor(Ro),lr=Object[ko],Ni=ks.Symbol,Fh=Ni&&Ni[ko],rr=ks.RangeError,Xp=ks.TypeError,xl=ks.QObject,$o=Tl.f,vi=Wb.f,Il=qb.f,Jp=Kp.f,Ga=El([].push),ir=ji("symbols"),Pn=ji("op-symbols"),Ms=ji("wks"),Qp=!xl||!xl[ko]||!xl[ko].findChild,Zp=function(o,u,l){var d=$o(lr,u);d&&delete lr[u],vi(o,u,l),d&&o!==lr&&vi(lr,u,d)},Lh=Ua&&iE(function(){return xt(vi({},"a",{get:function(){return vi(this,"a",{value:7}).a}})).a!==7})?Zp:vi,ev=function(o,u){var l=ir[o]=xt(Fh);return Yp(l,{type:Ro,tag:o,description:u}),Ua||(l.description=u),l},Pl=function(o,u,l){o===lr&&Pl(Pn,u,l),$h(o);var d=Up(u);return $h(l),Zt(ir,d)?(l.enumerable?(Zt(o,Bt)&&o[Bt][d]&&(o[Bt][d]=!1),l=xt(l,{enumerable:Dh(0,!1)})):(Zt(o,Bt)||vi(o,Bt,Dh(1,{})),o[Bt][d]=!0),Lh(o,d,l)):vi(o,d,l)},Bh=function(o,u){$h(o);var l=xn(u),d=Gp(l).concat(Va(l));return In(d,function(g){Ua&&!Hp(tv,l,g)||Pl(o,g,l[g])}),o},tv=function(o){var u=Up(o),l=Hp(Jp,this,u);return!(this===lr&&Zt(ir,u)&&!Zt(Pn,u))&&(!(l||!Zt(this,u)||!Zt(ir,u)||Zt(this,Bt)&&this[Bt][u])||l)},js=function(o,u){var l=xn(o),d=Up(u);if(l!==lr||!Zt(ir,d)||Zt(Pn,d)){var g=$o(l,d);return!g||!Zt(ir,d)||Zt(l,Bt)&&l[Bt][d]||(g.enumerable=!0),g}},Do=function(o){var u=Il(xn(o)),l=[];return In(u,function(d){Zt(ir,d)||Zt($s,d)||Ga(l,d)}),l},Va=function(o){var u=o===lr,l=Il(u?Pn:xn(o)),d=[];return In(l,function(g){!Zt(ir,g)||u&&!Zt(lr,g)||Ga(d,ir[g])}),d};un||(Ni=function(){if(Sl(Fh,this))throw new Xp("Symbol is not a constructor");var o=arguments.length&&arguments[0]!==void 0?zb(arguments[0]):void 0,u=ln(o),l=function(d){var g=this===void 0?ks:this;g===lr&&Hp(l,Pn,d),Zt(g,Bt)&&Zt(g[Bt],u)&&(g[Bt][u]=!1);var _=Dh(1,d);try{Lh(g,u,_)}catch(I){if(!(I instanceof rr))throw I;Zp(g,u,_)}};return Ua&&Qp&&Lh(lr,u,{configurable:!0,set:l}),ev(u,o)},Mh(Fh=Ni[ko],"toString",function(){return Nh(this).tag}),Mh(Ni,"withoutSetter",function(o){return ev(ln(o),o)}),Kp.f=tv,Wb.f=Pl,oE.f=Bh,Tl.f=js,nE.f=qb.f=Do,Vp.f=Va,Hb.f=function(o){return ev(aE(o),o)},Ua&&sE(Fh,"description",{configurable:!0,get:function(){return Nh(this).description}})),kh({global:!0,wrap:!0,forced:!un,sham:!un},{Symbol:Ni}),In(Gp(Ms),function(o){Ds(o)}),kh({target:Ro,stat:!0,forced:!un},{useSetter:function(){Qp=!0},useSimple:function(){Qp=!1}}),kh({target:"Object",stat:!0,forced:!un,sham:!Ua},{create:function(o,u){return u===void 0?xt(o):Bh(xt(o),u)},defineProperty:Pl,defineProperties:Bh,getOwnPropertyDescriptor:js}),kh({target:"Object",stat:!0,forced:!un},{getOwnPropertyNames:Do}),uE(),lE(Ni,Ro),$s[Bt]=!0;var Ka=yo&&!!Symbol.for&&!!Symbol.keyFor,rv=qe,cE=tt,Ya=Ut,Xa=Ts,iv=mo,Kt=Ka,xr=iv("string-to-symbol-registry"),Ja=iv("symbol-to-string-registry");rv({target:"Symbol",stat:!0,forced:!Kt},{for:function(o){var u=Xa(o);if(Ya(xr,u))return xr[u];var l=cE("Symbol")(u);return xr[u]=l,Ja[l]=u,l}});var Mo=qe,nv=Ut,Ub=Qu,gi=on,cn=Ka,Qa=mo("symbol-to-string-registry");Mo({target:"Symbol",stat:!0,forced:!cn},{keyFor:function(o){if(!Ub(o))throw new TypeError(gi(o)+" is not a symbol");if(nv(Qa,o))return Qa[o]}});var Cl=te([].slice),ov=En,sv=Fe,zh=Te,jo=Ts,av=te([].push),Gb=qe,qh=tt,Cn=se,Ns=ft,Al=te,Rl=B,Wh=Fe,Hh=Qu,Uh=Cl,Gh=function(o){if(sv(o))return o;if(ov(o)){for(var u=o.length,l=[],d=0;d<u;d++){var g=o[d];typeof g=="string"?av(l,g):typeof g!="number"&&zh(g)!=="Number"&&zh(g)!=="String"||av(l,jo(g))}var _=l.length,I=!0;return function(C,k){if(I)return I=!1,k;if(ov(this))return k;for(var N=0;N<_;N++)if(l[N]===C)return k}}},uv=yo,Vb=String,An=qh("JSON","stringify"),No=Al(/./.exec),Ir=Al("".charAt),kl=Al("".charCodeAt),$l=Al("".replace),hE=Al(1 .toString),Kb=/[\uD800-\uDFFF]/g,Fi=/^[\uD800-\uDBFF]$/,eo=/^[\uDC00-\uDFFF]$/,Za=!uv||Rl(function(){var o=qh("Symbol")("stringify detection");return An([o])!=="[null]"||An({a:o})!=="{}"||An(Object(o))!=="{}"}),Vh=Rl(function(){return An("\uDF06\uD834")!=='"\\udf06\\ud834"'||An("\uDEAD")!=='"\\udead"'}),dE=function(o,u){var l=Uh(arguments),d=Gh(u);if(Wh(d)||o!==void 0&&!Hh(o))return l[1]=function(g,_){if(Wh(d)&&(_=Ns(d,this,Vb(g),_)),!Hh(_))return _},Cn(An,null,l)},lv=function(o,u,l){var d=Ir(l,u-1),g=Ir(l,u+1);return No(Fi,o)&&!No(eo,g)||No(eo,o)&&!No(Fi,d)?"\\u"+hE(kl(o,0),16):o};An&&Gb({target:"JSON",stat:!0,forced:Za||Vh},{stringify:function(o,u,l){var d=Uh(arguments),g=Cn(Za?dE:An,null,d);return Vh&&typeof g=="string"?$l(g,Kb,lv):g}});var cv=gl,Fs=ii;qe({target:"Object",stat:!0,forced:!yo||B(function(){cv.f(1)})},{getOwnPropertySymbols:function(o){var u=cv.f;return u?u(Fs(o)):[]}}),Ct("asyncIterator"),Ct("hasInstance"),Ct("isConcatSpreadable"),Ct("iterator"),Ct("match"),Ct("matchAll"),Ct("replace"),Ct("search"),Ct("species"),Ct("split");var Yb=Io;Ct("toPrimitive"),Yb();var fE=tt,hv=Po;Ct("toStringTag"),hv(fE("Symbol"),"Symbol"),Ct("unscopables"),Po(j.JSON,"JSON",!0);var Pr,eu,dv,fv=ze.Symbol,Fo={},Dl=et,Kh=Ut,tu=Function.prototype,pv=Dl&&Object.getOwnPropertyDescriptor,ru=Kh(tu,"name"),vv={PROPER:ru&&(function(){}).name==="something",CONFIGURABLE:ru&&(!Dl||Dl&&pv(tu,"name").configurable)},Yh=!B(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}),gv=Ut,yv=Fe,pE=ii,Xb=Yh,Jb=Oh("IE_PROTO"),Rn=Object,Xh=Rn.prototype,Ml=Xb?Rn.getPrototypeOf:function(o){var u=pE(o);if(gv(u,Jb))return u[Jb];var l=u.constructor;return yv(l)&&u instanceof l?l.prototype:u instanceof Rn?Xh:null},Qb=B,vE=Fe,mv=Ie,gE=xo,bv=Ml,Zb=Tn,Jh=$t("iterator"),_v=!1;[].keys&&("next"in(dv=[].keys())?(eu=bv(bv(dv)))!==Object.prototype&&(Pr=eu):_v=!0);var yE=!mv(Pr)||Qb(function(){var o={};return Pr[Jh].call(o)!==o});vE((Pr=yE?{}:gE(Pr))[Jh])||Zb(Pr,Jh,function(){return this});var e0={IteratorPrototype:Pr,BUGGY_SAFARI_ITERATORS:_v},wv=e0.IteratorPrototype,mE=xo,jl=Er,bE=Po,t0=Fo,Ls=function(){return this},Ov=te,r0=ti,i0=Fe,iu=String,Ev=TypeError,n0=function(o,u,l){try{return Ov(r0(Object.getOwnPropertyDescriptor(o,u)[l]))}catch{}},Sv=di,_E=function(o){if(typeof o=="object"||i0(o))return o;throw new Ev("Can't set "+iu(o)+" as a prototype")},Bs=Object.setPrototypeOf||("__proto__"in{}?function(){var o,u=!1,l={};try{(o=n0(Object.prototype,"__proto__","set"))(l,[]),u=l instanceof Array}catch{}return function(d,g){return Sv(d),_E(g),u?o(d,g):d.__proto__=g,d}}():void 0),o0=qe,Tv=ft,s0=vv,a0=function(o,u,l,d){var g=u+" Iterator";return o.prototype=mE(wv,{next:jl(1,l)}),bE(o,g,!1,!0),t0[g]=Ls,o},wE=Ml,OE=Po,xv=Tn,hn=Fo,Qh=e0,Nl=s0.PROPER,Zh=Qh.BUGGY_SAFARI_ITERATORS,Iv=$t("iterator"),u0="keys",ed="values",td="entries",l0=function(){return this},nu=function(o,u,l,d,g,_,I){a0(l,u,d);var C,k,N,z=function(De){if(De===g&&Se)return Se;if(!Zh&&De&&De in re)return re[De];switch(De){case u0:case ed:case td:return function(){return new l(this,De)}}return function(){return new l(this)}},W=u+" Iterator",Q=!1,re=o.prototype,pe=re[Iv]||re["@@iterator"]||g&&re[g],Se=!Zh&&pe||z(g),Re=u==="Array"&&re.entries||pe;if(Re&&(C=wE(Re.call(new o)))!==Object.prototype&&C.next&&(OE(C,W,!0,!0),hn[W]=l0),Nl&&g===ed&&pe&&pe.name!==ed&&(Q=!0,Se=function(){return Tv(pe,this)}),g)if(k={values:z(ed),keys:_?Se:z(u0),entries:z(td)},I)for(N in k)(Zh||Q||!(N in re))&&xv(re,N,k[N]);else o0({target:u,proto:!0,forced:Zh||Q},k);return I&&re[Iv]!==Se&&xv(re,Iv,Se,{}),hn[u]=Se,k},Fl=function(o,u){return{value:o,done:u}},EE=Le,Pv=Fo,c0=Mi;Mr.f;var SE=nu,rd=Fl,Cv="Array Iterator",TE=c0.set,xE=c0.getterFor(Cv);SE(Array,"Array",function(o,u){TE(this,{type:Cv,target:EE(o),index:0,kind:u})},function(){var o=xE(this),u=o.target,l=o.index++;if(!u||l>=u.length)return o.target=void 0,rd(void 0,!0);switch(o.kind){case"keys":return rd(l,!1);case"values":return rd(u[l],!1)}return rd([l,u[l]],!1)},"values"),Pv.Arguments=Pv.Array;var IE={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},PE=j,CE=sn,AE=Ri,h0=Fo,d0=$t("toStringTag");for(var id in IE){var Av=PE[id],Rv=Av&&Av.prototype;Rv&&CE(Rv)!==d0&&AE(Rv,d0,id),h0[id]=h0.Array}var f0=fv,nd=$t,kv=Mr.f,$v=nd("metadata"),Ll=Function.prototype;Ll[$v]===void 0&&kv(Ll,$v,{value:null}),Ct("asyncDispose"),Ct("dispose"),Ct("metadata");var p0=f0,RE=te,Bl=tt("Symbol"),Dv=Bl.keyFor,kE=RE(Bl.prototype.valueOf),Mv=Bl.isRegisteredSymbol||function(o){try{return Dv(kE(o))!==void 0}catch{return!1}};qe({target:"Symbol",stat:!0},{isRegisteredSymbol:Mv});for(var zs=mo,od=tt,sd=te,jv=Qu,$E=$t,zl=od("Symbol"),v0=zl.isWellKnownSymbol,g0=od("Object","getOwnPropertyNames"),DE=sd(zl.prototype.valueOf),Nv=zs("wks"),ad=0,Fv=g0(zl),Lv=Fv.length;ad<Lv;ad++)try{var Bv=Fv[ad];jv(zl[Bv])&&$E(Bv)}catch{}var ud=function(o){if(v0&&v0(o))return!0;try{for(var u=DE(o),l=0,d=g0(Nv),g=d.length;l<g;l++)if(Nv[d[l]]==u)return!0}catch{}return!1};qe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:ud}),Ct("matcher"),Ct("observable"),qe({target:"Symbol",stat:!0},{isRegistered:Mv}),qe({target:"Symbol",stat:!0,forced:!0},{isWellKnown:ud}),Ct("metadataKey"),Ct("patternMatch"),Ct("replaceAll");var ql=p0,Lo=T(ql),zv=te,Wl=ki,ME=Ts,jE=ve,y0=zv("".charAt),m0=zv("".charCodeAt),b0=zv("".slice),NE=function(o){return function(u,l){var d,g,_=ME(jE(u)),I=Wl(l),C=_.length;return I<0||I>=C?o?"":void 0:(d=m0(_,I))<55296||d>56319||I+1===C||(g=m0(_,I+1))<56320||g>57343?o?y0(_,I):d:o?b0(_,I,I+2):g-56320+(d-55296<<10)+65536}},FE={charAt:NE(!0)}.charAt,qv=Ts,Wv=Mi,to=nu,ou=Fl,ld="String Iterator",LE=Wv.set,_0=Wv.getterFor(ld);to(String,"String",function(o){LE(this,{type:ld,string:qv(o),index:0})},function(){var o,u=_0(this),l=u.string,d=u.index;return d>=l.length?ou(void 0,!0):(o=FE(l,d),u.index+=o.length,ou(o,!1))});var w0=Wa.f("iterator"),cd=w0,BE=T(cd);function Nr(o){return Nr=typeof Lo=="function"&&typeof BE=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Lo=="function"&&u.constructor===Lo&&u!==Lo.prototype?"symbol":typeof u},Nr(o)}var zE=T(Wa.f("toPrimitive"));function O0(o){var u=function(l,d){if(Nr(l)!=="object"||l===null)return l;var g=l[zE];if(g!==void 0){var _=g.call(l,d);if(Nr(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(l)}(o,"string");return Nr(u)==="symbol"?u:String(u)}function E0(o,u){for(var l=0;l<u.length;l++){var d=u[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Da(o,O0(d.key),d)}}function qs(o,u,l){return u&&E0(o.prototype,u),l&&E0(o,l),Da(o,"prototype",{writable:!1}),o}function Li(o,u,l){return(u=O0(u))in o?Da(o,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[u]=l,o}var S0=te,zt=ti,qE=Ie,WE=Ut,T0=Cl,HE=U,hd=Function,UE=S0([].concat),Ws=S0([].join),Hv={},Uv=HE?hd.bind:function(o){var u=zt(this),l=u.prototype,d=T0(arguments,1),g=function(){var _=UE(d,T0(arguments));return this instanceof g?function(I,C,k){if(!WE(Hv,C)){for(var N=[],z=0;z<C;z++)N[z]="a["+z+"]";Hv[C]=hd("C,a","return new C("+Ws(N,",")+")")}return Hv[C](I,k)}(u,_.length,_):u.apply(o,_)};return qE(l)&&(g.prototype=l),g},jt=Uv;qe({target:"Function",proto:!0,forced:Function.bind!==jt},{bind:jt});var GE=j,x0=ze,Cr=function(o,u){var l=x0[o+"Prototype"],d=l&&l[u];if(d)return d;var g=GE[o],_=g&&g.prototype;return _&&_[u]},Hl=Cr("Function","bind"),VE=yt,Hs=Hl,Gv=Function.prototype,Vv=function(o){var u=o.bind;return o===Gv||VE(Gv,o)&&u===Gv.bind?Hs:u},kn=T(Vv),Kv=ti,I0=ii,dd=vr,P0=jr,Yv=TypeError,Xv=function(o){return function(u,l,d,g){Kv(l);var _=I0(u),I=dd(_),C=P0(_),k=o?C-1:0,N=o?-1:1;if(d<2)for(;;){if(k in I){g=I[k],k+=N;break}if(k+=N,o?k<0:C<=k)throw new Yv("Reduce of empty array with no initial value")}for(;o?k>=0:C>k;k+=N)k in I&&(g=l(g,I[k],k,_));return g}},Jv={left:Xv(!1)},Et=B,Ul=function(o,u){var l=[][o];return!!l&&Et(function(){l.call(null,u||function(){return 1},1)})},su=Te(j.process)==="process",KE=Jv.left;qe({target:"Array",proto:!0,forced:!su&&On>79&&On<83||!Ul("reduce")},{reduce:function(o){var u=arguments.length;return KE(this,o,u,u>1?arguments[1]:void 0)}});var Gl=Cr("Array","reduce"),C0=yt,YE=Gl,Qv=Array.prototype,fd=T(function(o){var u=o.reduce;return o===Qv||C0(Qv,o)&&u===Qv.reduce?YE:u}),XE=Rs.filter;qe({target:"Array",proto:!0,forced:!Ss("filter")},{filter:function(o){return XE(this,o,arguments.length>1?arguments[1]:void 0)}});var Us=Cr("Array","filter"),JE=yt,QE=Us,pd=Array.prototype,cr=T(function(o){var u=o.filter;return o===pd||JE(pd,o)&&u===pd.filter?QE:u}),A0=Rs.map;qe({target:"Array",proto:!0,forced:!Ss("map")},{map:function(o){return A0(this,o,arguments.length>1?arguments[1]:void 0)}});var vd=Cr("Array","map"),R0=yt,gd=vd,Zv=Array.prototype,oi=T(function(o){var u=o.map;return o===Zv||R0(Zv,o)&&u===Zv.map?gd:u}),ZE=En,eS=jr,k0=fh,$0=Vt,D0=function(o,u,l,d,g,_,I,C){for(var k,N,z=g,W=0,Q=!!I&&$0(I,C);W<d;)W in l&&(k=Q?Q(l[W],W,u):l[W],_>0&&ZE(k)?(N=eS(k),z=D0(o,u,k,N,z,_-1)-1):(k0(z+1),o[z]=k),z++),W++;return z},tS=D0,rS=ti,eg=ii,iS=jr,nS=Qt;qe({target:"Array",proto:!0},{flatMap:function(o){var u,l=eg(this),d=iS(l);return rS(o),(u=nS(l,0)).length=tS(u,l,l,d,0,1,o,arguments.length>1?arguments[1]:void 0),u}});var oS=Cr("Array","flatMap"),tg=yt,sS=oS,rg=Array.prototype,yd=T(function(o){var u=o.flatMap;return o===rg||tg(rg,o)&&u===rg.flatMap?sS:u}),aS=function(){function o(u,l,d){var g,_,I;O(this,o),Li(this,"_listeners",{add:kn(g=this._add).call(g,this),remove:kn(_=this._remove).call(_,this),update:kn(I=this._update).call(I,this)}),this._source=u,this._transformers=l,this._target=d}return qs(o,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(u){var l;return fd(l=this._transformers).call(l,function(d,g){return g(d)},u)}},{key:"_add",value:function(u,l){l!=null&&this._target.add(this._transformItems(this._source.get(l.items)))}},{key:"_update",value:function(u,l){l!=null&&this._target.update(this._transformItems(this._source.get(l.items)))}},{key:"_remove",value:function(u,l){l!=null&&this._target.remove(this._transformItems(l.oldData))}}]),o}(),ro=function(){function o(u){O(this,o),Li(this,"_transformers",[]),this._source=u}return qs(o,[{key:"filter",value:function(u){return this._transformers.push(function(l){return cr(l).call(l,u)}),this}},{key:"map",value:function(u){return this._transformers.push(function(l){return oi(l).call(l,u)}),this}},{key:"flatMap",value:function(u){return this._transformers.push(function(l){return yd(l).call(l,u)}),this}},{key:"to",value:function(u){return new aS(this._source,this._transformers,u)}}]),o}(),uS=ft,ig=di,lS=th,M0=function(o,u,l){var d,g;ig(o);try{if(!(d=lS(o,"return"))){if(u==="throw")throw l;return l}d=uS(d,o)}catch(_){g=!0,d=_}if(u==="throw")throw l;if(g)throw d;return ig(d),l},cS=di,md=M0,j0=Fo,N0=$t("iterator"),hS=Array.prototype,ng=function(o){return o!==void 0&&(j0.Array===o||hS[N0]===o)},og=sn,bd=th,dS=_t,F0=Fo,L0=$t("iterator"),Vl=function(o){if(!dS(o))return bd(o,L0)||bd(o,"@@iterator")||F0[og(o)]},fS=ft,pS=ti,sg=di,ag=on,vS=Vl,Bo=TypeError,ug=function(o,u){var l=arguments.length<2?vS(o):u;if(pS(l))return sg(fS(l,o));throw new Bo(ag(o)+" is not iterable")},B0=Vt,gS=ft,z0=ii,yS=function(o,u,l,d){try{return d?u(cS(l)[0],l[1]):u(l)}catch(g){md(o,"throw",g)}},mS=ng,lg=cl,zo=jr,_d=Xn,bS=ug,_S=Vl,q0=Array,W0=$t("iterator"),cg=!1;try{var hg=0,H0={next:function(){return{done:!!hg++}},return:function(){cg=!0}};H0[W0]=function(){return this},Array.from(H0,function(){throw 2})}catch{}var Fr=function(o,u){try{if(!u&&!cg)return!1}catch{return!1}var l=!1;try{var d={};d[W0]=function(){return{next:function(){return{done:l=!0}}}},o(d)}catch{}return l},U0=function(o){var u=z0(o),l=lg(this),d=arguments.length,g=d>1?arguments[1]:void 0,_=g!==void 0;_&&(g=B0(g,d>2?arguments[2]:void 0));var I,C,k,N,z,W,Q=_S(u),re=0;if(!Q||this===q0&&mS(Q))for(I=zo(u),C=l?new this(I):q0(I);I>re;re++)W=_?g(u[re],re):u[re],_d(C,re,W);else for(z=(N=bS(u,Q)).next,C=l?new this:[];!(k=gS(z,N)).done;re++)W=_?yS(N,g,[k.value,re],!0):k.value,_d(C,re,W);return C.length=re,C};qe({target:"Array",stat:!0,forced:!Fr(function(o){Array.from(o)})},{from:U0});var G0=ze.Array.from,au=T(G0),V0=Vl,dg=T(V0),Kl=T(V0);qe({target:"Array",stat:!0},{isArray:En});var fg=ze.Array.isArray,K0=T(fg),wS=et,OS=En,ES=TypeError,Y0=Object.getOwnPropertyDescriptor,wd=wS&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}()?function(o,u){if(OS(o)&&!Y0(o,"length").writable)throw new ES("Cannot set read only .length");return o.length=u}:function(o,u){return o.length=u},SS=ii,TS=jr,pg=wd,vg=fh;qe({target:"Array",proto:!0,forced:B(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(o){return o instanceof TypeError}}()},{push:function(o){var u=SS(this),l=TS(u),d=arguments.length;vg(l+d);for(var g=0;g<d;g++)u[l]=arguments[g],l++;return pg(u,l),l}});var xS=Cr("Array","push"),uu=yt,IS=xS,Od=Array.prototype,gg=function(o){var u=o.push;return o===Od||uu(Od,o)&&u===Od.push?IS:u},PS=T(gg),CS=qe,X0=En,AS=cl,J0=Ie,lu=bh,Q0=jr,Z0=Le,yg=Xn,e_=$t,qo=Cl,qt=Ss("slice"),t_=e_("species"),mg=Array,RS=Math.max;CS({target:"Array",proto:!0,forced:!qt},{slice:function(o,u){var l,d,g,_=Z0(this),I=Q0(_),C=lu(o,I),k=lu(u===void 0?I:u,I);if(X0(_)&&(l=_.constructor,(AS(l)&&(l===mg||X0(l.prototype))||J0(l)&&(l=l[t_])===null)&&(l=void 0),l===mg||l===void 0))return qo(_,C,k);for(d=new(l===void 0?mg:l)(RS(k-C,0)),g=0;C<k;C++,g++)C in _&&yg(d,g,_[C]);return d.length=g,d}});var bg=Cr("Array","slice"),_g=yt,kS=bg,Ed=Array.prototype,r_=function(o){var u=o.slice;return o===Ed||_g(Ed,o)&&u===Ed.slice?kS:u},Sd=r_,wg=T(Sd),mt=T(G0);function Td(o,u){(u==null||u>o.length)&&(u=o.length);for(var l=0,d=new Array(u);l<u;l++)d[l]=o[l];return d}function Wo(o,u){var l;if(o){if(typeof o=="string")return Td(o,u);var d=wg(l=Object.prototype.toString.call(o)).call(l,8,-1);return d==="Object"&&o.constructor&&(d=o.constructor.name),d==="Map"||d==="Set"?mt(o):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Td(o,u):void 0}}function yr(o,u){return function(l){if(K0(l))return l}(o)||function(l,d){var g=l==null?null:Lo!==void 0&&dg(l)||l["@@iterator"];if(g!=null){var _,I,C,k,N=[],z=!0,W=!1;try{if(C=(g=g.call(l)).next,d===0){if(Object(g)!==g)return;z=!1}else for(;!(z=(_=C.call(g)).done)&&(PS(N).call(N,_.value),N.length!==d);z=!0);}catch(Q){W=!0,I=Q}finally{try{if(!z&&g.return!=null&&(k=g.return(),Object(k)!==k))return}finally{if(W)throw I}}return N}}(o,u)||Wo(o,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lr(o){return function(u){if(K0(u))return Td(u)}(o)||function(u){if(Lo!==void 0&&dg(u)!=null||u["@@iterator"]!=null)return mt(u)}(o)||Wo(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Yl=T(f0),er=Cr("Array","concat"),$S=yt,DS=er,xd=Array.prototype,Id=T(function(o){var u=o.concat;return o===xd||$S(xd,o)&&u===xd.concat?DS:u}),Gs=T(r_),MS=tt,jS=$i,i_=gl,NS=di,Vs=te([].concat),Og=MS("Reflect","ownKeys")||function(o){var u=jS.f(NS(o)),l=i_.f;return l?Vs(u,l(o)):u};qe({target:"Reflect",stat:!0},{ownKeys:Og});var Eg=T(ze.Reflect.ownKeys),Br=T(fg),n_=ii,Sg=wh;qe({target:"Object",stat:!0,forced:B(function(){Sg(1)})},{keys:function(o){return Sg(n_(o))}});var Tg=T(ze.Object.keys),o_=Rs.forEach,xg=Ul("forEach")?[].forEach:function(o){return o_(this,o,arguments.length>1?arguments[1]:void 0)};qe({target:"Array",proto:!0,forced:[].forEach!==xg},{forEach:xg});var Bi=Cr("Array","forEach"),FS=sn,s_=Ut,Xl=yt,LS=Bi,Pd=Array.prototype,BS={DOMTokenList:!0,NodeList:!0},Ig=function(o){var u=o.forEach;return o===Pd||Xl(Pd,o)&&u===Pd.forEach||s_(BS,FS(o))?LS:u},Ho=T(Ig),Pg=qe,zS=En,Jl=te([].reverse),zi=[1,2];Pg({target:"Array",proto:!0,forced:String(zi)===String(zi.reverse())},{reverse:function(){return zS(this)&&(this.length=this.length),Jl(this)}});var qi=Cr("Array","reverse"),Cd=yt,$n=qi,io=Array.prototype,Cg=function(o){var u=o.reverse;return o===io||Cd(io,o)&&u===io.reverse?$n:u},qS=T(Cg),Ks=on,Uo=TypeError,Ad=function(o,u){if(!delete o[u])throw new Uo("Cannot delete property "+Ks(u)+" of "+Ks(o))},Rd=qe,a_=ii,u_=bh,l_=ki,c_=jr,Ag=wd,Ys=fh,Xs=Qt,Ql=Xn,cu=Ad,h_=Ss("splice"),WS=Math.max,hr=Math.min;Rd({target:"Array",proto:!0,forced:!h_},{splice:function(o,u){var l,d,g,_,I,C,k=a_(this),N=c_(k),z=u_(o,N),W=arguments.length;for(W===0?l=d=0:W===1?(l=0,d=N-z):(l=W-2,d=hr(WS(l_(u),0),N-z)),Ys(N+l-d),g=Xs(k,d),_=0;_<d;_++)(I=z+_)in k&&Ql(g,_,k[I]);if(g.length=d,l<d){for(_=z;_<N-d;_++)C=_+l,(I=_+d)in k?k[C]=k[I]:cu(k,C);for(_=N;_>N-d+l;_--)cu(k,_-1)}else if(l>d)for(_=N-d;_>z;_--)C=_+l-1,(I=_+d-1)in k?k[C]=k[I]:cu(k,C);for(_=0;_<l;_++)k[_+z]=arguments[_+2];return Ag(k,N-d+l),g}});var Zl=Cr("Array","splice"),Rg=yt,HS=Zl,mr=Array.prototype,Yt=T(function(o){var u=o.splice;return o===mr||Rg(mr,o)&&u===mr.splice?HS:u}),zr=et,kd=te,ec=ft,Js=B,Qs=wh,hu=gl,Dn=gt,Zs=ii,si=vr,ea=Object.assign,tc=Object.defineProperty,no=kd([].concat),$d=!ea||Js(function(){if(zr&&ea({b:1},ea(tc({},"a",{enumerable:!0,get:function(){tc(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var o={},u={},l=Symbol("assign detection"),d="abcdefghijklmnopqrst";return o[l]=7,d.split("").forEach(function(g){u[g]=g}),ea({},o)[l]!==7||Qs(ea({},u)).join("")!==d})?function(o,u){for(var l=Zs(o),d=arguments.length,g=1,_=hu.f,I=Dn.f;d>g;)for(var C,k=si(arguments[g++]),N=_?no(Qs(k),_(k)):Qs(k),z=N.length,W=0;z>W;)C=N[W++],zr&&!ec(I,k,C)||(l[C]=k[C]);return l}:ea,oo=$d;qe({target:"Object",stat:!0,forced:Object.assign!==oo},{assign:oo});var kg=T(ze.Object.assign),$g=ii,Dg=Ml,d_=Yh;qe({target:"Object",stat:!0,forced:B(function(){Dg(1)}),sham:!d_},{getPrototypeOf:function(o){return Dg($g(o))}});var Dd=ze.Object.getPrototypeOf;qe({target:"Object",stat:!0,sham:!et},{create:xo});var Mg=ze.Object,jg=function(o,u){return Mg.create(o,u)},f_=T(jg),Ng=ze,US=se;Ng.JSON||(Ng.JSON={stringify:JSON.stringify});var rc=function(o,u,l){return US(Ng.JSON.stringify,null,arguments)},ta=T(rc),ic=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",p_=TypeError,ra=function(o,u){if(o<u)throw new p_("Not enough arguments");return o},Go=j,GS=se,VS=Fe,v_=ic,g_=Ii,y_=Cl,du=ra,Fg=Go.Function,m_=/MSIE .\./.test(g_)||v_&&function(){var o=Go.Bun.version.split(".");return o.length<3||o[0]==="0"&&(o[1]<3||o[1]==="3"&&o[2]==="0")}(),Md=function(o,u){var l=2;return m_?function(d,g){var _=du(arguments.length,1)>l,I=VS(d)?d:Fg(d),C=_?y_(arguments,l):[],k=_?function(){GS(I,this,C)}:I;return o(k,g)}:o},KS=qe,b_=j,jd=Md(b_.setInterval);KS({global:!0,bind:!0,forced:b_.setInterval!==jd},{setInterval:jd});var YS=qe,Lg=j,__=Md(Lg.setTimeout);YS({global:!0,bind:!0,forced:Lg.setTimeout!==__},{setTimeout:__});var w_=T(ze.setTimeout),Bg={exports:{}};(function(o){function u(l){if(l)return function(d){return Object.assign(d,u.prototype),d._callbacks=new Map,d}(l);this._callbacks=new Map}u.prototype.on=function(l,d){const g=this._callbacks.get(l)??[];return g.push(d),this._callbacks.set(l,g),this},u.prototype.once=function(l,d){const g=(..._)=>{this.off(l,g),d.apply(this,_)};return g.fn=d,this.on(l,g),this},u.prototype.off=function(l,d){if(l===void 0&&d===void 0)return this._callbacks.clear(),this;if(d===void 0)return this._callbacks.delete(l),this;const g=this._callbacks.get(l);if(g){for(const[_,I]of g.entries())if(I===d||I.fn===d){g.splice(_,1);break}g.length===0?this._callbacks.delete(l):this._callbacks.set(l,g)}return this},u.prototype.emit=function(l,...d){const g=this._callbacks.get(l);if(g){const _=[...g];for(const I of _)I.apply(this,d)}return this},u.prototype.listeners=function(l){return this._callbacks.get(l)??[]},u.prototype.listenerCount=function(l){if(l)return this.listeners(l).length;let d=0;for(const g of this._callbacks.values())d+=g.length;return d},u.prototype.hasListeners=function(l){return this.listenerCount(l)>0},u.prototype.addEventListener=u.prototype.on,u.prototype.removeListener=u.prototype.off,u.prototype.removeEventListener=u.prototype.off,u.prototype.removeAllListeners=u.prototype.off,o.exports=u})(Bg);var Vo,Ko=T(Bg.exports);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license */function dn(){return dn=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])}return o},dn.apply(this,arguments)}function qr(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}function nc(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}Vo=typeof Object.assign!="function"?function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(o),l=1;l<arguments.length;l++){var d=arguments[l];if(d!=null)for(var g in d)d.hasOwnProperty(g)&&(u[g]=d[g])}return u}:Object.assign;var Wr,so=Vo,ia=["","webkit","Moz","MS","ms","o"],O_=typeof document>"u"?{style:{}}:document.createElement("div"),Yo=Math.round,Xo=Math.abs,Nd=Date.now;function na(o,u){for(var l,d,g=u[0].toUpperCase()+u.slice(1),_=0;_<ia.length;){if((d=(l=ia[_])?l+g:u)in o)return d;_++}}Wr=typeof window>"u"?{}:window;var zg=na(O_.style,"touchAction"),qg=zg!==void 0,Wg="compute",Hg="auto",Fd="manipulation",oa="none",oc="pan-x",fu="pan-y",sc=function(){if(!qg)return!1;var o={},u=Wr.CSS&&Wr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(l){return o[l]=!u||Wr.CSS.supports("touch-action",l)}),o}(),Ug="ontouchstart"in Wr,E_=na(Wr,"PointerEvent")!==void 0,XS=Ug&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),pu="touch",ac="mouse",S_=25,dr=1,Nt=4,At=8,Ld=1,uc=2,lc=4,cc=8,yi=16,Hr=uc|lc,Jo=cc|yi,ao=Hr|Jo,Gg=["x","y"],Wi=["clientX","clientY"];function Hi(o,u,l){var d;if(o)if(o.forEach)o.forEach(u,l);else if(o.length!==void 0)for(d=0;d<o.length;)u.call(l,o[d],d,o),d++;else for(d in o)o.hasOwnProperty(d)&&u.call(l,o[d],d,o)}function bt(o,u){return typeof o=="function"?o.apply(u&&u[0]||void 0,u):o}function Mn(o,u){return o.indexOf(u)>-1}var T_=function(){function o(l,d){this.manager=l,this.set(d)}var u=o.prototype;return u.set=function(l){l===Wg&&(l=this.compute()),qg&&this.manager.element.style&&sc[l]&&(this.manager.element.style[zg]=l),this.actions=l.toLowerCase().trim()},u.update=function(){this.set(this.manager.options.touchAction)},u.compute=function(){var l=[];return Hi(this.manager.recognizers,function(d){bt(d.options.enable,[d])&&(l=l.concat(d.getTouchAction()))}),function(d){if(Mn(d,oa))return oa;var g=Mn(d,oc),_=Mn(d,fu);return g&&_?oa:g||_?g?oc:fu:Mn(d,Fd)?Fd:Hg}(l.join(" "))},u.preventDefaults=function(l){var d=l.srcEvent,g=l.offsetDirection;if(this.manager.session.prevented)d.preventDefault();else{var _=this.actions,I=Mn(_,oa)&&!sc[oa],C=Mn(_,fu)&&!sc[fu],k=Mn(_,oc)&&!sc[oc];if(I){var N=l.pointers.length===1,z=l.distance<2,W=l.deltaTime<250;if(N&&z&&W)return}if(!k||!C)return I||C&&g&Hr||k&&g&Jo?this.preventSrc(d):void 0}},u.preventSrc=function(l){this.manager.session.prevented=!0,l.preventDefault()},o}();function nt(o,u){for(;o;){if(o===u)return!0;o=o.parentNode}return!1}function Bd(o){var u=o.length;if(u===1)return{x:Yo(o[0].clientX),y:Yo(o[0].clientY)};for(var l=0,d=0,g=0;g<u;)l+=o[g].clientX,d+=o[g].clientY,g++;return{x:Yo(l/u),y:Yo(d/u)}}function mi(o){for(var u=[],l=0;l<o.pointers.length;)u[l]={clientX:Yo(o.pointers[l].clientX),clientY:Yo(o.pointers[l].clientY)},l++;return{timeStamp:Nd(),pointers:u,center:Bd(u),deltaX:o.deltaX,deltaY:o.deltaY}}function hc(o,u,l){l||(l=Gg);var d=u[l[0]]-o[l[0]],g=u[l[1]]-o[l[1]];return Math.sqrt(d*d+g*g)}function vu(o,u,l){l||(l=Gg);var d=u[l[0]]-o[l[0]],g=u[l[1]]-o[l[1]];return 180*Math.atan2(g,d)/Math.PI}function sa(o,u){return o===u?Ld:Xo(o)>=Xo(u)?o<0?uc:lc:u<0?cc:yi}function dc(o,u,l){return{x:u/o||0,y:l/o||0}}function gu(o,u){var l=o.session,d=u.pointers,g=d.length;l.firstInput||(l.firstInput=mi(u)),g>1&&!l.firstMultiple?l.firstMultiple=mi(u):g===1&&(l.firstMultiple=!1);var _=l.firstInput,I=l.firstMultiple,C=I?I.center:_.center,k=u.center=Bd(d);u.timeStamp=Nd(),u.deltaTime=u.timeStamp-_.timeStamp,u.angle=vu(C,k),u.distance=hc(C,k),function(Se,Re){var De=Re.center,Oe=Se.offsetDelta||{},Ke=Se.prevDelta||{},Xe=Se.prevInput||{};Re.eventType!==dr&&Xe.eventType!==Nt||(Ke=Se.prevDelta={x:Xe.deltaX||0,y:Xe.deltaY||0},Oe=Se.offsetDelta={x:De.x,y:De.y}),Re.deltaX=Ke.x+(De.x-Oe.x),Re.deltaY=Ke.y+(De.y-Oe.y)}(l,u),u.offsetDirection=sa(u.deltaX,u.deltaY);var N,z,W=dc(u.deltaTime,u.deltaX,u.deltaY);u.overallVelocityX=W.x,u.overallVelocityY=W.y,u.overallVelocity=Xo(W.x)>Xo(W.y)?W.x:W.y,u.scale=I?(N=I.pointers,hc((z=d)[0],z[1],Wi)/hc(N[0],N[1],Wi)):1,u.rotation=I?function(Se,Re){return vu(Re[1],Re[0],Wi)+vu(Se[1],Se[0],Wi)}(I.pointers,d):0,u.maxPointers=l.prevInput?u.pointers.length>l.prevInput.maxPointers?u.pointers.length:l.prevInput.maxPointers:u.pointers.length,function(Se,Re){var De,Oe,Ke,Xe,ot=Se.lastInterval||Re,Tt=Re.timeStamp-ot.timeStamp;if(Re.eventType!==At&&(Tt>S_||ot.velocity===void 0)){var Qr=Re.deltaX-ot.deltaX,Dr=Re.deltaY-ot.deltaY,yn=dc(Tt,Qr,Dr);Oe=yn.x,Ke=yn.y,De=Xo(yn.x)>Xo(yn.y)?yn.x:yn.y,Xe=sa(Qr,Dr),Se.lastInterval=Re}else De=ot.velocity,Oe=ot.velocityX,Ke=ot.velocityY,Xe=ot.direction;Re.velocity=De,Re.velocityX=Oe,Re.velocityY=Ke,Re.direction=Xe}(l,u);var Q,re=o.element,pe=u.srcEvent;nt(Q=pe.composedPath?pe.composedPath()[0]:pe.path?pe.path[0]:pe.target,re)&&(re=Q),u.target=re}function x_(o,u,l){var d=l.pointers.length,g=l.changedPointers.length,_=u&dr&&d-g==0,I=u&(Nt|At)&&d-g==0;l.isFirst=!!_,l.isFinal=!!I,_&&(o.session={}),l.eventType=u,gu(o,l),o.emit("hammer.input",l),o.recognize(l),o.session.prevInput=l}function yu(o){return o.trim().split(/\s+/g)}function Ui(o,u,l){Hi(yu(u),function(d){o.addEventListener(d,l,!1)})}function Ar(o,u,l){Hi(yu(u),function(d){o.removeEventListener(d,l,!1)})}function I_(o){var u=o.ownerDocument||o;return u.defaultView||u.parentWindow||window}var ai=function(){function o(l,d){var g=this;this.manager=l,this.callback=d,this.element=l.element,this.target=l.options.inputTarget,this.domHandler=function(_){bt(l.options.enable,[l])&&g.handler(_)},this.init()}var u=o.prototype;return u.handler=function(){},u.init=function(){this.evEl&&Ui(this.element,this.evEl,this.domHandler),this.evTarget&&Ui(this.target,this.evTarget,this.domHandler),this.evWin&&Ui(I_(this.element),this.evWin,this.domHandler)},u.destroy=function(){this.evEl&&Ar(this.element,this.evEl,this.domHandler),this.evTarget&&Ar(this.target,this.evTarget,this.domHandler),this.evWin&&Ar(I_(this.element),this.evWin,this.domHandler)},o}();function aa(o,u,l){if(o.indexOf&&!l)return o.indexOf(u);for(var d=0;d<o.length;){if(l&&o[d][l]==u||!l&&o[d]===u)return d;d++}return-1}var JS={pointerdown:dr,pointermove:2,pointerup:Nt,pointercancel:At,pointerout:At},Vg={2:pu,3:"pen",4:ac,5:"kinect"},Kg="pointerdown",mu="pointermove pointerup pointercancel";Wr.MSPointerEvent&&!Wr.PointerEvent&&(Kg="MSPointerDown",mu="MSPointerMove MSPointerUp MSPointerCancel");var fc=function(o){function u(){var l,d=u.prototype;return d.evEl=Kg,d.evWin=mu,(l=o.apply(this,arguments)||this).store=l.manager.session.pointerEvents=[],l}return qr(u,o),u.prototype.handler=function(l){var d=this.store,g=!1,_=l.type.toLowerCase().replace("ms",""),I=JS[_],C=Vg[l.pointerType]||l.pointerType,k=C===pu,N=aa(d,l.pointerId,"pointerId");I&dr&&(l.button===0||k)?N<0&&(d.push(l),N=d.length-1):I&(Nt|At)&&(g=!0),N<0||(d[N]=l,this.callback(this.manager,I,{pointers:d,changedPointers:[l],pointerType:C,srcEvent:l}),g&&d.splice(N,1))},u}(ai);function pc(o){return Array.prototype.slice.call(o,0)}function Yg(o,u,l){for(var d=[],g=[],_=0;_<o.length;){var I=u?o[_][u]:o[_];aa(g,I)<0&&d.push(o[_]),g[_]=I,_++}return l&&(d=u?d.sort(function(C,k){return C[u]>k[u]}):d.sort()),d}var bu={touchstart:dr,touchmove:2,touchend:Nt,touchcancel:At},Xg=function(o){function u(){var l;return u.prototype.evTarget="touchstart touchmove touchend touchcancel",(l=o.apply(this,arguments)||this).targetIds={},l}return qr(u,o),u.prototype.handler=function(l){var d=bu[l.type],g=P_.call(this,l,d);g&&this.callback(this.manager,d,{pointers:g[0],changedPointers:g[1],pointerType:pu,srcEvent:l})},u}(ai);function P_(o,u){var l,d,g=pc(o.touches),_=this.targetIds;if(u&(2|dr)&&g.length===1)return _[g[0].identifier]=!0,[g,g];var I=pc(o.changedTouches),C=[],k=this.target;if(d=g.filter(function(N){return nt(N.target,k)}),u===dr)for(l=0;l<d.length;)_[d[l].identifier]=!0,l++;for(l=0;l<I.length;)_[I[l].identifier]&&C.push(I[l]),u&(Nt|At)&&delete _[I[l].identifier],l++;return C.length?[Yg(d.concat(C),"identifier",!0),C]:void 0}var QS={mousedown:dr,mousemove:2,mouseup:Nt},vc=function(o){function u(){var l,d=u.prototype;return d.evEl="mousedown",d.evWin="mousemove mouseup",(l=o.apply(this,arguments)||this).pressed=!1,l}return qr(u,o),u.prototype.handler=function(l){var d=QS[l.type];d&dr&&l.button===0&&(this.pressed=!0),2&d&&l.which!==1&&(d=Nt),this.pressed&&(d&Nt&&(this.pressed=!1),this.callback(this.manager,d,{pointers:[l],changedPointers:[l],pointerType:ac,srcEvent:l}))},u}(ai),C_=2500;function zd(o){var u=o.changedPointers[0];if(u.identifier===this.primaryTouch){var l={x:u.clientX,y:u.clientY},d=this.lastTouches;this.lastTouches.push(l),setTimeout(function(){var g=d.indexOf(l);g>-1&&d.splice(g,1)},C_)}}function Ur(o,u){o&dr?(this.primaryTouch=u.changedPointers[0].identifier,zd.call(this,u)):o&(Nt|At)&&zd.call(this,u)}function A_(o){for(var u=o.srcEvent.clientX,l=o.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var g=this.lastTouches[d],_=Math.abs(u-g.x),I=Math.abs(l-g.y);if(_<=25&&I<=25)return!0}return!1}var uo=function(){return function(o){function u(l,d){var g;return(g=o.call(this,l,d)||this).handler=function(_,I,C){var k=C.pointerType===pu,N=C.pointerType===ac;if(!(N&&C.sourceCapabilities&&C.sourceCapabilities.firesTouchEvents)){if(k)Ur.call(nc(nc(g)),I,C);else if(N&&A_.call(nc(nc(g)),C))return;g.callback(_,I,C)}},g.touch=new Xg(g.manager,g.handler),g.mouse=new vc(g.manager,g.handler),g.primaryTouch=null,g.lastTouches=[],g}return qr(u,o),u.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},u}(ai)}();function fn(o,u,l){return!!Array.isArray(o)&&(Hi(o,l[u],l),!0)}var Qe=32,Ge=1;function br(o,u){var l=u.manager;return l?l.get(o):o}function nr(o){return 16&o?"cancel":8&o?"end":4&o?"move":2&o?"start":""}var jn=function(){function o(l){l===void 0&&(l={}),this.options=dn({enable:!0},l),this.id=Ge++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var u=o.prototype;return u.set=function(l){return so(this.options,l),this.manager&&this.manager.touchAction.update(),this},u.recognizeWith=function(l){if(fn(l,"recognizeWith",this))return this;var d=this.simultaneous;return d[(l=br(l,this)).id]||(d[l.id]=l,l.recognizeWith(this)),this},u.dropRecognizeWith=function(l){return fn(l,"dropRecognizeWith",this)||(l=br(l,this),delete this.simultaneous[l.id]),this},u.requireFailure=function(l){if(fn(l,"requireFailure",this))return this;var d=this.requireFail;return aa(d,l=br(l,this))===-1&&(d.push(l),l.requireFailure(this)),this},u.dropRequireFailure=function(l){if(fn(l,"dropRequireFailure",this))return this;l=br(l,this);var d=aa(this.requireFail,l);return d>-1&&this.requireFail.splice(d,1),this},u.hasRequireFailures=function(){return this.requireFail.length>0},u.canRecognizeWith=function(l){return!!this.simultaneous[l.id]},u.emit=function(l){var d=this,g=this.state;function _(I){d.manager.emit(I,l)}g<8&&_(d.options.event+nr(g)),_(d.options.event),l.additionalEvent&&_(l.additionalEvent),g>=8&&_(d.options.event+nr(g))},u.tryEmit=function(l){if(this.canEmit())return this.emit(l);this.state=Qe},u.canEmit=function(){for(var l=0;l<this.requireFail.length;){if(!(33&this.requireFail[l].state))return!1;l++}return!0},u.recognize=function(l){var d=so({},l);if(!bt(this.options.enable,[this,d]))return this.reset(),void(this.state=Qe);56&this.state&&(this.state=1),this.state=this.process(d),30&this.state&&this.tryEmit(d)},u.process=function(l){},u.getTouchAction=function(){},u.reset=function(){},o}(),qd=function(o){function u(d){var g;return d===void 0&&(d={}),(g=o.call(this,dn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},d))||this).pTime=!1,g.pCenter=!1,g._timer=null,g._input=null,g.count=0,g}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){return[Fd]},l.process=function(d){var g=this,_=this.options,I=d.pointers.length===_.pointers,C=d.distance<_.threshold,k=d.deltaTime<_.time;if(this.reset(),d.eventType&dr&&this.count===0)return this.failTimeout();if(C&&k&&I){if(d.eventType!==Nt)return this.failTimeout();var N=!this.pTime||d.timeStamp-this.pTime<_.interval,z=!this.pCenter||hc(this.pCenter,d.center)<_.posThreshold;if(this.pTime=d.timeStamp,this.pCenter=d.center,z&&N?this.count+=1:this.count=1,this._input=d,this.count%_.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){g.state=8,g.tryEmit()},_.interval),2):8}return Qe},l.failTimeout=function(){var d=this;return this._timer=setTimeout(function(){d.state=Qe},this.options.interval),Qe},l.reset=function(){clearTimeout(this._timer)},l.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},u}(jn),bi=function(o){function u(d){return d===void 0&&(d={}),o.call(this,dn({pointers:1},d))||this}qr(u,o);var l=u.prototype;return l.attrTest=function(d){var g=this.options.pointers;return g===0||d.pointers.length===g},l.process=function(d){var g=this.state,_=d.eventType,I=6&g,C=this.attrTest(d);return I&&(_&At||!C)?16|g:I||C?_&Nt?8|g:2&g?4|g:2:Qe},u}(jn);function Wd(o){return o===yi?"down":o===cc?"up":o===uc?"left":o===lc?"right":""}var Hd=function(o){function u(d){var g;return d===void 0&&(d={}),(g=o.call(this,dn({event:"pan",threshold:10,pointers:1,direction:ao},d))||this).pX=null,g.pY=null,g}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){var d=this.options.direction,g=[];return d&Hr&&g.push(fu),d&Jo&&g.push(oc),g},l.directionTest=function(d){var g=this.options,_=!0,I=d.distance,C=d.direction,k=d.deltaX,N=d.deltaY;return C&g.direction||(g.direction&Hr?(C=k===0?Ld:k<0?uc:lc,_=k!==this.pX,I=Math.abs(d.deltaX)):(C=N===0?Ld:N<0?cc:yi,_=N!==this.pY,I=Math.abs(d.deltaY))),d.direction=C,_&&I>g.threshold&&C&g.direction},l.attrTest=function(d){return bi.prototype.attrTest.call(this,d)&&(2&this.state||!(2&this.state)&&this.directionTest(d))},l.emit=function(d){this.pX=d.deltaX,this.pY=d.deltaY;var g=Wd(d.direction);g&&(d.additionalEvent=this.options.event+g),o.prototype.emit.call(this,d)},u}(bi),R_=function(o){function u(d){return d===void 0&&(d={}),o.call(this,dn({event:"swipe",threshold:10,velocity:.3,direction:Hr|Jo,pointers:1},d))||this}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){return Hd.prototype.getTouchAction.call(this)},l.attrTest=function(d){var g,_=this.options.direction;return _&(Hr|Jo)?g=d.overallVelocity:_&Hr?g=d.overallVelocityX:_&Jo&&(g=d.overallVelocityY),o.prototype.attrTest.call(this,d)&&_&d.offsetDirection&&d.distance>this.options.threshold&&d.maxPointers===this.options.pointers&&Xo(g)>this.options.velocity&&d.eventType&Nt},l.emit=function(d){var g=Wd(d.offsetDirection);g&&this.manager.emit(this.options.event+g,d),this.manager.emit(this.options.event,d)},u}(bi),Jg=function(o){function u(d){return d===void 0&&(d={}),o.call(this,dn({event:"pinch",threshold:0,pointers:2},d))||this}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){return[oa]},l.attrTest=function(d){return o.prototype.attrTest.call(this,d)&&(Math.abs(d.scale-1)>this.options.threshold||2&this.state)},l.emit=function(d){if(d.scale!==1){var g=d.scale<1?"in":"out";d.additionalEvent=this.options.event+g}o.prototype.emit.call(this,d)},u}(bi),St=function(o){function u(d){return d===void 0&&(d={}),o.call(this,dn({event:"rotate",threshold:0,pointers:2},d))||this}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){return[oa]},l.attrTest=function(d){return o.prototype.attrTest.call(this,d)&&(Math.abs(d.rotation)>this.options.threshold||2&this.state)},u}(bi),Qg=function(o){function u(d){var g;return d===void 0&&(d={}),(g=o.call(this,dn({event:"press",pointers:1,time:251,threshold:9},d))||this)._timer=null,g._input=null,g}qr(u,o);var l=u.prototype;return l.getTouchAction=function(){return[Hg]},l.process=function(d){var g=this,_=this.options,I=d.pointers.length===_.pointers,C=d.distance<_.threshold,k=d.deltaTime>_.time;if(this._input=d,!C||!I||d.eventType&(Nt|At)&&!k)this.reset();else if(d.eventType&dr)this.reset(),this._timer=setTimeout(function(){g.state=8,g.tryEmit()},_.time);else if(d.eventType&Nt)return 8;return Qe},l.reset=function(){clearTimeout(this._timer)},l.emit=function(d){this.state===8&&(d&&d.eventType&Nt?this.manager.emit(this.options.event+"up",d):(this._input.timeStamp=Nd(),this.manager.emit(this.options.event,this._input)))},u}(jn),k_={domEvents:!1,touchAction:Wg,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Zg=[[St,{enable:!1}],[Jg,{enable:!1},["rotate"]],[R_,{direction:Hr}],[Hd,{direction:Hr},["swipe"]],[qd],[qd,{event:"doubletap",taps:2},["tap"]],[Qg]];function Ud(o,u){var l,d=o.element;d.style&&(Hi(o.options.cssProps,function(g,_){l=na(d.style,_),u?(o.oldCssProps[l]=d.style[l],d.style[l]=g):d.style[l]=o.oldCssProps[l]||""}),u||(o.oldCssProps={}))}var _u=function(){function o(l,d){var g,_=this;this.options=so({},k_,d||{}),this.options.inputTarget=this.options.inputTarget||l,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=l,this.input=new((g=this).options.inputClass||(E_?fc:XS?Xg:Ug?uo:vc))(g,x_),this.touchAction=new T_(this,this.options.touchAction),Ud(this,!0),Hi(this.options.recognizers,function(I){var C=_.add(new I[0](I[1]));I[2]&&C.recognizeWith(I[2]),I[3]&&C.requireFailure(I[3])},this)}var u=o.prototype;return u.set=function(l){return so(this.options,l),l.touchAction&&this.touchAction.update(),l.inputTarget&&(this.input.destroy(),this.input.target=l.inputTarget,this.input.init()),this},u.stop=function(l){this.session.stopped=l?2:1},u.recognize=function(l){var d=this.session;if(!d.stopped){var g;this.touchAction.preventDefaults(l);var _=this.recognizers,I=d.curRecognizer;(!I||I&&8&I.state)&&(d.curRecognizer=null,I=null);for(var C=0;C<_.length;)g=_[C],d.stopped===2||I&&g!==I&&!g.canRecognizeWith(I)?g.reset():g.recognize(l),!I&&14&g.state&&(d.curRecognizer=g,I=g),C++}},u.get=function(l){if(l instanceof jn)return l;for(var d=this.recognizers,g=0;g<d.length;g++)if(d[g].options.event===l)return d[g];return null},u.add=function(l){if(fn(l,"add",this))return this;var d=this.get(l.options.event);return d&&this.remove(d),this.recognizers.push(l),l.manager=this,this.touchAction.update(),l},u.remove=function(l){if(fn(l,"remove",this))return this;var d=this.get(l);if(l){var g=this.recognizers,_=aa(g,d);_!==-1&&(g.splice(_,1),this.touchAction.update())}return this},u.on=function(l,d){if(l===void 0||d===void 0)return this;var g=this.handlers;return Hi(yu(l),function(_){g[_]=g[_]||[],g[_].push(d)}),this},u.off=function(l,d){if(l===void 0)return this;var g=this.handlers;return Hi(yu(l),function(_){d?g[_]&&g[_].splice(aa(g[_],d),1):delete g[_]}),this},u.emit=function(l,d){this.options.domEvents&&function(I,C){var k=document.createEvent("Event");k.initEvent(I,!0,!0),k.gesture=C,C.target.dispatchEvent(k)}(l,d);var g=this.handlers[l]&&this.handlers[l].slice();if(g&&g.length){d.type=l,d.preventDefault=function(){d.srcEvent.preventDefault()};for(var _=0;_<g.length;)g[_](d),_++}},u.destroy=function(){this.element&&Ud(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},o}(),Gr={touchstart:dr,touchmove:2,touchend:Nt,touchcancel:At},$_=function(o){function u(){var l,d=u.prototype;return d.evTarget="touchstart",d.evWin="touchstart touchmove touchend touchcancel",(l=o.apply(this,arguments)||this).started=!1,l}return qr(u,o),u.prototype.handler=function(l){var d=Gr[l.type];if(d===dr&&(this.started=!0),this.started){var g=ey.call(this,l,d);d&(Nt|At)&&g[0].length-g[1].length==0&&(this.started=!1),this.callback(this.manager,d,{pointers:g[0],changedPointers:g[1],pointerType:pu,srcEvent:l})}},u}(ai);function ey(o,u){var l=pc(o.touches),d=pc(o.changedTouches);return u&(Nt|At)&&(l=Yg(l.concat(d),"identifier",!0)),[l,d]}function ty(o,u,l){var d="DEPRECATED METHOD: "+u+`
`+l+` AT 
`;return function(){var g=new Error("get-stack-trace"),_=g&&g.stack?g.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",I=window.console&&(window.console.warn||window.console.log);return I&&I.call(window.console,d,_),o.apply(this,arguments)}}var Gd=ty(function(o,u,l){for(var d=Object.keys(u),g=0;g<d.length;)(!l||l&&o[d[g]]===void 0)&&(o[d[g]]=u[d[g]]),g++;return o},"extend","Use `assign`."),D_=ty(function(o,u){return Gd(o,u,!0)},"merge","Use `assign`.");function ry(o,u,l){var d,g=u.prototype;(d=o.prototype=Object.create(g)).constructor=o,d._super=g,l&&so(d,l)}function M_(o,u){return function(){return o.apply(u,arguments)}}var ZS=function(){var o=function(u,l){return l===void 0&&(l={}),new _u(u,dn({recognizers:Zg.concat()},l))};return o.VERSION="2.0.17-rc",o.DIRECTION_ALL=ao,o.DIRECTION_DOWN=yi,o.DIRECTION_LEFT=uc,o.DIRECTION_RIGHT=lc,o.DIRECTION_UP=cc,o.DIRECTION_HORIZONTAL=Hr,o.DIRECTION_VERTICAL=Jo,o.DIRECTION_NONE=Ld,o.DIRECTION_DOWN=yi,o.INPUT_START=dr,o.INPUT_MOVE=2,o.INPUT_END=Nt,o.INPUT_CANCEL=At,o.STATE_POSSIBLE=1,o.STATE_BEGAN=2,o.STATE_CHANGED=4,o.STATE_ENDED=8,o.STATE_RECOGNIZED=8,o.STATE_CANCELLED=16,o.STATE_FAILED=Qe,o.Manager=_u,o.Input=ai,o.TouchAction=T_,o.TouchInput=Xg,o.MouseInput=vc,o.PointerEventInput=fc,o.TouchMouseInput=uo,o.SingleTouchInput=$_,o.Recognizer=jn,o.AttrRecognizer=bi,o.Tap=qd,o.Pan=Hd,o.Swipe=R_,o.Pinch=Jg,o.Rotate=St,o.Press=Qg,o.on=Ui,o.off=Ar,o.each=Hi,o.merge=D_,o.extend=Gd,o.bindFn=M_,o.assign=so,o.inherit=ry,o.bindFn=M_,o.prefixed=na,o.toArray=pc,o.inArray=aa,o.uniqueArray=Yg,o.splitStr=yu,o.boolOrFn=bt,o.hasParent=nt,o.addEventListeners=Ui,o.removeEventListeners=Ar,o.defaults=so({},k_,{preset:Zg}),o}();function j_(o,u){var l=Yl!==void 0&&Kl(o)||o["@@iterator"];if(!l){if(Br(o)||(l=function(k,N){var z;if(k){if(typeof k=="string")return iy(k,N);var W=Gs(z=Object.prototype.toString.call(k)).call(z,8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return au(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return iy(k,N)}}(o))||u){l&&(o=l);var d=0,g=function(){};return{s:g,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(k){throw k},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,I=!0,C=!1;return{s:function(){l=l.call(o)},n:function(){var k=l.next();return I=k.done,k},e:function(k){C=!0,_=k},f:function(){try{I||l.return==null||l.return()}finally{if(C)throw _}}}}function iy(o,u){(u==null||u>o.length)&&(u=o.length);for(var l=0,d=new Array(u);l<u;l++)d[l]=o[l];return d}var Vd=Yl("DELETE");function N_(){var o=Kd.apply(void 0,arguments);return F_(o),o}function Kd(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];if(u.length<2)return u[0];var d;if(u.length>2)return Kd.apply(void 0,Id(d=[N_(u[0],u[1])]).call(d,Lr(Gs(u).call(u,2))));var g=u[0],_=u[1];if(g instanceof Date&&_ instanceof Date)return g.setTime(_.getTime()),g;var I,C=j_(Eg(_));try{for(C.s();!(I=C.n()).done;){var k=I.value;Object.prototype.propertyIsEnumerable.call(_,k)&&(_[k]===Vd?delete g[k]:g[k]===null||_[k]===null||typeof g[k]!="object"||typeof _[k]!="object"||Br(g[k])||Br(_[k])?g[k]=Yd(_[k]):g[k]=Kd(g[k],_[k]))}}catch(N){C.e(N)}finally{C.f()}return g}function Yd(o){return Br(o)?oi(o).call(o,function(u){return Yd(u)}):typeof o=="object"&&o!==null?o instanceof Date?new Date(o.getTime()):Kd({},o):o}function F_(o){for(var u=0,l=Tg(o);u<l.length;u++){var d=l[u];o[d]===Vd?delete o[d]:typeof o[d]=="object"&&o[d]!==null&&F_(o[d])}}var L_=typeof window<"u"?window.Hammer||ZS:function(){return function(){var o=function(){};return{on:o,off:o,destroy:o,emit:o,get:()=>({set:o})}}()};function Gi(o){var u,l=this;this._cleanupQueue=[],this.active=!1,this._dom={container:o,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){l._dom.overlay.parentNode.removeChild(l._dom.overlay)});var d=L_(this._dom.overlay);d.on("tap",kn(u=this._onTapOverlay).call(u,this)),this._cleanupQueue.push(function(){d.destroy()});var g=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ho(g).call(g,function(_){d.on(_,function(I){I.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(_){(function(I,C){for(;I;){if(I===C)return!0;I=I.parentNode}return!1})(_.target,o)||l.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",l._onClick)})),this._escListener=function(_){("key"in _?_.key==="Escape":_.keyCode===27)&&l.deactivate()}}Ko(Gi.prototype),Gi.current=null,Gi.prototype.destroy=function(){var o,u;this.deactivate();var l,d=j_(qS(o=Yt(u=this._cleanupQueue).call(u,0)).call(o));try{for(d.s();!(l=d.n()).done;)(0,l.value)()}catch(g){d.e(g)}finally{d.f()}},Gi.prototype.activate=function(){Gi.current&&Gi.current.deactivate(),Gi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Gi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Gi.prototype._onTapOverlay=function(o){this.activate(),o.srcEvent.stopPropagation()};var eT=cl,B_=on,ny=TypeError,z_=function(o){if(eT(o))return o;throw new ny(B_(o)+" is not a constructor")},tT=qe,Xd=se,oy=Uv,q_=z_,W_=di,H_=Ie,Jd=xo,U_=B,Qd=tt("Reflect","construct"),lo=Object.prototype,rT=[].push,Zd=U_(function(){function o(){}return!(Qd(function(){},[],o)instanceof o)}),G_=!U_(function(){Qd(function(){})}),wu=Zd||G_;tT({target:"Reflect",stat:!0,forced:wu,sham:wu},{construct:function(o,u){q_(o),W_(u);var l=arguments.length<3?o:q_(arguments[2]);if(G_&&!Zd)return Qd(o,u,l);if(o===l){switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3])}var d=[null];return Xd(rT,d,u),new(Xd(oy,o,d))}var g=l.prototype,_=Jd(H_(g)?g:lo),I=Xd(o,_,u);return H_(I)?I:_}});var Nn=T(ze.Reflect.construct),sy=T(ze.Object.getOwnPropertySymbols),V_={exports:{}},ui=qe,K_=B,iT=Le,Y_=je.f,Rr=et;ui({target:"Object",stat:!0,forced:!Rr||K_(function(){Y_(1)}),sham:!Rr},{getOwnPropertyDescriptor:function(o,u){return Y_(iT(o),u)}});var ay=ze.Object,gc=V_.exports=function(o,u){return ay.getOwnPropertyDescriptor(o,u)};ay.getOwnPropertyDescriptor.sham&&(gc.sham=!0);var X_=T(V_.exports),nT=Og,oT=Le,sT=je,uy=Xn;qe({target:"Object",stat:!0,sham:!et},{getOwnPropertyDescriptors:function(o){for(var u,l,d=oT(o),g=sT.f,_=nT(d),I={},C=0;_.length>C;)(l=g(d,u=_[C++]))!==void 0&&uy(I,u,l);return I}});var J_=T(ze.Object.getOwnPropertyDescriptors),ly={exports:{}},aT=qe,uT=et,yc=To.f;aT({target:"Object",stat:!0,forced:Object.defineProperties!==yc,sham:!uT},{defineProperties:yc});var Q_=ze.Object,mc=ly.exports=function(o,u){return Q_.defineProperties(o,u)};Q_.defineProperties.sham&&(mc.sham=!0);var lT=T(ly.exports),Z_=T(dh);function Ou(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var ew=jg,cT=T(ew);qe({target:"Object",stat:!0},{setPrototypeOf:Bs});var cy=ze.Object.setPrototypeOf,bc=T(cy),_c=T(Vv);function ef(o,u){var l;return ef=bc?_c(l=bc).call(l):function(d,g){return d.__proto__=g,d},ef(o,u)}function tf(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=cT(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Da(o,"prototype",{writable:!1}),u&&ef(o,u)}function tw(o,u){if(u&&(Nr(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(o)}var rw=Dd,rf=T(rw);function Eu(o){var u;return Eu=bc?_c(u=rf).call(u):function(l){return l.__proto__||rf(l)},Eu(o)}var hy={exports:{}},iw={exports:{}};(function(o){var u=ql,l=cd;function d(g){return o.exports=d=typeof u=="function"&&typeof l=="symbol"?function(_){return typeof _}:function(_){return _&&typeof u=="function"&&_.constructor===u&&_!==u.prototype?"symbol":typeof _},o.exports.__esModule=!0,o.exports.default=o.exports,d(g)}o.exports=d,o.exports.__esModule=!0,o.exports.default=o.exports})(iw);var Vr=iw.exports,hT=Ig,nw=Ut,ow=Og,dT=je,fT=Mr,pT=Ie,vT=Ri,sw=Error,gT=te("".replace),yT=String(new sw("zxcasd").stack),nf=/\n\s*at [^:]*:[^\n]*/,mT=nf.test(yT),dy=Er,bT=!B(function(){var o=new Error("a");return!("stack"in o)||(Object.defineProperty(o,"stack",dy(1,7)),o.stack!==7)}),fy=Ri,_T=function(o,u){if(mT&&typeof o=="string"&&!sw.prepareStackTrace)for(;u--;)o=gT(o,nf,"");return o},aw=bT,uw=Error.captureStackTrace,lw=Vt,wT=ft,OT=di,cw=on,ET=ng,ST=jr,hw=yt,py=ug,TT=Vl,of=M0,xT=TypeError,Kr=function(o,u){this.stopped=o,this.result=u},vy=Kr.prototype,Qo=function(o,u,l){var d,g,_,I,C,k,N,z=l&&l.that,W=!(!l||!l.AS_ENTRIES),Q=!(!l||!l.IS_RECORD),re=!(!l||!l.IS_ITERATOR),pe=!(!l||!l.INTERRUPTED),Se=lw(u,z),Re=function(Oe){return d&&of(d,"normal",Oe),new Kr(!0,Oe)},De=function(Oe){return W?(OT(Oe),pe?Se(Oe[0],Oe[1],Re):Se(Oe[0],Oe[1])):pe?Se(Oe,Re):Se(Oe)};if(Q)d=o.iterator;else if(re)d=o;else{if(!(g=TT(o)))throw new xT(cw(o)+" is not iterable");if(ET(g)){for(_=0,I=ST(o);I>_;_++)if((C=De(o[_]))&&hw(vy,C))return C;return new Kr(!1)}d=py(o,g)}for(k=Q?o.next:d.next;!(N=wT(k,d)).done;){try{C=De(N.value)}catch(Oe){of(d,"throw",Oe)}if(typeof C=="object"&&C&&hw(vy,C))return C}return new Kr(!1)},gy=Ts,dw=qe,sf=yt,IT=Ml,af=Bs,PT=function(o,u,l){for(var d=ow(u),g=fT.f,_=dT.f,I=0;I<d.length;I++){var C=d[I];nw(o,C)||l&&nw(l,C)||g(o,C,_(u,C))}},fw=xo,Su=Ri,yy=Er,CT=function(o,u){pT(u)&&"cause"in u&&vT(o,"cause",u.cause)},pw=function(o,u,l,d){aw&&(uw?uw(o,u):fy(o,"stack",_T(l,d)))},AT=Qo,vw=function(o,u){return o===void 0?arguments.length<2?"":u:gy(o)},gw=$t("toStringTag"),wc=Error,my=[].push,Tu=function(o,u){var l,d=sf(by,this);af?l=af(new wc,d?IT(this):by):(l=d?this:fw(by),Su(l,gw,"Error")),u!==void 0&&Su(l,"message",vw(u)),pw(l,Tu,l.stack,1),arguments.length>2&&CT(l,arguments[2]);var g=[];return AT(o,my,{that:g}),Su(l,"errors",g),l};af?af(Tu,wc):PT(Tu,wc,{name:!0});var by=Tu.prototype=fw(wc.prototype,{constructor:yy(1,Tu),message:yy(1,""),name:yy(1,"AggregateError")});dw({global:!0},{AggregateError:Tu});var ua,xu,uf,_y,RT=tt,la=yl,kT=et,lf=$t("species"),yw=function(o){var u=RT(o);kT&&u&&!u[lf]&&la(u,lf,{configurable:!0,get:function(){return this}})},$T=yt,wy=TypeError,Oy=function(o,u){if($T(u,o))return o;throw new wy("Incorrect invocation")},mw=di,bw=z_,DT=_t,MT=$t("species"),Oc=function(o,u){var l,d=mw(o).constructor;return d===void 0||DT(l=mw(d)[MT])?u:bw(l)},Ey=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ii),_i=j,_w=se,jT=Vt,Sy=Fe,ww=Ut,Ty=B,xy=Ap,NT=Cl,cf=_o,Iy=ra,FT=Ey,LT=su,hf=_i.setImmediate,ca=_i.clearImmediate,Py=_i.process,Cy=_i.Dispatch,BT=_i.Function,Ow=_i.MessageChannel,Ec=_i.String,df=0,Iu={},Ew="onreadystatechange";Ty(function(){ua=_i.location});var ff=function(o){if(ww(Iu,o)){var u=Iu[o];delete Iu[o],u()}},Sc=function(o){return function(){ff(o)}},pf=function(o){ff(o.data)},Sw=function(o){_i.postMessage(Ec(o),ua.protocol+"//"+ua.host)};hf&&ca||(hf=function(o){Iy(arguments.length,1);var u=Sy(o)?o:BT(o),l=NT(arguments,1);return Iu[++df]=function(){_w(u,void 0,l)},xu(df),df},ca=function(o){delete Iu[o]},LT?xu=function(o){Py.nextTick(Sc(o))}:Cy&&Cy.now?xu=function(o){Cy.now(Sc(o))}:Ow&&!FT?(_y=(uf=new Ow).port2,uf.port1.onmessage=pf,xu=jT(_y.postMessage,_y)):_i.addEventListener&&Sy(_i.postMessage)&&!_i.importScripts&&ua&&ua.protocol!=="file:"&&!Ty(Sw)?(xu=Sw,_i.addEventListener("message",pf,!1)):xu=Ew in cf("script")?function(o){xy.appendChild(cf("script"))[Ew]=function(){xy.removeChild(this),ff(o)}}:function(o){setTimeout(Sc(o),0)});var Ay={set:hf},Ry=function(){this.head=null,this.tail=null};Ry.prototype={add:function(o){var u={item:o,next:null},l=this.tail;l?l.next=u:this.head=u,this.tail=u},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}};var Fn,ky,ha,$y,Tw,Tc=Ry,xw=/ipad|iphone|ipod/i.test(Ii)&&typeof Pebble<"u",zT=/web0s(?!.*chrome)/i.test(Ii),da=j,Iw=Vt,qT=je.f,Dy=Ay.set,vf=Tc,Pw=Ey,My=xw,Cw=zT,gf=su,yf=da.MutationObserver||da.WebKitMutationObserver,Aw=da.document,Rw=da.process,mf=da.Promise,kw=qT(da,"queueMicrotask"),jy=kw&&kw.value;if(!jy){var pn=new vf,xc=function(){var o,u;for(gf&&(o=Rw.domain)&&o.exit();u=pn.get();)try{u()}catch(l){throw pn.head&&Fn(),l}o&&o.enter()};Pw||gf||Cw||!yf||!Aw?!My&&mf&&mf.resolve?(($y=mf.resolve(void 0)).constructor=mf,Tw=Iw($y.then,$y),Fn=function(){Tw(xc)}):gf?Fn=function(){Rw.nextTick(xc)}:(Dy=Iw(Dy,da),Fn=function(){Dy(xc)}):(ky=!0,ha=Aw.createTextNode(""),new yf(xc).observe(ha,{characterData:!0}),Fn=function(){ha.data=ky=!ky}),jy=function(o){pn.head||Fn(),pn.add(o)}}var WT=jy,fa=function(o){try{return{error:!1,value:o()}}catch(u){return{error:!0,value:u}}},Zo=j.Promise,Ny=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",$w=!Ny&&!su&&typeof window=="object"&&typeof document=="object",Dw=j,Ic=Zo,es=Fe,HT=lh,UT=ub,GT=$t,Mw=$w,ts=Ny,Pc=On,jw=Ic&&Ic.prototype,Nw=GT("species"),Fy=es(Dw.PromiseRejectionEvent),Ly=HT("Promise",function(){var o=UT(Ic),u=o!==String(Ic);if(!u&&Pc===66||!jw.catch||!jw.finally)return!0;if(!Pc||Pc<51||!/native code/.test(o)){var l=new Ic(function(g){g(1)}),d=function(g){g(function(){},function(){})};if((l.constructor={})[Nw]=d,!(l.then(function(){})instanceof d))return!0}return!u&&(Mw||ts)&&!Fy}),Cc={CONSTRUCTOR:Ly,REJECTION_EVENT:Fy},li={},Ac=ti,By=TypeError,zy=function(o){var u,l;this.promise=new o(function(d,g){if(u!==void 0||l!==void 0)throw new By("Bad Promise constructor");u=d,l=g}),this.resolve=Ac(u),this.reject=Ac(l)};li.f=function(o){return new zy(o)};var Pu,bf,VT=qe,_f=su,fr=j,kr=ft,wf=Tn,Rc=Po,pa=yw,Fw=ti,Of=Fe,KT=Ie,Cu=Oy,rs=Oc,Ef=Ay.set,Ln=WT,ci=function(o,u){try{arguments.length===1?console.error(o):console.error(o,u)}catch{}},is=fa,Lw=Tc,Sf=Mi,Tf=Zo,qy=Cc,vn=li,gn="Promise",Au=qy.CONSTRUCTOR,kc=qy.REJECTION_EVENT,Ru=Sf.getterFor(gn),YT=Sf.set,Bw=Tf&&Tf.prototype,$c=Tf,Wy=Bw,ku=fr.TypeError,Hy=fr.document,Dc=fr.process,Uy=vn.f,XT=Uy,Yr=!!(Hy&&Hy.createEvent&&fr.dispatchEvent),ns="unhandledrejection",Wt=function(o){var u;return!(!KT(o)||!Of(u=o.then))&&u},$r=function(o,u){var l,d,g,_=u.value,I=u.state===1,C=I?o.ok:o.fail,k=o.resolve,N=o.reject,z=o.domain;try{C?(I||(u.rejection===2&&Du(u),u.rejection=1),C===!0?l=_:(z&&z.enter(),l=C(_),z&&(z.exit(),g=!0)),l===o.promise?N(new ku("Promise-chain cycle")):(d=Wt(l))?kr(d,l,k,N):k(l)):N(_)}catch(W){z&&!g&&z.exit(),N(W)}},Ot=function(o,u){o.notified||(o.notified=!0,Ln(function(){for(var l,d=o.reactions;l=d.get();)$r(l,o);o.notified=!1,u&&!o.rejection&&Mc(o)}))},$u=function(o,u,l){var d,g;Yr?((d=Hy.createEvent("Event")).promise=u,d.reason=l,d.initEvent(o,!1,!0),fr.dispatchEvent(d)):d={promise:u,reason:l},!kc&&(g=fr["on"+o])?g(d):o===ns&&ci("Unhandled promise rejection",l)},Mc=function(o){kr(Ef,fr,function(){var u,l=o.facade,d=o.value;if(va(o)&&(u=is(function(){_f?Dc.emit("unhandledRejection",d,l):$u(ns,l,d)}),o.rejection=_f||va(o)?2:1,u.error))throw u.value})},va=function(o){return o.rejection!==1&&!o.parent},Du=function(o){kr(Ef,fr,function(){var u=o.facade;_f?Dc.emit("rejectionHandled",u):$u("rejectionhandled",u,o.value)})},Xr=function(o,u,l){return function(d){o(u,d,l)}},Vi=function(o,u,l){o.done||(o.done=!0,l&&(o=l),o.value=u,o.state=2,Ot(o,!0))},Rt=function(o,u,l){if(!o.done){o.done=!0,l&&(o=l);try{if(o.facade===u)throw new ku("Promise can't be resolved itself");var d=Wt(u);d?Ln(function(){var g={done:!1};try{kr(d,u,Xr(Rt,g,o),Xr(Vi,g,o))}catch(_){Vi(g,_,o)}}):(o.value=u,o.state=1,Ot(o,!1))}catch(g){Vi({done:!1},g,o)}}};Au&&(Wy=($c=function(o){Cu(this,Wy),Fw(o),kr(Pu,this);var u=Ru(this);try{o(Xr(Rt,u),Xr(Vi,u))}catch(l){Vi(u,l)}}).prototype,(Pu=function(o){YT(this,{type:gn,done:!1,notified:!1,parent:!1,reactions:new Lw,rejection:!1,state:0,value:void 0})}).prototype=wf(Wy,"then",function(o,u){var l=Ru(this),d=Uy(rs(this,$c));return l.parent=!0,d.ok=!Of(o)||o,d.fail=Of(u)&&u,d.domain=_f?Dc.domain:void 0,l.state===0?l.reactions.add(d):Ln(function(){$r(d,l)}),d.promise}),bf=function(){var o=new Pu,u=Ru(o);this.promise=o,this.resolve=Xr(Rt,u),this.reject=Xr(Vi,u)},vn.f=Uy=function(o){return o===$c||o===void 0?new bf(o):XT(o)}),VT({global:!0,wrap:!0,forced:Au},{Promise:$c}),Rc($c,gn,!1,!0),pa(gn);var jc=Zo,ga=Cc.CONSTRUCTOR||!Fr(function(o){jc.all(o).then(void 0,function(){})}),co=ft,xf=ti,ya=li,JT=fa,zw=Qo;qe({target:"Promise",stat:!0,forced:ga},{all:function(o){var u=this,l=ya.f(u),d=l.resolve,g=l.reject,_=JT(function(){var I=xf(u.resolve),C=[],k=0,N=1;zw(o,function(z){var W=k++,Q=!1;N++,co(I,u,z).then(function(re){Q||(Q=!0,C[W]=re,--N||d(C))},g)}),--N||d(C)});return _.error&&g(_.value),l.promise}});var Gy=qe,qw=Cc.CONSTRUCTOR;Zo&&Zo.prototype,Gy({target:"Promise",proto:!0,forced:qw,real:!0},{catch:function(o){return this.then(void 0,o)}});var Ww=ft,If=ti,Vy=li,Hw=fa,Uw=Qo;qe({target:"Promise",stat:!0,forced:ga},{race:function(o){var u=this,l=Vy.f(u),d=l.reject,g=Hw(function(){var _=If(u.resolve);Uw(o,function(I){Ww(_,u,I).then(l.resolve,d)})});return g.error&&d(g.value),l.promise}});var Ky=ft,Gw=li;qe({target:"Promise",stat:!0,forced:Cc.CONSTRUCTOR},{reject:function(o){var u=Gw.f(this);return Ky(u.reject,void 0,o),u.promise}});var Vw=di,Kw=Ie,Yw=li,Pf=function(o,u){if(Vw(o),Kw(u)&&u.constructor===o)return u;var l=Yw.f(o);return(0,l.resolve)(u),l.promise},Mu=qe,ju=Zo,Nc=Cc.CONSTRUCTOR,Yy=Pf,ma=tt("Promise"),hi=!Nc;Mu({target:"Promise",stat:!0,forced:!0},{resolve:function(o){return Yy(hi&&this===ma?ju:this,o)}});var QT=ft,Xw=ti,Jw=li,Qw=fa,Cf=Qo;qe({target:"Promise",stat:!0,forced:ga},{allSettled:function(o){var u=this,l=Jw.f(u),d=l.resolve,g=l.reject,_=Qw(function(){var I=Xw(u.resolve),C=[],k=0,N=1;Cf(o,function(z){var W=k++,Q=!1;N++,QT(I,u,z).then(function(re){Q||(Q=!0,C[W]={status:"fulfilled",value:re},--N||d(C))},function(re){Q||(Q=!0,C[W]={status:"rejected",reason:re},--N||d(C))})}),--N||d(C)});return _.error&&g(_.value),l.promise}});var Fc=ft,Nu=ti,ZT=tt,ex=li,Xy=fa,tx=Qo,Zw="No one promise resolved";qe({target:"Promise",stat:!0,forced:ga},{any:function(o){var u=this,l=ZT("AggregateError"),d=ex.f(u),g=d.resolve,_=d.reject,I=Xy(function(){var C=Nu(u.resolve),k=[],N=0,z=1,W=!1;tx(o,function(Q){var re=N++,pe=!1;z++,Fc(C,u,Q).then(function(Se){pe||W||(W=!0,g(Se))},function(Se){pe||W||(pe=!0,k[re]=Se,--z||_(new l(k,Zw)))})}),--z||_(new l(k,Zw))});return I.error&&_(I.value),d.promise}});var _r=qe,Af=Zo,ba=B,Jr=tt,e1=Fe,t1=Oc,r1=Pf,rx=Af&&Af.prototype;_r({target:"Promise",proto:!0,real:!0,forced:!!Af&&ba(function(){rx.finally.call({then:function(){}},function(){})})},{finally:function(o){var u=t1(this,Jr("Promise")),l=e1(o);return this.then(l?function(d){return r1(u,o()).then(function(){return d})}:o,l?function(d){return r1(u,o()).then(function(){throw d})}:o)}});var Lc=ze.Promise,i1=li;qe({target:"Promise",stat:!0},{withResolvers:function(){var o=i1.f(this);return{promise:o.promise,resolve:o.resolve,reject:o.reject}}});var Fu=Lc,Rf=li,wi=fa;qe({target:"Promise",stat:!0,forced:!0},{try:function(o){var u=Rf.f(this),l=wi(o);return(l.error?u.reject:u.resolve)(l.value),u.promise}});var Lu=Fu,os=Cg;(function(o){var u=Vr.default,l=$a,d=ql,g=ew,_=rw,I=hT,C=gg,k=cy,N=Lu,z=os,W=Sd;function Q(){o.exports=Q=function(){return pe},o.exports.__esModule=!0,o.exports.default=o.exports;var re,pe={},Se=Object.prototype,Re=Se.hasOwnProperty,De=l||function(ce,ge,ye){ce[ge]=ye.value},Oe=typeof d=="function"?d:{},Ke=Oe.iterator||"@@iterator",Xe=Oe.asyncIterator||"@@asyncIterator",ot=Oe.toStringTag||"@@toStringTag";function Tt(ce,ge,ye){return l(ce,ge,{value:ye,enumerable:!0,configurable:!0,writable:!0}),ce[ge]}try{Tt({},"")}catch{Tt=function(ge,ye,st){return ge[ye]=st}}function Qr(ce,ge,ye,st){var We=ge&&ge.prototype instanceof kx?ge:kx,Pt=g(We.prototype),tr=new Jf(st||[]);return De(Pt,"_invoke",{value:WI(ce,ye,tr)}),Pt}function Dr(ce,ge,ye){try{return{type:"normal",arg:ce.call(ge,ye)}}catch(st){return{type:"throw",arg:st}}}pe.wrap=Qr;var yn="suspendedStart",Uu="suspendedYield",k1="executing",Yf="completed",Xi={};function kx(){}function $1(){}function Yc(){}var $x={};Tt($x,Ke,function(){return this});var D1=_&&_(_(M1([])));D1&&D1!==Se&&Re.call(D1,Ke)&&($x=D1);var Xf=Yc.prototype=kx.prototype=g($x);function rI(ce){var ge;I(ge=["next","throw","return"]).call(ge,function(ye){Tt(ce,ye,function(st){return this._invoke(ye,st)})})}function Im(ce,ge){function ye(We,Pt,tr,mn){var Ji=Dr(ce[We],ce,Pt);if(Ji.type!=="throw"){var Gu=Ji.arg,Xc=Gu.value;return Xc&&u(Xc)=="object"&&Re.call(Xc,"__await")?ge.resolve(Xc.__await).then(function(Jc){ye("next",Jc,tr,mn)},function(Jc){ye("throw",Jc,tr,mn)}):ge.resolve(Xc).then(function(Jc){Gu.value=Jc,tr(Gu)},function(Jc){return ye("throw",Jc,tr,mn)})}mn(Ji.arg)}var st;De(this,"_invoke",{value:function(We,Pt){function tr(){return new ge(function(mn,Ji){ye(We,Pt,mn,Ji)})}return st=st?st.then(tr,tr):tr()}})}function WI(ce,ge,ye){var st=yn;return function(We,Pt){if(st===k1)throw new Error("Generator is already running");if(st===Yf){if(We==="throw")throw Pt;return{value:re,done:!0}}for(ye.method=We,ye.arg=Pt;;){var tr=ye.delegate;if(tr){var mn=iI(tr,ye);if(mn){if(mn===Xi)continue;return mn}}if(ye.method==="next")ye.sent=ye._sent=ye.arg;else if(ye.method==="throw"){if(st===yn)throw st=Yf,ye.arg;ye.dispatchException(ye.arg)}else ye.method==="return"&&ye.abrupt("return",ye.arg);st=k1;var Ji=Dr(ce,ge,ye);if(Ji.type==="normal"){if(st=ye.done?Yf:Uu,Ji.arg===Xi)continue;return{value:Ji.arg,done:ye.done}}Ji.type==="throw"&&(st=Yf,ye.method="throw",ye.arg=Ji.arg)}}}function iI(ce,ge){var ye=ge.method,st=ce.iterator[ye];if(st===re)return ge.delegate=null,ye==="throw"&&ce.iterator.return&&(ge.method="return",ge.arg=re,iI(ce,ge),ge.method==="throw")||ye!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+ye+"' method")),Xi;var We=Dr(st,ce.iterator,ge.arg);if(We.type==="throw")return ge.method="throw",ge.arg=We.arg,ge.delegate=null,Xi;var Pt=We.arg;return Pt?Pt.done?(ge[ce.resultName]=Pt.value,ge.next=ce.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=re),ge.delegate=null,Xi):Pt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Xi)}function nI(ce){var ge,ye={tryLoc:ce[0]};1 in ce&&(ye.catchLoc=ce[1]),2 in ce&&(ye.finallyLoc=ce[2],ye.afterLoc=ce[3]),C(ge=this.tryEntries).call(ge,ye)}function Dx(ce){var ge=ce.completion||{};ge.type="normal",delete ge.arg,ce.completion=ge}function Jf(ce){this.tryEntries=[{tryLoc:"root"}],I(ce).call(ce,nI,this),this.reset(!0)}function M1(ce){if(ce||ce===""){var ge=ce[Ke];if(ge)return ge.call(ce);if(typeof ce.next=="function")return ce;if(!isNaN(ce.length)){var ye=-1,st=function We(){for(;++ye<ce.length;)if(Re.call(ce,ye))return We.value=ce[ye],We.done=!1,We;return We.value=re,We.done=!0,We};return st.next=st}}throw new TypeError(u(ce)+" is not iterable")}return $1.prototype=Yc,De(Xf,"constructor",{value:Yc,configurable:!0}),De(Yc,"constructor",{value:$1,configurable:!0}),$1.displayName=Tt(Yc,ot,"GeneratorFunction"),pe.isGeneratorFunction=function(ce){var ge=typeof ce=="function"&&ce.constructor;return!!ge&&(ge===$1||(ge.displayName||ge.name)==="GeneratorFunction")},pe.mark=function(ce){return k?k(ce,Yc):(ce.__proto__=Yc,Tt(ce,ot,"GeneratorFunction")),ce.prototype=g(Xf),ce},pe.awrap=function(ce){return{__await:ce}},rI(Im.prototype),Tt(Im.prototype,Xe,function(){return this}),pe.AsyncIterator=Im,pe.async=function(ce,ge,ye,st,We){We===void 0&&(We=N);var Pt=new Im(Qr(ce,ge,ye,st),We);return pe.isGeneratorFunction(ge)?Pt:Pt.next().then(function(tr){return tr.done?tr.value:Pt.next()})},rI(Xf),Tt(Xf,ot,"Generator"),Tt(Xf,Ke,function(){return this}),Tt(Xf,"toString",function(){return"[object Generator]"}),pe.keys=function(ce){var ge=Object(ce),ye=[];for(var st in ge)C(ye).call(ye,st);return z(ye).call(ye),function We(){for(;ye.length;){var Pt=ye.pop();if(Pt in ge)return We.value=Pt,We.done=!1,We}return We.done=!0,We}},pe.values=M1,Jf.prototype={constructor:Jf,reset:function(ce){var ge;if(this.prev=0,this.next=0,this.sent=this._sent=re,this.done=!1,this.delegate=null,this.method="next",this.arg=re,I(ge=this.tryEntries).call(ge,Dx),!ce)for(var ye in this)ye.charAt(0)==="t"&&Re.call(this,ye)&&!isNaN(+W(ye).call(ye,1))&&(this[ye]=re)},stop:function(){this.done=!0;var ce=this.tryEntries[0].completion;if(ce.type==="throw")throw ce.arg;return this.rval},dispatchException:function(ce){if(this.done)throw ce;var ge=this;function ye(Ji,Gu){return Pt.type="throw",Pt.arg=ce,ge.next=Ji,Gu&&(ge.method="next",ge.arg=re),!!Gu}for(var st=this.tryEntries.length-1;st>=0;--st){var We=this.tryEntries[st],Pt=We.completion;if(We.tryLoc==="root")return ye("end");if(We.tryLoc<=this.prev){var tr=Re.call(We,"catchLoc"),mn=Re.call(We,"finallyLoc");if(tr&&mn){if(this.prev<We.catchLoc)return ye(We.catchLoc,!0);if(this.prev<We.finallyLoc)return ye(We.finallyLoc)}else if(tr){if(this.prev<We.catchLoc)return ye(We.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<We.finallyLoc)return ye(We.finallyLoc)}}}},abrupt:function(ce,ge){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var st=this.tryEntries[ye];if(st.tryLoc<=this.prev&&Re.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var We=st;break}}We&&(ce==="break"||ce==="continue")&&We.tryLoc<=ge&&ge<=We.finallyLoc&&(We=null);var Pt=We?We.completion:{};return Pt.type=ce,Pt.arg=ge,We?(this.method="next",this.next=We.finallyLoc,Xi):this.complete(Pt)},complete:function(ce,ge){if(ce.type==="throw")throw ce.arg;return ce.type==="break"||ce.type==="continue"?this.next=ce.arg:ce.type==="return"?(this.rval=this.arg=ce.arg,this.method="return",this.next="end"):ce.type==="normal"&&ge&&(this.next=ge),Xi},finish:function(ce){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ye=this.tryEntries[ge];if(ye.finallyLoc===ce)return this.complete(ye.completion,ye.afterLoc),Dx(ye),Xi}},catch:function(ce){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ye=this.tryEntries[ge];if(ye.tryLoc===ce){var st=ye.completion;if(st.type==="throw"){var We=st.arg;Dx(ye)}return We}}throw new Error("illegal catch attempt")},delegateYield:function(ce,ge,ye){return this.delegate={iterator:M1(ce),resultName:ge,nextLoc:ye},this.method==="next"&&(this.arg=re),Xi}},pe}o.exports=Q,o.exports.__esModule=!0,o.exports.default=o.exports})(hy);var or=(0,hy.exports)(),Bc=or;try{regeneratorRuntime=or}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=or:Function("r","regeneratorRuntime = r")(or)}var kt=T(Bc),zc={exports:{}},ix=B(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}}),kf=B,n1=Ie,_a=Te,$f=ix,Bn=Object.isExtensible,o1=kf(function(){Bn(1)})||$f?function(o){return!!n1(o)&&(!$f||_a(o)!=="ArrayBuffer")&&(!Bn||Bn(o))}:Bn,Jy=!B(function(){return Object.isExtensible(Object.preventExtensions({}))}),s1=qe,a1=te,u1=dl,l1=Ie,wa=Ut,Qy=Mr.f,Df=$i,Bu=Dp,Mf=o1,nx=Jy,jf=!1,Ki=el("meta"),c1=0,Zy=function(o){Qy(o,Ki,{value:{objectID:"O"+c1++,weakData:{}}})},ox=zc.exports={enable:function(){ox.enable=function(){},jf=!0;var o=Df.f,u=a1([].splice),l={};l[Ki]=1,o(l).length&&(Df.f=function(d){for(var g=o(d),_=0,I=g.length;_<I;_++)if(g[_]===Ki){u(g,_,1);break}return g},s1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Bu.f}))},fastKey:function(o,u){if(!l1(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!wa(o,Ki)){if(!Mf(o))return"F";if(!u)return"E";Zy(o)}return o[Ki].objectID},getWeakData:function(o,u){if(!wa(o,Ki)){if(!Mf(o))return!0;if(!u)return!1;Zy(o)}return o[Ki].weakData},onFreeze:function(o){return nx&&jf&&Mf(o)&&!wa(o,Ki)&&Zy(o),o}};u1[Ki]=!0;var em=zc.exports,qc=qe,Wc=j,sx=em,ax=B,zu=Ri,ux=Qo,Nf=Oy,tm=Fe,lx=Ie,rm=_t,im=Po,h1=Mr.f,nm=Rs.forEach,Ff=et,om=Mi.set,sm=Mi.getterFor,Oa=function(o,u,l){var d,g=o.indexOf("Map")!==-1,_=o.indexOf("Weak")!==-1,I=g?"set":"add",C=Wc[o],k=C&&C.prototype,N={};if(Ff&&tm(C)&&(_||k.forEach&&!ax(function(){new C().entries().next()}))){var z=(d=u(function(Q,re){om(Nf(Q,z),{type:o,collection:new C}),rm(re)||ux(re,Q[I],{that:Q,AS_ENTRIES:g})})).prototype,W=sm(o);nm(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(Q){var re=Q==="add"||Q==="set";!(Q in k)||_&&Q==="clear"||zu(z,Q,function(pe,Se){var Re=W(this).collection;if(!re&&_&&!lx(pe))return Q==="get"&&void 0;var De=Re[Q](pe===0?0:pe,Se);return re?this:De})}),_||h1(z,"size",{configurable:!0,get:function(){return W(this).collection.size}})}else d=l.getConstructor(u,o,g,I),sx.enable();return im(d,o,!1,!0),N[o]=d,qc({global:!0,forced:!0},N),_||l.setStrong(d,o,g),d},Lf=Tn,zn=xo,Bf=yl,am=function(o,u,l){for(var d in u)Lf(o,d,u[d],l);return o},Ea=Vt,Yi=Oy,ho=_t,ss=Qo,zf=nu,as=Fl,It=yw,us=et,um=em.fastKey,qf=Mi.set,lm=Mi.getterFor,cm={getConstructor:function(o,u,l,d){var g=o(function(N,z){Yi(N,_),qf(N,{type:u,index:zn(null),first:void 0,last:void 0,size:0}),us||(N.size=0),ho(z)||ss(z,N[d],{that:N,AS_ENTRIES:l})}),_=g.prototype,I=lm(u),C=function(N,z,W){var Q,re,pe=I(N),Se=k(N,z);return Se?Se.value=W:(pe.last=Se={index:re=um(z,!0),key:z,value:W,previous:Q=pe.last,next:void 0,removed:!1},pe.first||(pe.first=Se),Q&&(Q.next=Se),us?pe.size++:N.size++,re!=="F"&&(pe.index[re]=Se)),N},k=function(N,z){var W,Q=I(N),re=um(z);if(re!=="F")return Q.index[re];for(W=Q.first;W;W=W.next)if(W.key===z)return W};return am(_,{clear:function(){for(var N=I(this),z=N.index,W=N.first;W;)W.removed=!0,W.previous&&(W.previous=W.previous.next=void 0),delete z[W.index],W=W.next;N.first=N.last=void 0,us?N.size=0:this.size=0},delete:function(N){var z=this,W=I(z),Q=k(z,N);if(Q){var re=Q.next,pe=Q.previous;delete W.index[Q.index],Q.removed=!0,pe&&(pe.next=re),re&&(re.previous=pe),W.first===Q&&(W.first=re),W.last===Q&&(W.last=pe),us?W.size--:z.size--}return!!Q},forEach:function(N){for(var z,W=I(this),Q=Ea(N,arguments.length>1?arguments[1]:void 0);z=z?z.next:W.first;)for(Q(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(N){return!!k(this,N)}}),am(_,l?{get:function(N){var z=k(this,N);return z&&z.value},set:function(N,z){return C(this,N===0?0:N,z)}}:{add:function(N){return C(this,N=N===0?0:N,N)}}),us&&Bf(_,"size",{configurable:!0,get:function(){return I(this).size}}),g},setStrong:function(o,u,l){var d=u+" Iterator",g=lm(u),_=lm(d);zf(o,u,function(I,C){qf(this,{type:d,target:I,state:g(I),kind:C,last:void 0})},function(){for(var I=_(this),C=I.kind,k=I.last;k&&k.removed;)k=k.previous;return I.target&&(I.last=k=k?k.next:I.state.first)?as(C==="keys"?k.key:C==="values"?k.value:[k.key,k.value],!1):(I.target=void 0,as(void 0,!0))},l?"entries":"values",!l,!0),It(u)}};Oa("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},cm);var Hc=T(ze.Map),cx=Rs.some;qe({target:"Array",proto:!0,forced:!Ul("some")},{some:function(o){return cx(this,o,arguments.length>1?arguments[1]:void 0)}});var hm=Cr("Array","some"),d1=yt,f1=hm,Wf=Array.prototype,p1=T(function(o){var u=o.some;return o===Wf||d1(Wf,o)&&u===Wf.some?f1:u}),hx=Cr("Array","keys"),dx=sn,v1=Ut,fx=yt,ls=hx,Hf=Array.prototype,px={DOMTokenList:!0,NodeList:!0},Sa=T(function(o){var u=o.keys;return o===Hf||fx(Hf,o)&&u===Hf.keys||v1(px,dx(o))?ls:u}),dm=an,vx=Math.floor,Uc=function(o,u){var l=o.length,d=vx(l/2);return l<8?Uf(o,u):gx(o,Uc(dm(o,0,d),u),Uc(dm(o,d),u),u)},Uf=function(o,u){for(var l,d,g=o.length,_=1;_<g;){for(d=_,l=o[_];d&&u(o[d-1],l)>0;)o[d]=o[--d];d!==_++&&(o[d]=l)}return o},gx=function(o,u,l,d){for(var g=u.length,_=l.length,I=0,C=0;I<g||C<_;)o[I+C]=I<g&&C<_?d(u[I],l[C])<=0?u[I++]:l[C++]:I<g?u[I++]:l[C++];return o},yx=Uc,fm=Ii.match(/firefox\/(\d+)/i),g1=!!fm&&+fm[1],pm=/MSIE|Trident/.test(Ii),vm=Ii.match(/AppleWebKit\/(\d+)\./),cs=!!vm&&+vm[1],gm=qe,y1=te,mx=ti,bx=ii,m1=jr,b1=Ad,ym=Ts,mm=B,_x=yx,bm=Ul,_1=g1,qu=pm,w1=On,O1=cs,hs=[],E1=y1(hs.sort),wx=y1(hs.push),Ox=mm(function(){hs.sort(void 0)}),S1=mm(function(){hs.sort(null)}),T1=bm("sort"),x1=!mm(function(){if(w1)return w1<70;if(!(_1&&_1>3)){if(qu)return!0;if(O1)return O1<603;var o,u,l,d,g="";for(o=65;o<76;o++){switch(u=String.fromCharCode(o),o){case 66:case 69:case 70:case 72:l=3;break;case 68:case 71:l=4;break;default:l=2}for(d=0;d<47;d++)hs.push({k:u+d,v:l})}for(hs.sort(function(_,I){return I.v-_.v}),d=0;d<hs.length;d++)u=hs[d].k.charAt(0),g.charAt(g.length-1)!==u&&(g+=u);return g!=="DGBEFHACIJK"}});gm({target:"Array",proto:!0,forced:Ox||!S1||!T1||!x1},{sort:function(o){o!==void 0&&mx(o);var u=bx(this);if(x1)return o===void 0?E1(u):E1(u,o);var l,d,g=[],_=m1(u);for(d=0;d<_;d++)d in u&&wx(g,u[d]);for(_x(g,function(I){return function(C,k){return k===void 0?-1:C===void 0?1:I!==void 0?+I(C,k)||0:ym(C)>ym(k)?1:-1}}(o)),l=m1(g),d=0;d<l;)u[d]=g[d++];for(;d<_;)b1(u,d++);return u}});var Ex=Cr("Array","sort"),I1=yt,Sx=Ex,Wu=Array.prototype,_m=T(function(o){var u=o.sort;return o===Wu||I1(Wu,o)&&u===Wu.sort?Sx:u}),P1=Cr("Array","values"),C1=sn,Tx=Ut,xx=yt,Ix=P1,wm=Array.prototype,A1={DOMTokenList:!0,NodeList:!0},Hu=T(function(o){var u=o.values;return o===wm||xx(wm,o)&&u===wm.values||Tx(A1,C1(o))?Ix:u}),fo=T(w0),Px=Cr("Array","entries"),R1=sn,Cx=Ut,Om=yt,Ax=Px,Em=Array.prototype,Rx={DOMTokenList:!0,NodeList:!0},be=T(function(o){var u=o.entries;return o===Em||Om(Em,o)&&u===Em.entries||Cx(Rx,R1(o))?Ax:u});let ue;const J=new Uint8Array(16);function Gc(){if(!ue&&(ue=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ue))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(J)}const Pe=[];for(let o=0;o<256;++o)Pe.push((o+256).toString(16).slice(1));var Gf={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Sm(o,u,l){if(Gf.randomUUID&&!o)return Gf.randomUUID();const d=(o=o||{}).random||(o.rng||Gc)();return d[6]=15&d[6]|64,d[8]=63&d[8]|128,function(g,_=0){return Pe[g[_+0]]+Pe[g[_+1]]+Pe[g[_+2]]+Pe[g[_+3]]+"-"+Pe[g[_+4]]+Pe[g[_+5]]+"-"+Pe[g[_+6]]+Pe[g[_+7]]+"-"+Pe[g[_+8]]+Pe[g[_+9]]+"-"+Pe[g[_+10]]+Pe[g[_+11]]+Pe[g[_+12]]+Pe[g[_+13]]+Pe[g[_+14]]+Pe[g[_+15]]}(d)}function Vf(o){return typeof o=="string"||typeof o=="number"}var Vc=function(){function o(u){O(this,o),Li(this,"_queue",[]),Li(this,"_timeout",null),Li(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(u)}return qs(o,[{key:"setOptions",value:function(u){u&&u.delay!==void 0&&(this.delay=u.delay),u&&u.max!==void 0&&(this.max=u.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var u=this._extended.object,l=this._extended.methods,d=0;d<l.length;d++){var g=l[d];g.original?u[g.name]=g.original:delete u[g.name]}this._extended=null}}},{key:"replace",value:function(u,l){var d=this,g=u[l];if(!g)throw new Error("Method "+l+" undefined");u[l]=function(){for(var _=arguments.length,I=new Array(_),C=0;C<_;C++)I[C]=arguments[C];d.queue({args:I,fn:g,context:this})}}},{key:"queue",value:function(u){typeof u=="function"?this._queue.push({fn:u}):this._queue.push(u),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var u=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=w_(function(){u.flush()},this.delay))}},{key:"flush",value:function(){var u,l;Ho(u=Yt(l=this._queue).call(l,0)).call(u,function(d){d.fn.apply(d.context||d.fn,d.args||[])})}}],[{key:"extend",value:function(u,l){var d=new o(l);if(u.flush!==void 0)throw new Error("Target object already has a property flush");u.flush=function(){d.flush()};var g=[{name:"flush",original:void 0}];if(l&&l.replace)for(var _=0;_<l.replace.length;_++){var I=l.replace[_];g.push({name:I,original:u[I]}),d.replace(u,I)}return d._extended={object:u,methods:g},d}}]),o}(),Kc=function(){function o(){O(this,o),Li(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Li(this,"subscribe",o.prototype.on),Li(this,"unsubscribe",o.prototype.off)}return qs(o,[{key:"_trigger",value:function(u,l,d){var g,_;if(u==="*")throw new Error("Cannot trigger event *");Ho(g=Id(_=[]).call(_,Lr(this._subscribers[u]),Lr(this._subscribers["*"]))).call(g,function(I){I(u,l,d??null)})}},{key:"on",value:function(u,l){typeof l=="function"&&this._subscribers[u].push(l)}},{key:"off",value:function(u,l){var d;this._subscribers[u]=cr(d=this._subscribers[u]).call(d,function(g){return g!==l})}}]),o}();Oa("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},cm);var Kf=T(ze.Set),Tm=T(ug);function qn(o,u){var l=Yl!==void 0&&Kl(o)||o["@@iterator"];if(!l){if(Br(o)||(l=function(k,N){var z;if(k){if(typeof k=="string")return Me(k,N);var W=Gs(z=Object.prototype.toString.call(k)).call(z,8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return au(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return Me(k,N)}}(o))||u){l&&(o=l);var d=0,g=function(){};return{s:g,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(k){throw k},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,I=!0,C=!1;return{s:function(){l=l.call(o)},n:function(){var k=l.next();return I=k.done,k},e:function(k){C=!0,_=k},f:function(){try{I||l.return==null||l.return()}finally{if(C)throw _}}}}function Me(o,u){(u==null||u>o.length)&&(u=o.length);for(var l=0,d=new Array(u);l<u;l++)d[l]=o[l];return d}var xm=function(o){function u(l){O(this,u),this._pairs=l}return qs(u,[{key:o,value:kt.mark(function l(){var d,g,_,I,C;return kt.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:d=qn(this._pairs),k.prev=1,d.s();case 3:if((g=d.n()).done){k.next=9;break}return _=yr(g.value,2),I=_[0],C=_[1],k.next=7,[I,C];case 7:k.next=3;break;case 9:k.next=14;break;case 11:k.prev=11,k.t0=k.catch(1),d.e(k.t0);case 14:return k.prev=14,d.f(),k.finish(14);case 17:case"end":return k.stop()}},l,this,[[1,11,14,17]])})},{key:"entries",value:kt.mark(function l(){var d,g,_,I,C;return kt.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:d=qn(this._pairs),k.prev=1,d.s();case 3:if((g=d.n()).done){k.next=9;break}return _=yr(g.value,2),I=_[0],C=_[1],k.next=7,[I,C];case 7:k.next=3;break;case 9:k.next=14;break;case 11:k.prev=11,k.t0=k.catch(1),d.e(k.t0);case 14:return k.prev=14,d.f(),k.finish(14);case 17:case"end":return k.stop()}},l,this,[[1,11,14,17]])})},{key:"keys",value:kt.mark(function l(){var d,g,_,I;return kt.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:d=qn(this._pairs),C.prev=1,d.s();case 3:if((g=d.n()).done){C.next=9;break}return _=yr(g.value,1),I=_[0],C.next=7,I;case 7:C.next=3;break;case 9:C.next=14;break;case 11:C.prev=11,C.t0=C.catch(1),d.e(C.t0);case 14:return C.prev=14,d.f(),C.finish(14);case 17:case"end":return C.stop()}},l,this,[[1,11,14,17]])})},{key:"values",value:kt.mark(function l(){var d,g,_,I;return kt.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:d=qn(this._pairs),C.prev=1,d.s();case 3:if((g=d.n()).done){C.next=9;break}return _=yr(g.value,2),I=_[1],C.next=7,I;case 7:C.next=3;break;case 9:C.next=14;break;case 11:C.prev=11,C.t0=C.catch(1),d.e(C.t0);case 14:return C.prev=14,d.f(),C.finish(14);case 17:case"end":return C.stop()}},l,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var l;return oi(l=Lr(this._pairs)).call(l,function(d){return d[0]})}},{key:"toItemArray",value:function(){var l;return oi(l=Lr(this._pairs)).call(l,function(d){return d[1]})}},{key:"toEntryArray",value:function(){return Lr(this._pairs)}},{key:"toObjectMap",value:function(){var l,d=f_(null),g=qn(this._pairs);try{for(g.s();!(l=g.n()).done;){var _=yr(l.value,2),I=_[0],C=_[1];d[I]=C}}catch(k){g.e(k)}finally{g.f()}return d}},{key:"toMap",value:function(){return new Hc(this._pairs)}},{key:"toIdSet",value:function(){return new Kf(this.toIdArray())}},{key:"toItemSet",value:function(){return new Kf(this.toItemArray())}},{key:"cache",value:function(){return new u(Lr(this._pairs))}},{key:"distinct",value:function(l){var d,g=new Kf,_=qn(this._pairs);try{for(_.s();!(d=_.n()).done;){var I=yr(d.value,2),C=I[0],k=I[1];g.add(l(k,C))}}catch(N){_.e(N)}finally{_.f()}return g}},{key:"filter",value:function(l){var d=this._pairs;return new u({[fo]:()=>kt.mark(function g(){var _,I,C,k,N;return kt.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:_=qn(d),z.prev=1,_.s();case 3:if((I=_.n()).done){z.next=10;break}if(C=yr(I.value,2),k=C[0],N=C[1],!l(N,k)){z.next=8;break}return z.next=8,[k,N];case 8:z.next=3;break;case 10:z.next=15;break;case 12:z.prev=12,z.t0=z.catch(1),_.e(z.t0);case 15:return z.prev=15,_.f(),z.finish(15);case 18:case"end":return z.stop()}},g,null,[[1,12,15,18]])})()})}},{key:"forEach",value:function(l){var d,g=qn(this._pairs);try{for(g.s();!(d=g.n()).done;){var _=yr(d.value,2),I=_[0];l(_[1],I)}}catch(C){g.e(C)}finally{g.f()}}},{key:"map",value:function(l){var d=this._pairs;return new u({[fo]:()=>kt.mark(function g(){var _,I,C,k,N;return kt.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:_=qn(d),z.prev=1,_.s();case 3:if((I=_.n()).done){z.next=9;break}return C=yr(I.value,2),k=C[0],N=C[1],z.next=7,[k,l(N,k)];case 7:z.next=3;break;case 9:z.next=14;break;case 11:z.prev=11,z.t0=z.catch(1),_.e(z.t0);case 14:return z.prev=14,_.f(),z.finish(14);case 17:case"end":return z.stop()}},g,null,[[1,11,14,17]])})()})}},{key:"max",value:function(l){var d=Tm(this._pairs),g=d.next();if(g.done)return null;for(var _=g.value[1],I=l(g.value[1],g.value[0]);!(g=d.next()).done;){var C=yr(g.value,2),k=C[0],N=C[1],z=l(N,k);z>I&&(I=z,_=N)}return _}},{key:"min",value:function(l){var d=Tm(this._pairs),g=d.next();if(g.done)return null;for(var _=g.value[1],I=l(g.value[1],g.value[0]);!(g=d.next()).done;){var C=yr(g.value,2),k=C[0],N=C[1],z=l(N,k);z<I&&(I=z,_=N)}return _}},{key:"reduce",value:function(l,d){var g,_=qn(this._pairs);try{for(_.s();!(g=_.n()).done;){var I=yr(g.value,2),C=I[0];d=l(d,I[1],C)}}catch(k){_.e(k)}finally{_.f()}return d}},{key:"sort",value:function(l){var d=this;return new u({[fo]:function(){var g;return Tm(_m(g=Lr(d._pairs)).call(g,function(_,I){var C=yr(_,2),k=C[0],N=C[1],z=yr(I,2),W=z[0],Q=z[1];return l(N,Q,k,W)}))}})}}]),u}(fo);function i(o,u){var l=Tg(o);if(sy){var d=sy(o);u&&(d=cr(d).call(d,function(g){return X_(o,g).enumerable})),l.push.apply(l,d)}return l}function e(o){for(var u=1;u<arguments.length;u++){var l,d,g=arguments[u]!=null?arguments[u]:{};u%2?Ho(l=i(Object(g),!0)).call(l,function(_){Li(o,_,g[_])}):J_?lT(o,J_(g)):Ho(d=i(Object(g))).call(d,function(_){Z_(o,_,X_(g,_))})}return o}function t(o,u){var l=Yl!==void 0&&Kl(o)||o["@@iterator"];if(!l){if(Br(o)||(l=function(k,N){var z;if(k){if(typeof k=="string")return r(k,N);var W=Gs(z=Object.prototype.toString.call(k)).call(z,8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return au(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return r(k,N)}}(o))||u){l&&(o=l);var d=0,g=function(){};return{s:g,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(k){throw k},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,I=!0,C=!1;return{s:function(){l=l.call(o)},n:function(){var k=l.next();return I=k.done,k},e:function(k){C=!0,_=k},f:function(){try{I||l.return==null||l.return()}finally{if(C)throw _}}}}function r(o,u){(u==null||u>o.length)&&(u=o.length);for(var l=0,d=new Array(u);l<u;l++)d[l]=o[l];return d}function n(o){var u=function(){if(typeof Reflect>"u"||!Nn||Nn.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Nn(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=Eu(o);if(u){var g=Eu(this).constructor;l=Nn(d,arguments,g)}else l=d.apply(this,arguments);return tw(this,l)}}var s=function(o){tf(l,o);var u=n(l);function l(d,g){var _;return O(this,l),Li(Ou(_=u.call(this)),"_queue",null),d&&!Br(d)&&(g=d,d=[]),_._options=g||{},_._data=new Hc,_.length=0,_._idProp=_._options.fieldId||"id",d&&d.length&&_.add(d),_.setOptions(g),_}return qs(l,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(d){d&&d.queue!==void 0&&(d.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Vc.extend(this,{replace:["add","update","remove"]})),d.queue&&typeof d.queue=="object"&&this._queue.setOptions(d.queue)))}},{key:"add",value:function(d,g){var _,I=this,C=[];if(Br(d)){var k=oi(d).call(d,function(W){return W[I._idProp]});if(p1(k).call(k,function(W){return I._data.has(W)}))throw new Error("A duplicate id was found in the parameter array.");for(var N=0,z=d.length;N<z;N++)_=this._addItem(d[N]),C.push(_)}else{if(!d||typeof d!="object")throw new Error("Unknown dataType");_=this._addItem(d),C.push(_)}return C.length&&this._trigger("add",{items:C},g),C}},{key:"update",value:function(d,g){var _=this,I=[],C=[],k=[],N=[],z=this._idProp,W=function(Se){var Re=Se[z];if(Re!=null&&_._data.has(Re)){var De=Se,Oe=kg({},_._data.get(Re)),Ke=_._updateItem(De);C.push(Ke),N.push(De),k.push(Oe)}else{var Xe=_._addItem(Se);I.push(Xe)}};if(Br(d))for(var Q=0,re=d.length;Q<re;Q++)d[Q]&&typeof d[Q]=="object"?W(d[Q]):console.warn("Ignoring input item, which is not an object at index "+Q);else{if(!d||typeof d!="object")throw new Error("Unknown dataType");W(d)}if(I.length&&this._trigger("add",{items:I},g),C.length){var pe={items:C,oldData:k,data:N};this._trigger("update",pe,g)}return Id(I).call(I,C)}},{key:"updateOnly",value:function(d,g){var _,I=this;Br(d)||(d=[d]);var C=oi(_=oi(d).call(d,function(N){var z=I._data.get(N[I._idProp]);if(z==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:z,update:N}})).call(_,function(N){var z=N.oldData,W=N.update,Q=z[I._idProp],re=function(pe){for(var Se,Re=arguments.length,De=new Array(Re>1?Re-1:0),Oe=1;Oe<Re;Oe++)De[Oe-1]=arguments[Oe];return N_.apply(void 0,Id(Se=[{},pe]).call(Se,De))}(z,W);return I._data.set(Q,re),{id:Q,oldData:z,updatedData:re}});if(C.length){var k={items:oi(C).call(C,function(N){return N.id}),oldData:oi(C).call(C,function(N){return N.oldData}),data:oi(C).call(C,function(N){return N.updatedData})};return this._trigger("update",k,g),k.items}return[]}},{key:"get",value:function(d,g){var _=void 0,I=void 0,C=void 0;Vf(d)?(_=d,C=g):Br(d)?(I=d,C=g):C=d;var k,N=C&&C.returnType==="Object"?"Object":"Array",z=C&&cr(C),W=[],Q=void 0,re=void 0,pe=void 0;if(_!=null)(Q=this._data.get(_))&&z&&!z(Q)&&(Q=void 0);else if(I!=null)for(var Se=0,Re=I.length;Se<Re;Se++)(Q=this._data.get(I[Se]))==null||z&&!z(Q)||W.push(Q);else for(var De,Oe=0,Ke=(re=Lr(Sa(De=this._data).call(De))).length;Oe<Ke;Oe++)pe=re[Oe],(Q=this._data.get(pe))==null||z&&!z(Q)||W.push(Q);if(C&&C.order&&_==null&&this._sort(W,C.order),C&&C.fields){var Xe=C.fields;if(_!=null&&Q!=null)Q=this._filterFields(Q,Xe);else for(var ot=0,Tt=W.length;ot<Tt;ot++)W[ot]=this._filterFields(W[ot],Xe)}if(N=="Object"){for(var Qr={},Dr=0,yn=W.length;Dr<yn;Dr++){var Uu=W[Dr];Qr[Uu[this._idProp]]=Uu}return Qr}return _!=null?(k=Q)!==null&&k!==void 0?k:null:W}},{key:"getIds",value:function(d){var g=this._data,_=d&&cr(d),I=d&&d.order,C=Lr(Sa(g).call(g)),k=[];if(_)if(I){for(var N=[],z=0,W=C.length;z<W;z++){var Q=C[z],re=this._data.get(Q);re!=null&&_(re)&&N.push(re)}this._sort(N,I);for(var pe=0,Se=N.length;pe<Se;pe++)k.push(N[pe][this._idProp])}else for(var Re=0,De=C.length;Re<De;Re++){var Oe=C[Re],Ke=this._data.get(Oe);Ke!=null&&_(Ke)&&k.push(Ke[this._idProp])}else if(I){for(var Xe=[],ot=0,Tt=C.length;ot<Tt;ot++){var Qr=C[ot];Xe.push(g.get(Qr))}this._sort(Xe,I);for(var Dr=0,yn=Xe.length;Dr<yn;Dr++)k.push(Xe[Dr][this._idProp])}else for(var Uu=0,k1=C.length;Uu<k1;Uu++){var Yf=C[Uu],Xi=g.get(Yf);Xi!=null&&k.push(Xi[this._idProp])}return k}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(d,g){var _=g&&cr(g),I=this._data,C=Lr(Sa(I).call(I));if(g&&g.order)for(var k=this.get(g),N=0,z=k.length;N<z;N++){var W=k[N];d(W,W[this._idProp])}else for(var Q=0,re=C.length;Q<re;Q++){var pe=C[Q],Se=this._data.get(pe);Se==null||_&&!_(Se)||d(Se,pe)}}},{key:"map",value:function(d,g){for(var _=g&&cr(g),I=[],C=this._data,k=Lr(Sa(C).call(C)),N=0,z=k.length;N<z;N++){var W=k[N],Q=this._data.get(W);Q==null||_&&!_(Q)||I.push(d(Q,W))}return g&&g.order&&this._sort(I,g.order),I}},{key:"_filterFields",value:function(d,g){var _;return d&&fd(_=Br(g)?g:Tg(g)).call(_,function(I,C){return I[C]=d[C],I},{})}},{key:"_sort",value:function(d,g){if(typeof g=="string"){var _=g;_m(d).call(d,function(I,C){var k=I[_],N=C[_];return k>N?1:k<N?-1:0})}else{if(typeof g!="function")throw new TypeError("Order must be a function or a string");_m(d).call(d,g)}}},{key:"remove",value:function(d,g){for(var _=[],I=[],C=Br(d)?d:[d],k=0,N=C.length;k<N;k++){var z=this._remove(C[k]);if(z){var W=z[this._idProp];W!=null&&(_.push(W),I.push(z))}}return _.length&&this._trigger("remove",{items:_,oldData:I},g),_}},{key:"_remove",value:function(d){var g;if(Vf(d)?g=d:d&&typeof d=="object"&&(g=d[this._idProp]),g!=null&&this._data.has(g)){var _=this._data.get(g)||null;return this._data.delete(g),--this.length,_}return null}},{key:"clear",value:function(d){for(var g,_=Lr(Sa(g=this._data).call(g)),I=[],C=0,k=_.length;C<k;C++)I.push(this._data.get(_[C]));return this._data.clear(),this.length=0,this._trigger("remove",{items:_,oldData:I},d),_}},{key:"max",value:function(d){var g,_,I=null,C=null,k=t(Hu(g=this._data).call(g));try{for(k.s();!(_=k.n()).done;){var N=_.value,z=N[d];typeof z=="number"&&(C==null||z>C)&&(I=N,C=z)}}catch(W){k.e(W)}finally{k.f()}return I||null}},{key:"min",value:function(d){var g,_,I=null,C=null,k=t(Hu(g=this._data).call(g));try{for(k.s();!(_=k.n()).done;){var N=_.value,z=N[d];typeof z=="number"&&(C==null||z<C)&&(I=N,C=z)}}catch(W){k.e(W)}finally{k.f()}return I||null}},{key:"distinct",value:function(d){for(var g=this._data,_=Lr(Sa(g).call(g)),I=[],C=0,k=0,N=_.length;k<N;k++){for(var z=_[k],W=g.get(z)[d],Q=!1,re=0;re<C;re++)if(I[re]==W){Q=!0;break}Q||W===void 0||(I[C]=W,C++)}return I}},{key:"_addItem",value:function(d){var g=function(I,C){return I[C]==null&&(I[C]=Sm()),I}(d,this._idProp),_=g[this._idProp];if(this._data.has(_))throw new Error("Cannot add item: item with id "+_+" already exists");return this._data.set(_,g),++this.length,_}},{key:"_updateItem",value:function(d){var g=d[this._idProp];if(g==null)throw new Error("Cannot update item: item has no id (item: "+ta(d)+")");var _=this._data.get(g);if(!_)throw new Error("Cannot update item: no item with id "+g+" found");return this._data.set(g,e(e({},_),d)),g}},{key:"stream",value:function(d){if(d){var g=this._data;return new xm({[fo]:()=>kt.mark(function I(){var C,k,N,z;return kt.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:C=t(d),W.prev=1,C.s();case 3:if((k=C.n()).done){W.next=11;break}if(N=k.value,(z=g.get(N))==null){W.next=9;break}return W.next=9,[N,z];case 9:W.next=3;break;case 11:W.next=16;break;case 13:W.prev=13,W.t0=W.catch(1),C.e(W.t0);case 16:return W.prev=16,C.f(),W.finish(16);case 19:case"end":return W.stop()}},I,null,[[1,13,16,19]])})()})}var _;return new xm({[fo]:kn(_=be(this._data)).call(_,this._data)})}}]),l}(Kc);function c(o,u){var l=Yl!==void 0&&Kl(o)||o["@@iterator"];if(!l){if(Br(o)||(l=function(k,N){var z;if(k){if(typeof k=="string")return f(k,N);var W=Gs(z=Object.prototype.toString.call(k)).call(z,8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return au(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return f(k,N)}}(o))||u){l&&(o=l);var d=0,g=function(){};return{s:g,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(k){throw k},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,I=!0,C=!1;return{s:function(){l=l.call(o)},n:function(){var k=l.next();return I=k.done,k},e:function(k){C=!0,_=k},f:function(){try{I||l.return==null||l.return()}finally{if(C)throw _}}}}function f(o,u){(u==null||u>o.length)&&(u=o.length);for(var l=0,d=new Array(u);l<u;l++)d[l]=o[l];return d}function w(o){var u=function(){if(typeof Reflect>"u"||!Nn||Nn.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Nn(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=Eu(o);if(u){var g=Eu(this).constructor;l=Nn(d,arguments,g)}else l=d.apply(this,arguments);return tw(this,l)}}var P=function(o){tf(l,o);var u=w(l);function l(d,g){var _,I;return O(this,l),Li(Ou(I=u.call(this)),"length",0),Li(Ou(I),"_ids",new Kf),I._options=g||{},I._listener=kn(_=I._onEvent).call(_,Ou(I)),I.setData(d),I}return qs(l,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(d){if(this._data){this._data.off&&this._data.off("*",this._listener);var g=this._data.getIds({filter:cr(this._options)}),_=this._data.get(g);this._ids.clear(),this.length=0,this._trigger("remove",{items:g,oldData:_})}if(d!=null){this._data=d;for(var I=this._data.getIds({filter:cr(this._options)}),C=0,k=I.length;C<k;C++){var N=I[C];this._ids.add(N)}this.length=I.length,this._trigger("add",{items:I})}else this._data=new s;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var d=this._data.getIds({filter:cr(this._options)}),g=Lr(this._ids),_={},I=[],C=[],k=[],N=0,z=d.length;N<z;N++){var W=d[N];_[W]=!0,this._ids.has(W)||(I.push(W),this._ids.add(W))}for(var Q=0,re=g.length;Q<re;Q++){var pe=g[Q],Se=this._data.get(pe);Se==null?console.error("If you see this, report it please."):_[pe]||(C.push(pe),k.push(Se),this._ids.delete(pe))}this.length+=I.length-C.length,I.length&&this._trigger("add",{items:I}),C.length&&this._trigger("remove",{items:C,oldData:k})}},{key:"get",value:function(d,g){if(this._data==null)return null;var _,I=null;Vf(d)||Br(d)?(I=d,_=g):_=d;var C=kg({},this._options,_),k=cr(this._options),N=_&&cr(_);return k&&N&&(C.filter=function(z){return k(z)&&N(z)}),I==null?this._data.get(C):this._data.get(I,C)}},{key:"getIds",value:function(d){if(this._data.length){var g,_=cr(this._options),I=d!=null?cr(d):null;return g=I?_?function(C){return _(C)&&I(C)}:I:_,this._data.getIds({filter:g,order:d&&d.order})}return[]}},{key:"forEach",value:function(d,g){if(this._data){var _,I,C=cr(this._options),k=g&&cr(g);I=k?C?function(N){return C(N)&&k(N)}:k:C,Ho(_=this._data).call(_,d,{filter:I,order:g&&g.order})}}},{key:"map",value:function(d,g){if(this._data){var _,I,C=cr(this._options),k=g&&cr(g);return I=k?C?function(N){return C(N)&&k(N)}:k:C,oi(_=this._data).call(_,d,{filter:I,order:g&&g.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(d){var g;return this._data.stream(d||{[fo]:kn(g=Sa(this._ids)).call(g,this._ids)})}},{key:"dispose",value:function(){var d;(d=this._data)!==null&&d!==void 0&&d.off&&this._data.off("*",this._listener);var g,_="This data view has already been disposed of.",I={get:function(){throw new Error(_)},set:function(){throw new Error(_)},configurable:!1},C=c(Eg(l.prototype));try{for(C.s();!(g=C.n()).done;){var k=g.value;Z_(this,k,I)}}catch(N){C.e(N)}finally{C.f()}}},{key:"_onEvent",value:function(d,g,_){if(g&&g.items&&this._data){var I=g.items,C=[],k=[],N=[],z=[],W=[],Q=[];switch(d){case"add":for(var re=0,pe=I.length;re<pe;re++){var Se=I[re];this.get(Se)&&(this._ids.add(Se),C.push(Se))}break;case"update":for(var Re=0,De=I.length;Re<De;Re++){var Oe=I[Re];this.get(Oe)?this._ids.has(Oe)?(k.push(Oe),W.push(g.data[Re]),z.push(g.oldData[Re])):(this._ids.add(Oe),C.push(Oe)):this._ids.has(Oe)&&(this._ids.delete(Oe),N.push(Oe),Q.push(g.oldData[Re]))}break;case"remove":for(var Ke=0,Xe=I.length;Ke<Xe;Ke++){var ot=I[Ke];this._ids.has(ot)&&(this._ids.delete(ot),N.push(ot),Q.push(g.oldData[Ke]))}}this.length+=C.length-N.length,C.length&&this._trigger("add",{items:C},_),k.length&&this._trigger("update",{items:k,oldData:z,data:W},_),N.length&&this._trigger("remove",{items:N,oldData:Q},_)}}}]),l}(Kc);function A(o,u){return typeof u=="object"&&u!==null&&o===u.idProp&&typeof u.add=="function"&&typeof u.clear=="function"&&typeof u.distinct=="function"&&typeof Ho(u)=="function"&&typeof u.get=="function"&&typeof u.getDataSet=="function"&&typeof u.getIds=="function"&&typeof u.length=="number"&&typeof oi(u)=="function"&&typeof u.max=="function"&&typeof u.min=="function"&&typeof u.off=="function"&&typeof u.on=="function"&&typeof u.remove=="function"&&typeof u.setOptions=="function"&&typeof u.stream=="function"&&typeof u.update=="function"&&typeof u.updateOnly=="function"}m.DELETE=Vd,m.DataSet=s,m.DataStream=xm,m.DataView=P,m.Queue=Vc,m.createNewDataPipeFrom=function(o){return new ro(o)},m.isDataSetLike=A,m.isDataViewLike=function(o,u){return typeof u=="object"&&u!==null&&o===u.idProp&&typeof Ho(u)=="function"&&typeof u.get=="function"&&typeof u.getDataSet=="function"&&typeof u.getIds=="function"&&typeof u.length=="number"&&typeof oi(u)=="function"&&typeof u.off=="function"&&typeof u.on=="function"&&typeof u.stream=="function"&&A(o,u.getDataSet())}})}(Hx,Hx.exports)),Hx.exports}var Ux={exports:{}},Gx={exports:{}};/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.10
 * @date    2025-07-06T08:42:20.006Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var KH=Gx.exports,wF;function YH(){return wF||(wF=1,function(b,S){(function(m,O){O(S)})(KH,function(m){function O(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function")}var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xu<"u"?Xu:typeof self<"u"?self:{};function T(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var $={exports:{}},F=function(a){return a&&a.Math===Math&&a},j=F(typeof globalThis=="object"&&globalThis)||F(typeof window=="object"&&window)||F(typeof self=="object"&&self)||F(typeof E=="object"&&E)||function(){return this}()||E||Function("return this")(),B=function(a){try{return!!a()}catch{return!0}},U=B,K=!U(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),V=K,Y=Function.prototype,Z=Y.apply,se=Y.call,ne=typeof Reflect=="object"&&Reflect.apply||(V?se.bind(Z):function(){return se.apply(Z,arguments)}),_e=K,le=Function.prototype,ie=le.call,te=_e&&le.bind.bind(ie,ie),we=_e?te:function(a){return function(){return ie.apply(a,arguments)}},oe=we,ee=oe({}.toString),Te=oe("".slice),he=function(a){return Te(ee(a),8,-1)},Ae=he,xe=we,Ve=function(a){if(Ae(a)==="Function")return xe(a)},it=typeof document=="object"&&document.all,Ze=typeof it>"u"&&it!==void 0,Fe={all:it,IS_HTMLDDA:Ze},je=Fe,et=je.all,Ue=je.IS_HTMLDDA?function(a){return typeof a=="function"||a===et}:function(a){return typeof a=="function"},dt={},ft=B,gt=!ft(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rn=K,ur=Function.prototype.call,ut=rn?ur.bind(ur):function(){return ur.apply(ur,arguments)},Ft={},Or={}.propertyIsEnumerable,Er=Object.getOwnPropertyDescriptor,Vn=Er&&!Or.call({1:2},1);Ft.f=Vn?function(h){var p=Er(this,h);return!!p&&p.enumerable}:Or;var Sr=function(a,h){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:h}},nn=we,Ti=B,vr=he,_t=Object,xi=nn("".split),fe=Ti(function(){return!_t("z").propertyIsEnumerable(0)})?function(a){return vr(a)==="String"?xi(a,""):_t(a)}:_t,ve=function(a){return a==null},ae=ve,$e=TypeError,Le=function(a){if(ae(a))throw new $e("Can't call method on "+a);return a},Xt=fe,pt=Le,Ie=function(a){return Xt(pt(a))},ze=Ue,ei=Fe,_n=ei.all,Jt=ei.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:ze(a)||a===_n}:function(a){return typeof a=="object"?a!==null:ze(a)},lt={},tt=lt,yt=j,Ii=Ue,vs=function(a){return Ii(a)?a:void 0},Ht=function(a,h){return arguments.length<2?vs(tt[a])||vs(yt[a]):tt[a]&&tt[a][h]||yt[a]&&yt[a][h]},Pi=we,vt=Pi({}.isPrototypeOf),wn=typeof navigator<"u"&&String(navigator.userAgent)||"",go=j,On=wn,np=go.process,Nm=go.Deno,gs=np&&np.versions||Nm&&Nm.version,yo=gs&&gs.v8,Ci,eh;yo&&(Ci=yo.split("."),eh=Ci[0]>0&&Ci[0]<4?1:+(Ci[0]+Ci[1])),!eh&&On&&(Ci=On.match(/Edge\/(\d+)/),(!Ci||Ci[1]>=74)&&(Ci=On.match(/Chrome\/(\d+)/),Ci&&(eh=+Ci[1])));var Ta=eh,Fm=Ta,Ju=B,Qu=j,Zu=Qu.String,on=!!Object.getOwnPropertySymbols&&!Ju(function(){var a=Symbol("symbol detection");return!Zu(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Fm&&Fm<41}),V1=on,Lm=V1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xa=Ht,ti=Ue,K1=vt,op=Lm,th=Object,ys=op?function(a){return typeof a=="symbol"}:function(a){var h=xa("Symbol");return ti(h)&&K1(h.prototype,th(a))},sp=String,ms=function(a){try{return sp(a)}catch{return"Object"}},Bm=Ue,ap=ms,zm=TypeError,ri=function(a){if(Bm(a))return a;throw new zm(ap(a)+" is not a function")},qm=ri,rh=ve,Ia=function(a,h){var p=a[h];return rh(p)?void 0:qm(p)},Kn=ut,mo=Ue,up=Jt,Ai=TypeError,ii=function(a,h){var p,v;if(h==="string"&&mo(p=a.toString)&&!up(v=Kn(p,a))||mo(p=a.valueOf)&&!up(v=Kn(p,a))||h!=="string"&&mo(p=a.toString)&&!up(v=Kn(p,a)))return v;throw new Ai("Can't convert object to primitive value")},Wm={exports:{}},gr=!0,Ut=j,Y1=Object.defineProperty,X1=function(a,h){try{Y1(Ut,a,{value:h,configurable:!0,writable:!0})}catch{Ut[a]=h}return h},J1=j,ih=X1,el="__core-js_shared__",Hm=J1[el]||ih(el,{}),nh=Hm,Um=nh;(Wm.exports=function(a,h){return Um[a]||(Um[a]=h!==void 0?h:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Pa=Wm.exports,Ca=Le,bo=Object,Tr=function(a){return bo(Ca(a))},Gt=we,$t=Tr,Gm=Gt({}.hasOwnProperty),Lt=Object.hasOwn||function(h,p){return Gm($t(h),p)},Vm=we,Q1=0,Z1=Math.random(),eO=Vm(1 .toString),oh=function(a){return"Symbol("+(a===void 0?"":a)+")_"+eO(++Q1+Z1,36)},tO=j,sh=Pa,Aa=Lt,ah=oh,lp=on,Km=Lm,_o=tO.Symbol,uh=sh("wks"),Ym=Km?_o.for||_o:_o&&_o.withoutSetter||ah,Dt=function(a){return Aa(uh,a)||(uh[a]=lp&&Aa(_o,a)?_o[a]:Ym("Symbol."+a)),uh[a]},rO=ut,Xm=Jt,Jm=ys,iO=Ia,nO=ii,oO=Dt,Qm=TypeError,Zm=oO("toPrimitive"),sO=function(a,h){if(!Xm(a)||Jm(a))return a;var p=iO(a,Zm),v;if(p){if(h===void 0&&(h="default"),v=rO(p,a,h),!Xm(v)||Jm(v))return v;throw new Qm("Can't convert object to primitive value")}return h===void 0&&(h="number"),nO(a,h)},aO=sO,tl=ys,wo=function(a){var h=aO(a,"string");return tl(h)?h:h+""},uO=j,eb=Jt,cp=uO.document,lO=eb(cp)&&eb(cp.createElement),lh=function(a){return lO?cp.createElement(a):{}},cO=gt,hO=B,ch=lh,Vt=!cO&&!hO(function(){return Object.defineProperty(ch("div"),"a",{get:function(){return 7}}).a!==7}),Mr=gt,tb=ut,dO=Ft,fO=Sr,Yn=Ie,di=wo,pO=Lt,vO=Vt,rl=Object.getOwnPropertyDescriptor;dt.f=Mr?rl:function(h,p){if(h=Yn(h),p=di(p),vO)try{return rl(h,p)}catch{}if(pO(h,p))return fO(!tb(dO.f,h,p),h[p])};var il=B,rb=Ue,hp=/#|\.prototype\./,bs=function(a,h){var p=nl[dp(a)];return p===fp?!0:p===ol?!1:rb(h)?il(h):!!h},dp=bs.normalize=function(a){return String(a).replace(hp,".").toLowerCase()},nl=bs.data={},ol=bs.NATIVE="N",fp=bs.POLYFILL="P",ib=bs,_s=Ve,Ri=ri,hh=K,gO=_s(_s.bind),Oo=function(a,h){return Ri(a),h===void 0?a:hh?gO(a,h):function(){return a.apply(h,arguments)}},ni={},yO=gt,Ra=B,ws=yO&&Ra(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),ka=Jt,Os=String,nb=TypeError,Ne=function(a){if(ka(a))return a;throw new nb(Os(a)+" is not an object")},qe=gt,mO=Vt,bO=ws,Eo=Ne,pp=wo,_O=TypeError,dh=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,Da="enumerable",vp="configurable",En="writable";ni.f=qe?bO?function(h,p,v){if(Eo(h),p=pp(p),Eo(v),typeof h=="function"&&p==="prototype"&&"value"in v&&En in v&&!v[En]){var y=$a(h,p);y&&y[En]&&(h[p]=v.value,v={configurable:vp in v?v[vp]:y[vp],enumerable:Da in v?v[Da]:y[Da],writable:!1})}return dh(h,p,v)}:dh:function(h,p,v){if(Eo(h),p=pp(p),Eo(v),mO)try{return dh(h,p,v)}catch{}if("get"in v||"set"in v)throw new _O("Accessors not supported");return"value"in v&&(h[p]=v.value),h};var Sn=gt,wO=ni,OO=Sr,ki=Sn?function(a,h,p){return wO.f(a,h,OO(1,p))}:function(a,h,p){return a[h]=p,a},sl=j,gp=ne,al=Ve,jr=Ue,EO=dt.f,fh=ib,Ma=lt,ob=Oo,Es=ki,Xn=Lt,sb=function(a){var h=function(p,v,y){if(this instanceof h){switch(arguments.length){case 0:return new a;case 1:return new a(p);case 2:return new a(p,v)}return new a(p,v,y)}return gp(a,this,arguments)};return h.prototype=a.prototype,h},Be=function(a,h){var p=a.target,v=a.global,y=a.stat,x=a.proto,R=v?sl:y?sl[p]:(sl[p]||{}).prototype,M=v?Ma:Ma[p]||Es(Ma,p,{})[p],D=M.prototype,L,q,G,H,X,Ce,Ye,Je,at;for(H in h)L=fh(v?H:p+(y?".":"#")+H,a.forced),q=!L&&R&&Xn(R,H),Ce=M[H],q&&(a.dontCallGetSet?(at=EO(R,H),Ye=at&&at.value):Ye=R[H]),X=q&&Ye?Ye:h[H],!(q&&typeof Ce==typeof X)&&(a.bind&&q?Je=ob(X,sl):a.wrap&&q?Je=sb(X):x&&jr(X)?Je=al(X):Je=X,(a.sham||X&&X.sham||Ce&&Ce.sham)&&Es(Je,"sham",!0),Es(M,H,Je),x&&(G=p+"Prototype",Xn(Ma,G)||Es(Ma,G,{}),Es(Ma[G],H,X),a.real&&D&&(L||!D[H])&&Es(D,H,X)))},ul=Be,ll=gt,ja=ni.f;ul({target:"Object",stat:!0,forced:Object.defineProperty!==ja,sham:!ll},{defineProperty:ja});var SO=lt,ab=SO.Object,TO=$.exports=function(h,p,v){return ab.defineProperty(h,p,v)};ab.defineProperty.sham&&(TO.sham=!0);var sn=$.exports,xO=sn,ph=xO,IO=ph,ub=IO,Na=ub,lb=Na,yp=lb,vh=T(yp),cb=he,wt=Array.isArray||function(h){return cb(h)==="Array"},gh=Math.ceil,mp=Math.floor,bp=Math.trunc||function(h){var p=+h;return(p>0?mp:gh)(p)},PO=bp,yh=function(a){var h=+a;return h!==h||h===0?0:PO(h)},Fa=yh,hb=Math.min,cl=function(a){return a>0?hb(Fa(a),9007199254740991):0},db=cl,fi=function(a){return db(a.length)},_p=TypeError,CO=9007199254740991,La=function(a){if(a>CO)throw _p("Maximum allowed index exceeded");return a},AO=wo,Qt=ni,RO=Sr,Ba=function(a,h,p){var v=AO(h);v in a?Qt.f(a,v,RO(0,p)):a[v]=p},kO=Dt,Ss=kO("toStringTag"),fb={};fb[Ss]="z";var de=String(fb)==="[object z]",wp=de,pb=Ue,za=he,vb=Dt,Op=vb("toStringTag"),Ep=Object,gb=za(function(){return arguments}())==="Arguments",yb=function(a,h){try{return a[h]}catch{}},Jn=wp?za:function(a){var h,p,v;return a===void 0?"Undefined":a===null?"Null":typeof(p=yb(h=Ep(a),Op))=="string"?p:gb?za(h):(v=za(h))==="Object"&&pb(h.callee)?"Arguments":v},So=we,$O=Ue,mh=nh,DO=So(Function.toString);$O(mh.inspectSource)||(mh.inspectSource=function(a){return DO(a)});var mb=mh.inspectSource,Ts=we,To=B,Sp=Ue,Tp=Jn,MO=Ht,bh=mb,hl=function(){},jO=[],bb=MO("Reflect","construct"),xp=/^\s*(?:class|function)\b/,xs=Ts(xp.exec),dl=!xp.test(hl),Qn=function(h){if(!Sp(h))return!1;try{return bb(hl,jO,h),!0}catch{return!1}},_b=function(h){if(!Sp(h))return!1;switch(Tp(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return dl||!!xs(xp,bh(h))}catch{return!0}};_b.sham=!0;var _h=!bb||To(function(){var a;return Qn(Qn.call)||!Qn(Object)||!Qn(function(){a=!0})||a})?_b:Qn,wb=wt,Ob=_h,Ip=Jt,Pp=Dt,NO=Pp("species"),Cp=Array,wh=function(a){var h;return wb(a)&&(h=a.constructor,Ob(h)&&(h===Cp||wb(h.prototype))?h=void 0:Ip(h)&&(h=h[NO],h===null&&(h=void 0))),h===void 0?Cp:h},Eb=wh,qa=function(a,h){return new(Eb(a))(h===0?0:h)},FO=B,LO=Dt,fl=Ta,Sb=LO("species"),Zn=function(a){return fl>=51||!FO(function(){var h=[],p=h.constructor={};return p[Sb]=function(){return{foo:1}},h[a](Boolean).foo!==1})},Ap=Be,BO=B,Tb=wt,Oh=Jt,xb=Tr,zO=fi,pl=La,Ib=Ba,qO=qa,WO=Zn,Is=Dt,Rp=Ta,kp=Is("isConcatSpreadable"),$p=Rp>=51||!BO(function(){var a=[];return a[kp]=!1,a.concat()[0]!==a}),Pb=function(a){if(!Oh(a))return!1;var h=a[kp];return h!==void 0?!!h:Tb(a)},Cb=!$p||!WO("concat");Ap({target:"Array",proto:!0,forced:Cb},{concat:function(h){var p=xb(this),v=qO(p,0),y=0,x,R,M,D,L;for(x=-1,M=arguments.length;x<M;x++)if(L=x===-1?p:arguments[x],Pb(L))for(D=zO(L),pl(y+D),R=0;R<D;R++,y++)R in L&&Ib(v,y,L[R]);else pl(y+1),Ib(v,y++,L);return v.length=y,v}});var Eh=Jn,xo=String,$i=function(a){if(Eh(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return xo(a)},Sh={},HO=yh,Dp=Math.max,Mp=Math.min,Th=function(a,h){var p=HO(a);return p<0?Dp(p+h,0):Mp(p,h)},UO=Ie,GO=Th,VO=fi,an=function(a){return function(h,p,v){var y=UO(h),x=VO(y),R=GO(v,x),M;if(a&&p!==p){for(;x>R;)if(M=y[R++],M!==M)return!0}else for(;x>R;R++)if((a||R in y)&&y[R]===p)return a||R||0;return!a&&-1}},xh={indexOf:an(!1)},vl={},Ab=we,jp=Lt,Rb=Ie,gl=xh.indexOf,KO=vl,Tn=Ab([].push),kb=function(a,h){var p=Rb(a),v=0,y=[],x;for(x in p)!jp(KO,x)&&jp(p,x)&&Tn(y,x);for(;h.length>v;)jp(p,x=h[v++])&&(~gl(y,x)||Tn(y,x));return y},yl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wa=kb,Ih=yl,Ps=Object.keys||function(h){return Wa(h,Ih)},ml=gt,bl=ws,$b=ni,YO=Ne,XO=Ie,Np=Ps;Sh.f=ml&&!bl?Object.defineProperties:function(h,p){YO(h);for(var v=XO(p),y=Np(p),x=y.length,R=0,M;x>R;)$b.f(h,M=y[R++],v[M]);return h};var Ct=Ht,Fp=Ct("document","documentElement"),Lp=Pa,Db=oh,Bp=Lp("keys"),Io=function(a){return Bp[a]||(Bp[a]=Db(a))},_l=Ne,wl=Sh,Mb=yl,JO=vl,Ph=Fp,jb=lh,QO=Io,zp=">",Po="<",qp="prototype",Ol="script",Nb=QO("IE_PROTO"),Ch=function(){},Wp=function(a){return Po+Ol+zp+a+Po+"/"+Ol+zp},Fb=function(a){a.write(Wp("")),a.close();var h=a.parentWindow.Object;return a=null,h},Ah=function(){var a=jb("iframe"),h="java"+Ol+":",p;return a.style.display="none",Ph.appendChild(a),a.src=String(h),p=a.contentWindow.document,p.open(),p.write(Wp("document.F=Object")),p.close(),p.F},Ha,Co=function(){try{Ha=new ActiveXObject("htmlfile")}catch{}Co=typeof document<"u"?document.domain&&Ha?Fb(Ha):Ah():Fb(Ha);for(var a=Mb.length;a--;)delete Co[qp][Mb[a]];return Co()};JO[Nb]=!0;var Cs=Object.create||function(h,p){var v;return h!==null?(Ch[qp]=_l(h),v=new Ch,Ch[qp]=null,v[Nb]=h):v=Co(),p===void 0?v:wl.f(v,p)},Ao={},As=kb,ZO=yl,pi=ZO.concat("length","prototype");Ao.f=Object.getOwnPropertyNames||function(h){return As(h,pi)};var Di={},Mi=Th,Lb=fi,eE=Ba,tE=Array,rE=Math.max,Mt=function(a,h,p){for(var v=Lb(a),y=Mi(h,v),x=Mi(p===void 0?v:p,v),R=tE(rE(x-y,0)),M=0;y<x;y++,M++)eE(R,M,a[y]);return R.length=M,R},Bb=he,Rh=Ie,Rs=Ao.f,kh=Mt,ks=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Hp=function(a){try{return Rs(a)}catch{return kh(ks)}};Di.f=function(h){return ks&&Bb(h)==="Window"?Hp(h):Rs(Rh(h))};var El={};El.f=Object.getOwnPropertySymbols;var Ua=ki,un=function(a,h,p,v){return v&&v.enumerable?a[h]=p:Ua(a,h,p),a},iE=ni,Zt=function(a,h,p){return iE.f(a,h,p)},Sl={},$h=Dt;Sl.f=$h;var xn=lt,Up=Lt,zb=Sl,Dh=ni.f,xt=function(a){var h=xn.Symbol||(xn.Symbol={});Up(h,a)||Dh(h,a,{value:zb.f(a)})},Gp=ut,nE=Ht,qb=Dt,Vp=un,Tl=function(){var a=nE("Symbol"),h=a&&a.prototype,p=h&&h.valueOf,v=qb("toPrimitive");h&&!h[v]&&Vp(h,v,function(y){return Gp(p,this)},{})},Wb=de,oE=Jn,Kp=Wb?{}.toString:function(){return"[object "+oE(this)+"]"},Mh=de,sE=ni.f,ji=ki,$s=Lt,ln=Kp,aE=Dt,Hb=aE("toStringTag"),Ds=function(a,h,p,v){if(a){var y=p?a:a.prototype;$s(y,Hb)||sE(y,Hb,{configurable:!0,value:h}),v&&!Mh&&ji(y,"toString",ln)}},uE=j,lE=Ue,jh=uE.WeakMap,In=lE(jh)&&/native code/.test(String(jh)),Bt=In,Ro=j,ko=Jt,Yp=ki,Nh=Lt,lr=nh,Ni=Io,Fh=vl,rr="Object already initialized",Xp=Ro.TypeError,xl=Ro.WeakMap,$o,vi,Il,Jp=function(a){return Il(a)?vi(a):$o(a,{})},Ga=function(a){return function(h){var p;if(!ko(h)||(p=vi(h)).type!==a)throw new Xp("Incompatible receiver, "+a+" required");return p}};if(Bt||lr.state){var ir=lr.state||(lr.state=new xl);ir.get=ir.get,ir.has=ir.has,ir.set=ir.set,$o=function(a,h){if(ir.has(a))throw new Xp(rr);return h.facade=a,ir.set(a,h),h},vi=function(a){return ir.get(a)||{}},Il=function(a){return ir.has(a)}}else{var Pn=Ni("state");Fh[Pn]=!0,$o=function(a,h){if(Nh(a,Pn))throw new Xp(rr);return h.facade=a,Yp(a,Pn,h),h},vi=function(a){return Nh(a,Pn)?a[Pn]:{}},Il=function(a){return Nh(a,Pn)}}var Ms={set:$o,get:vi,has:Il,enforce:Jp,getterFor:Ga},Qp=Oo,Zp=we,Lh=fe,ev=Tr,Pl=fi,Bh=qa,tv=Zp([].push),js=function(a){var h=a===1,p=a===2,v=a===3,y=a===4,x=a===6,R=a===7,M=a===5||x;return function(D,L,q,G){for(var H=ev(D),X=Lh(H),Ce=Qp(L,q),Ye=Pl(X),Je=0,at=G||Bh,ht=h?at(D,Ye):p||R?at(D,0):void 0,Zr,sr;Ye>Je;Je++)if((M||Je in X)&&(Zr=X[Je],sr=Ce(Zr,Je,H),a))if(h)ht[Je]=sr;else if(sr)switch(a){case 3:return!0;case 5:return Zr;case 6:return Je;case 2:tv(ht,Zr)}else switch(a){case 4:return!1;case 7:tv(ht,Zr)}return x?-1:v||y?y:ht}},Do={forEach:js(0),map:js(1),filter:js(2),some:js(3)},Va=Be,Ka=j,rv=ut,cE=we,Ya=gt,Xa=on,iv=B,Kt=Lt,xr=vt,Ja=Ne,Mo=Ie,nv=wo,Ub=$i,gi=Sr,cn=Cs,Qa=Ps,Cl=Ao,ov=Di,sv=El,zh=dt,jo=ni,av=Sh,Gb=Ft,qh=un,Cn=Zt,Ns=Pa,Al=Io,Rl=vl,Wh=oh,Hh=Dt,Uh=Sl,Gh=xt,uv=Tl,Vb=Ds,An=Ms,No=Do.forEach,Ir=Al("hidden"),kl="Symbol",$l="prototype",hE=An.set,Kb=An.getterFor(kl),Fi=Object[$l],eo=Ka.Symbol,Za=eo&&eo[$l],Vh=Ka.RangeError,dE=Ka.TypeError,lv=Ka.QObject,cv=zh.f,Fs=jo.f,Yb=ov.f,fE=Gb.f,hv=cE([].push),Pr=Ns("symbols"),eu=Ns("op-symbols"),dv=Ns("wks"),fv=!lv||!lv[$l]||!lv[$l].findChild,Fo=function(a,h,p){var v=cv(Fi,h);v&&delete Fi[h],Fs(a,h,p),v&&a!==Fi&&Fs(Fi,h,v)},Dl=Ya&&iv(function(){return cn(Fs({},"a",{get:function(){return Fs(this,"a",{value:7}).a}})).a!==7})?Fo:Fs,Kh=function(a,h){var p=Pr[a]=cn(Za);return hE(p,{type:kl,tag:a,description:h}),Ya||(p.description=h),p},tu=function(h,p,v){h===Fi&&tu(eu,p,v),Ja(h);var y=nv(p);return Ja(v),Kt(Pr,y)?(v.enumerable?(Kt(h,Ir)&&h[Ir][y]&&(h[Ir][y]=!1),v=cn(v,{enumerable:gi(0,!1)})):(Kt(h,Ir)||Fs(h,Ir,gi(1,{})),h[Ir][y]=!0),Dl(h,y,v)):Fs(h,y,v)},pv=function(h,p){Ja(h);var v=Mo(p),y=Qa(v).concat(yv(v));return No(y,function(x){(!Ya||rv(vv,v,x))&&tu(h,x,v[x])}),h},ru=function(h,p){return p===void 0?cn(h):pv(cn(h),p)},vv=function(h){var p=nv(h),v=rv(fE,this,p);return this===Fi&&Kt(Pr,p)&&!Kt(eu,p)?!1:v||!Kt(this,p)||!Kt(Pr,p)||Kt(this,Ir)&&this[Ir][p]?v:!0},Yh=function(h,p){var v=Mo(h),y=nv(p);if(!(v===Fi&&Kt(Pr,y)&&!Kt(eu,y))){var x=cv(v,y);return x&&Kt(Pr,y)&&!(Kt(v,Ir)&&v[Ir][y])&&(x.enumerable=!0),x}},gv=function(h){var p=Yb(Mo(h)),v=[];return No(p,function(y){!Kt(Pr,y)&&!Kt(Rl,y)&&hv(v,y)}),v},yv=function(a){var h=a===Fi,p=Yb(h?eu:Mo(a)),v=[];return No(p,function(y){Kt(Pr,y)&&(!h||Kt(Fi,y))&&hv(v,Pr[y])}),v};Xa||(eo=function(){if(xr(Za,this))throw new dE("Symbol is not a constructor");var h=!arguments.length||arguments[0]===void 0?void 0:Ub(arguments[0]),p=Wh(h),v=function(y){var x=this===void 0?Ka:this;x===Fi&&rv(v,eu,y),Kt(x,Ir)&&Kt(x[Ir],p)&&(x[Ir][p]=!1);var R=gi(1,y);try{Dl(x,p,R)}catch(M){if(!(M instanceof Vh))throw M;Fo(x,p,R)}};return Ya&&fv&&Dl(Fi,p,{configurable:!0,set:v}),Kh(p,h)},Za=eo[$l],qh(Za,"toString",function(){return Kb(this).tag}),qh(eo,"withoutSetter",function(a){return Kh(Wh(a),a)}),Gb.f=vv,jo.f=tu,av.f=pv,zh.f=Yh,Cl.f=ov.f=gv,sv.f=yv,Uh.f=function(a){return Kh(Hh(a),a)},Ya&&Cn(Za,"description",{configurable:!0,get:function(){return Kb(this).description}})),Va({global:!0,wrap:!0,forced:!Xa,sham:!Xa},{Symbol:eo}),No(Qa(dv),function(a){Gh(a)}),Va({target:kl,stat:!0,forced:!Xa},{useSetter:function(){fv=!0},useSimple:function(){fv=!1}}),Va({target:"Object",stat:!0,forced:!Xa,sham:!Ya},{create:ru,defineProperty:tu,defineProperties:pv,getOwnPropertyDescriptor:Yh}),Va({target:"Object",stat:!0,forced:!Xa},{getOwnPropertyNames:gv}),uv(),Vb(eo,kl),Rl[Ir]=!0;var pE=on,Xb=pE&&!!Symbol.for&&!!Symbol.keyFor,Jb=Be,Rn=Ht,Xh=Lt,Ml=$i,Qb=Pa,vE=Xb,mv=Qb("string-to-symbol-registry"),gE=Qb("symbol-to-string-registry");Jb({target:"Symbol",stat:!0,forced:!vE},{for:function(a){var h=Ml(a);if(Xh(mv,h))return mv[h];var p=Rn("Symbol")(h);return mv[h]=p,gE[p]=h,p}});var bv=Be,Zb=Lt,Jh=ys,_v=ms,yE=Pa,e0=Xb,wv=yE("symbol-to-string-registry");bv({target:"Symbol",stat:!0,forced:!e0},{keyFor:function(h){if(!Jh(h))throw new TypeError(_v(h)+" is not a symbol");if(Zb(wv,h))return wv[h]}});var mE=we,jl=mE([].slice),bE=we,t0=wt,Ls=Ue,Ov=he,r0=$i,i0=bE([].push),iu=function(a){if(Ls(a))return a;if(t0(a)){for(var h=a.length,p=[],v=0;v<h;v++){var y=a[v];typeof y=="string"?i0(p,y):(typeof y=="number"||Ov(y)==="Number"||Ov(y)==="String")&&i0(p,r0(y))}var x=p.length,R=!0;return function(M,D){if(R)return R=!1,D;if(t0(this))return D;for(var L=0;L<x;L++)if(p[L]===M)return D}}},Ev=Be,n0=Ht,Sv=ne,_E=ut,Bs=we,o0=B,Tv=Ue,s0=ys,a0=jl,wE=iu,OE=on,xv=String,hn=n0("JSON","stringify"),Qh=Bs(/./.exec),Nl=Bs("".charAt),Zh=Bs("".charCodeAt),Iv=Bs("".replace),u0=Bs(1 .toString),ed=/[\uD800-\uDFFF]/g,td=/^[\uD800-\uDBFF]$/,l0=/^[\uDC00-\uDFFF]$/,nu=!OE||o0(function(){var a=n0("Symbol")("stringify detection");return hn([a])!=="[null]"||hn({a})!=="{}"||hn(Object(a))!=="{}"}),Fl=o0(function(){return hn("\uDF06\uD834")!=='"\\udf06\\ud834"'||hn("\uDEAD")!=='"\\udead"'}),EE=function(a,h){var p=a0(arguments),v=wE(h);if(!(!Tv(v)&&(a===void 0||s0(a))))return p[1]=function(y,x){if(Tv(v)&&(x=_E(v,this,xv(y),x)),!s0(x))return x},Sv(hn,null,p)},Pv=function(a,h,p){var v=Nl(p,h-1),y=Nl(p,h+1);return Qh(td,a)&&!Qh(l0,y)||Qh(l0,a)&&!Qh(td,v)?"\\u"+u0(Zh(a,0),16):a};hn&&Ev({target:"JSON",stat:!0,forced:nu||Fl},{stringify:function(h,p,v){var y=a0(arguments),x=Sv(nu?EE:hn,null,y);return Fl&&typeof x=="string"?Iv(x,ed,Pv):x}});var c0=Be,SE=on,rd=B,Cv=El,TE=Tr,xE=!SE||rd(function(){Cv.f(1)});c0({target:"Object",stat:!0,forced:xE},{getOwnPropertySymbols:function(h){var p=Cv.f;return p?p(TE(h)):[]}});var IE=xt;IE("asyncIterator");var PE=xt;PE("hasInstance");var CE=xt;CE("isConcatSpreadable");var AE=xt;AE("iterator");var h0=xt;h0("match");var d0=xt;d0("matchAll");var id=xt;id("replace");var Av=xt;Av("search");var Rv=xt;Rv("species");var f0=xt;f0("split");var nd=xt,kv=Tl;nd("toPrimitive"),kv();var $v=Ht,Ll=xt,p0=Ds;Ll("toStringTag"),p0($v("Symbol"),"Symbol");var RE=xt;RE("unscopables");var Bl=j,Dv=Ds;Dv(Bl.JSON,"JSON",!0);var kE=lt,Mv=kE.Symbol,zs={},od=gt,sd=Lt,jv=Function.prototype,$E=od&&Object.getOwnPropertyDescriptor,zl=sd(jv,"name"),v0=zl&&(function(){}).name==="something";zl&&(!od||od&&$E(jv,"name").configurable);var g0={PROPER:v0},DE=B,Nv=!DE(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),ad=Lt,Fv=Ue,Lv=Tr,Bv=Io,ud=Nv,ql=Bv("IE_PROTO"),Lo=Object,zv=Lo.prototype,Wl=ud?Lo.getPrototypeOf:function(a){var h=Lv(a);if(ad(h,ql))return h[ql];var p=h.constructor;return Fv(p)&&h instanceof p?p.prototype:h instanceof Lo?zv:null},ME=B,jE=Ue,y0=Jt,m0=Cs,b0=Wl,NE=un,FE=Dt,qv=FE("iterator"),Wv=!1,to,ou,ld;[].keys&&(ld=[].keys(),"next"in ld?(ou=b0(b0(ld)),ou!==Object.prototype&&(to=ou)):Wv=!0);var LE=!y0(to)||ME(function(){var a={};return to[qv].call(a)!==a});LE?to={}:to=m0(to),jE(to[qv])||NE(to,qv,function(){return this});var _0={IteratorPrototype:to,BUGGY_SAFARI_ITERATORS:Wv},w0=_0.IteratorPrototype,cd=Cs,BE=Sr,Nr=Ds,zE=zs,O0=function(){return this},E0=function(a,h,p,v){var y=h+" Iterator";return a.prototype=cd(w0,{next:BE(+!v,p)}),Nr(a,y,!1,!0),zE[y]=O0,a},qs=we,Li=ri,S0=function(a,h,p){try{return qs(Li(Object.getOwnPropertyDescriptor(a,h)[p]))}catch{}},zt=Ue,qE=String,WE=TypeError,T0=function(a){if(typeof a=="object"||zt(a))return a;throw new WE("Can't set "+qE(a)+" as a prototype")},HE=S0,hd=Ne,UE=T0,Ws=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,h={},p;try{p=HE(Object.prototype,"__proto__","set"),p(h,[]),a=h instanceof Array}catch{}return function(y,x){return hd(y),UE(x),a?p(y,x):y.__proto__=x,y}}():void 0),Hv=Be,Uv=ut,jt=g0,GE=E0,x0=Wl,Cr=Ds,Hl=un,VE=Dt,Hs=zs,Gv=_0,Vv=jt.PROPER,kn=Gv.BUGGY_SAFARI_ITERATORS,Kv=VE("iterator"),I0="keys",dd="values",P0="entries",Yv=function(){return this},Xv=function(a,h,p,v,y,x,R){GE(p,h,v);var M=function(at){if(at===y&&H)return H;if(!kn&&at&&at in q)return q[at];switch(at){case I0:return function(){return new p(this,at)};case dd:return function(){return new p(this,at)};case P0:return function(){return new p(this,at)}}return function(){return new p(this)}},D=h+" Iterator",L=!1,q=a.prototype,G=q[Kv]||q["@@iterator"]||y&&q[y],H=!kn&&G||M(y),X=h==="Array"&&q.entries||G,Ce,Ye,Je;if(X&&(Ce=x0(X.call(new a)),Ce!==Object.prototype&&Ce.next&&(Cr(Ce,D,!0,!0),Hs[D]=Yv)),Vv&&y===dd&&G&&G.name!==dd&&(L=!0,H=function(){return Uv(G,this)}),y)if(Ye={values:M(dd),keys:x?H:M(I0),entries:M(P0)},R)for(Je in Ye)(kn||L||!(Je in q))&&Hl(q,Je,Ye[Je]);else Hv({target:h,proto:!0,forced:kn||L},Ye);return R&&q[Kv]!==H&&Hl(q,Kv,H,{}),Hs[h]=H,Ye},Jv=function(a,h){return{value:a,done:h}},Et=Ie,Ul=zs,su=Ms;ni.f;var KE=Xv,Gl=Jv,C0="Array Iterator",YE=su.set,Qv=su.getterFor(C0);KE(Array,"Array",function(a,h){YE(this,{type:C0,target:Et(a),index:0,kind:h})},function(){var a=Qv(this),h=a.target,p=a.index++;if(!h||p>=h.length)return a.target=void 0,Gl(void 0,!0);switch(a.kind){case"keys":return Gl(p,!1);case"values":return Gl(h[p],!1)}return Gl([p,h[p]],!1)},"values"),Ul.Arguments=Ul.Array;var fd={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},XE=fd,Us=j,JE=Jn,QE=ki,pd=zs,cr=Dt,A0=cr("toStringTag");for(var vd in XE){var R0=Us[vd],gd=R0&&R0.prototype;gd&&JE(gd)!==A0&&QE(gd,A0,vd),pd[vd]=pd.Array}var Zv=Mv,oi=Zv,ZE=Dt,eS=ni.f,k0=ZE("metadata"),$0=Function.prototype;$0[k0]===void 0&&eS($0,k0,{value:null});var D0=xt;D0("asyncDispose");var tS=xt;tS("dispose");var rS=xt;rS("metadata");var eg=oi,iS=eg,nS=Ht,oS=we,tg=nS("Symbol"),sS=tg.keyFor,rg=oS(tg.prototype.valueOf),yd=tg.isRegisteredSymbol||function(h){try{return sS(rg(h))!==void 0}catch{return!1}},aS=Be,ro=yd;aS({target:"Symbol",stat:!0},{isRegisteredSymbol:ro});for(var uS=Pa,ig=Ht,lS=we,M0=ys,cS=Dt,md=ig("Symbol"),j0=md.isWellKnownSymbol,N0=ig("Object","getOwnPropertyNames"),hS=lS(md.prototype.valueOf),ng=uS("wks"),og=0,bd=N0(md),dS=bd.length;og<dS;og++)try{var F0=bd[og];M0(md[F0])&&cS(F0)}catch{}var L0=function(h){if(j0&&j0(h))return!0;try{for(var p=hS(h),v=0,y=N0(ng),x=y.length;v<x;v++)if(ng[y[v]]==p)return!0}catch{}return!1},Vl=Be,fS=L0;Vl({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fS});var pS=xt;pS("matcher");var sg=xt;sg("observable");var ag=Be,vS=yd;ag({target:"Symbol",stat:!0},{isRegistered:vS});var Bo=Be,ug=L0;Bo({target:"Symbol",stat:!0,forced:!0},{isWellKnown:ug});var B0=xt;B0("metadataKey");var gS=xt;gS("patternMatch");var z0=xt;z0("replaceAll");var yS=iS,mS=yS,lg=mS,zo=T(lg),_d=we,bS=yh,_S=$i,q0=Le,W0=_d("".charAt),cg=_d("".charCodeAt),hg=_d("".slice),H0=function(a){return function(h,p){var v=_S(q0(h)),y=bS(p),x=v.length,R,M;return y<0||y>=x?a?"":void 0:(R=cg(v,y),R<55296||R>56319||y+1===x||(M=cg(v,y+1))<56320||M>57343?a?W0(v,y):R:a?hg(v,y,y+2):(R-55296<<10)+(M-56320)+65536)}},Fr={charAt:H0(!0)},U0=Fr.charAt,G0=$i,au=Ms,V0=Xv,dg=Jv,Kl="String Iterator",fg=au.set,K0=au.getterFor(Kl);V0(String,"String",function(a){fg(this,{type:Kl,string:G0(a),index:0})},function(){var h=K0(this),p=h.string,v=h.index,y;return v>=p.length?dg(void 0,!0):(y=U0(p,v),h.index+=y.length,dg(y,!1))});var wS=Sl,OS=wS.f("iterator"),ES=OS,Y0=ES,wd=Y0,SS=wd,TS=SS,pg=TS,vg=pg,xS=T(vg);function uu(a){"@babel/helpers - typeof";return uu=typeof zo=="function"&&typeof xS=="symbol"?function(h){return typeof h}:function(h){return h&&typeof zo=="function"&&h.constructor===zo&&h!==zo.prototype?"symbol":typeof h},uu(a)}var IS=Sl,Od=IS.f("toPrimitive"),gg=Od,PS=gg,CS=PS,X0=CS,AS=X0,J0=AS,lu=J0,Q0=T(lu);function Z0(a,h){if(uu(a)!=="object"||a===null)return a;var p=a[Q0];if(p!==void 0){var v=p.call(a,h);if(uu(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(a)}function yg(a){var h=Z0(a,"string");return uu(h)==="symbol"?h:String(h)}function e_(a,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),vh(a,yg(v.key),v)}}function qo(a,h,p){return h&&e_(a.prototype,h),p&&e_(a,p),vh(a,"prototype",{writable:!1}),a}function qt(a,h,p){return h=yg(h),h in a?vh(a,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):a[h]=p,a}var t_=we,mg=ri,RS=Jt,bg=Lt,_g=jl,kS=K,Ed=Function,r_=t_([].concat),Sd=t_([].join),wg={},mt=function(a,h,p){if(!bg(wg,h)){for(var v=[],y=0;y<h;y++)v[y]="a["+y+"]";wg[h]=Ed("C,a","return new C("+Sd(v,",")+")")}return wg[h](a,p)},Td=kS?Ed.bind:function(h){var p=mg(this),v=p.prototype,y=_g(arguments,1),x=function(){var M=r_(y,_g(arguments));return this instanceof x?mt(p,M.length,M):p.apply(h,M)};return RS(v)&&(x.prototype=v),x},Wo=Be,yr=Td;Wo({target:"Function",proto:!0,forced:Function.bind!==yr},{bind:yr});var Lr=j,Yl=lt,er=function(a,h){var p=Yl[a+"Prototype"],v=p&&p[h];if(v)return v;var y=Lr[a],x=y&&y.prototype;return x&&x[h]},$S=er,DS=$S("Function","bind"),xd=vt,Id=DS,Gs=Function.prototype,MS=function(a){var h=a.bind;return a===Gs||xd(Gs,a)&&h===Gs.bind?Id:h},jS=MS,i_=jS,NS=i_,Vs=T(NS),Og=ri,Eg=Tr,Br=fe,n_=fi,Sg=TypeError,Tg=function(a){return function(h,p,v,y){Og(p);var x=Eg(h),R=Br(x),M=n_(x),D=a?M-1:0,L=a?-1:1;if(v<2)for(;;){if(D in R){y=R[D],D+=L;break}if(D+=L,a?D<0:M<=D)throw new Sg("Reduce of empty array with no initial value")}for(;a?D>=0:M>D;D+=L)D in R&&(y=p(y,R[D],D,x));return y}},o_={left:Tg(!1)},xg=B,Bi=function(a,h){var p=[][a];return!!p&&xg(function(){p.call(null,h||function(){return 1},1)})},FS=j,s_=he,Xl=s_(FS.process)==="process",LS=Be,Pd=o_.left,BS=Bi,Ig=Ta,Ho=Xl,Pg=!Ho&&Ig>79&&Ig<83,zS=Pg||!BS("reduce");LS({target:"Array",proto:!0,forced:zS},{reduce:function(h){var p=arguments.length;return Pd(this,h,p,p>1?arguments[1]:void 0)}});var Jl=er,zi=Jl("Array","reduce"),qi=vt,Cd=zi,$n=Array.prototype,io=function(a){var h=a.reduce;return a===$n||qi($n,a)&&h===$n.reduce?Cd:h},Cg=io,qS=Cg,Ks=qS,Uo=T(Ks),Ad=Be,Rd=Do.filter,a_=Zn,u_=a_("filter");Ad({target:"Array",proto:!0,forced:!u_},{filter:function(h){return Rd(this,h,arguments.length>1?arguments[1]:void 0)}});var l_=er,c_=l_("Array","filter"),Ag=vt,Ys=c_,Xs=Array.prototype,Ql=function(a){var h=a.filter;return a===Xs||Ag(Xs,a)&&h===Xs.filter?Ys:h},cu=Ql,h_=cu,WS=h_,hr=T(WS),Zl=Be,Rg=Do.map,HS=Zn,mr=HS("map");Zl({target:"Array",proto:!0,forced:!mr},{map:function(h){return Rg(this,h,arguments.length>1?arguments[1]:void 0)}});var Yt=er,zr=Yt("Array","map"),kd=vt,ec=zr,Js=Array.prototype,Qs=function(a){var h=a.map;return a===Js||kd(Js,a)&&h===Js.map?ec:h},hu=Qs,Dn=hu,Zs=Dn,si=T(Zs),ea=wt,tc=fi,no=La,$d=Oo,oo=function(a,h,p,v,y,x,R,M){for(var D=y,L=0,q=R?$d(R,M):!1,G,H;L<v;)L in p&&(G=q?q(p[L],L,h):p[L],x>0&&ea(G)?(H=tc(G),D=oo(a,h,G,H,D,x-1)-1):(no(D+1),a[D]=G),D++),L++;return D},kg=oo,$g=Be,Dg=kg,d_=ri,Dd=Tr,Mg=fi,jg=qa;$g({target:"Array",proto:!0},{flatMap:function(h){var p=Dd(this),v=Mg(p),y;return d_(h),y=jg(p,0),y.length=Dg(y,p,p,v,0,1,h,arguments.length>1?arguments[1]:void 0),y}});var f_=er,Ng=f_("Array","flatMap"),US=vt,rc=Ng,ta=Array.prototype,ic=function(a){var h=a.flatMap;return a===ta||US(ta,a)&&h===ta.flatMap?rc:h},p_=ic,ra=p_,Go=ra,GS=T(Go);function VS(a){return new g_(a)}var v_=function(){function a(h,p,v){var y,x,R;O(this,a),qt(this,"_listeners",{add:Vs(y=this._add).call(y,this),remove:Vs(x=this._remove).call(x,this),update:Vs(R=this._update).call(R,this)}),this._source=h,this._transformers=p,this._target=v}return qo(a,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(p){var v;return Uo(v=this._transformers).call(v,function(y,x){return x(y)},p)}},{key:"_add",value:function(p,v){v!=null&&this._target.add(this._transformItems(this._source.get(v.items)))}},{key:"_update",value:function(p,v){v!=null&&this._target.update(this._transformItems(this._source.get(v.items)))}},{key:"_remove",value:function(p,v){v!=null&&this._target.remove(this._transformItems(v.oldData))}}]),a}(),g_=function(){function a(h){O(this,a),qt(this,"_transformers",[]),this._source=h}return qo(a,[{key:"filter",value:function(p){return this._transformers.push(function(v){return hr(v).call(v,p)}),this}},{key:"map",value:function(p){return this._transformers.push(function(v){return si(v).call(v,p)}),this}},{key:"flatMap",value:function(p){return this._transformers.push(function(v){return GS(v).call(v,p)}),this}},{key:"to",value:function(p){return new v_(this._source,this._transformers,p)}}]),a}(),y_=ut,du=Ne,Fg=Ia,m_=function(a,h,p){var v,y;du(a);try{if(v=Fg(a,"return"),!v){if(h==="throw")throw p;return p}v=y_(v,a)}catch(x){y=!0,v=x}if(h==="throw")throw p;if(y)throw v;return du(v),p},Md=Ne,KS=m_,b_=function(a,h,p,v){try{return v?h(Md(p)[0],p[1]):h(p)}catch(y){KS(a,"throw",y)}},jd=Dt,YS=zs,Lg=jd("iterator"),__=Array.prototype,w_=function(a){return a!==void 0&&(YS.Array===a||__[Lg]===a)},Bg=Jn,Vo=Ia,Ko=ve,dn=zs,qr=Dt,nc=qr("iterator"),Wr=function(a){if(!Ko(a))return Vo(a,nc)||Vo(a,"@@iterator")||dn[Bg(a)]},so=ut,ia=ri,O_=Ne,Yo=ms,Xo=Wr,Nd=TypeError,na=function(a,h){var p=arguments.length<2?Xo(a):h;if(ia(p))return O_(so(p,a));throw new Nd(Yo(a)+" is not iterable")},zg=Oo,qg=ut,Wg=Tr,Hg=b_,Fd=w_,oa=_h,oc=fi,fu=Ba,sc=na,Ug=Wr,E_=Array,XS=function(h){var p=Wg(h),v=oa(this),y=arguments.length,x=y>1?arguments[1]:void 0,R=x!==void 0;R&&(x=zg(x,y>2?arguments[2]:void 0));var M=Ug(p),D=0,L,q,G,H,X,Ce;if(M&&!(this===E_&&Fd(M)))for(H=sc(p,M),X=H.next,q=v?new this:[];!(G=qg(X,H)).done;D++)Ce=R?Hg(H,x,[G.value,D],!0):G.value,fu(q,D,Ce);else for(L=oc(p),q=v?new this(L):E_(L);L>D;D++)Ce=R?x(p[D],D):p[D],fu(q,D,Ce);return q.length=D,q},pu=Dt,ac=pu("iterator"),S_=!1;try{var dr=0,Nt={next:function(){return{done:!!dr++}},return:function(){S_=!0}};Nt[ac]=function(){return this},Array.from(Nt,function(){throw 2})}catch{}var At=function(a,h){try{if(!h&&!S_)return!1}catch{return!1}var p=!1;try{var v={};v[ac]=function(){return{next:function(){return{done:p=!0}}}},a(v)}catch{}return p},Ld=Be,uc=XS,lc=At,cc=!lc(function(a){Array.from(a)});Ld({target:"Array",stat:!0,forced:cc},{from:uc});var yi=lt,Hr=yi.Array.from,Jo=Hr,ao=Jo,Gg=ao,Wi=T(Gg),Hi=Wr,bt=Hi,Mn=bt,T_=Mn,nt=T_,Bd=nt,mi=Bd,hc=mi,vu=hc,sa=T(vu),dc=vu,gu=T(dc),x_=Be,yu=wt;x_({target:"Array",stat:!0},{isArray:yu});var Ui=lt,Ar=Ui.Array.isArray,I_=Ar,ai=I_,aa=ai,JS=aa,Vg=JS,Kg=Vg,mu=Kg,fc=T(mu);function pc(a){if(fc(a))return a}var Yg=gt,bu=wt,Xg=TypeError,P_=Object.getOwnPropertyDescriptor,QS=Yg&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}(),vc=QS?function(a,h){if(bu(a)&&!P_(a,"length").writable)throw new Xg("Cannot set read only .length");return a.length=h}:function(a,h){return a.length=h},C_=Be,zd=Tr,Ur=fi,A_=vc,uo=La,fn=B,Qe=fn(function(){return[].push.call({length:4294967296},1)!==4294967297}),Ge=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(a){return a instanceof TypeError}},br=Qe||!Ge();C_({target:"Array",proto:!0,forced:br},{push:function(h){var p=zd(this),v=Ur(p),y=arguments.length;uo(v+y);for(var x=0;x<y;x++)p[v]=arguments[x],v++;return A_(p,v),v}});var nr=er,jn=nr("Array","push"),qd=vt,bi=jn,Wd=Array.prototype,Hd=function(a){var h=a.push;return a===Wd||qd(Wd,a)&&h===Wd.push?bi:h},R_=Hd,Jg=R_,St=Jg,Qg=St,k_=Qg,Zg=k_,Ud=Zg,_u=T(Ud);function Gr(a,h){var p=a==null?null:typeof zo<"u"&&sa(a)||a["@@iterator"];if(p!=null){var v,y,x,R,M=[],D=!0,L=!1;try{if(x=(p=p.call(a)).next,h===0){if(Object(p)!==p)return;D=!1}else for(;!(D=(v=x.call(p)).done)&&(_u(M).call(M,v.value),M.length!==h);D=!0);}catch(q){L=!0,y=q}finally{try{if(!D&&p.return!=null&&(R=p.return(),Object(R)!==R))return}finally{if(L)throw y}}return M}}var $_=Be,ey=wt,ty=_h,Gd=Jt,D_=Th,ry=fi,M_=Ie,ZS=Ba,j_=Dt,iy=Zn,Vd=jl,N_=iy("slice"),Kd=j_("species"),Yd=Array,F_=Math.max;$_({target:"Array",proto:!0,forced:!N_},{slice:function(h,p){var v=M_(this),y=ry(v),x=D_(h,y),R=D_(p===void 0?y:p,y),M,D,L;if(ey(v)&&(M=v.constructor,ty(M)&&(M===Yd||ey(M.prototype))?M=void 0:Gd(M)&&(M=M[Kd],M===null&&(M=void 0)),M===Yd||M===void 0))return Vd(v,x,R);for(D=new(M===void 0?Yd:M)(F_(R-x,0)),L=0;x<R;x++,L++)x in v&&ZS(D,L,v[x]);return D.length=L,D}});var L_=er,Gi=L_("Array","slice"),eT=vt,B_=Gi,ny=Array.prototype,z_=function(a){var h=a.slice;return a===ny||eT(ny,a)&&h===ny.slice?B_:h},tT=z_,Xd=tT,oy=Xd,q_=oy,W_=q_,H_=W_,Jd=H_,U_=T(Jd),Qd=ao,lo=Qd,rT=lo,Zd=rT,G_=Zd,wu=T(G_);function Nn(a,h){(h==null||h>a.length)&&(h=a.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=a[p];return v}function sy(a,h){var p;if(a){if(typeof a=="string")return Nn(a,h);var v=U_(p=Object.prototype.toString.call(a)).call(p,8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return wu(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return Nn(a,h)}}function V_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ui(a,h){return pc(a)||Gr(a,h)||sy(a,h)||V_()}function K_(a){if(fc(a))return Nn(a)}function iT(a){if(typeof zo<"u"&&sa(a)!=null||a["@@iterator"]!=null)return wu(a)}function Y_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rr(a){return K_(a)||iT(a)||sy(a)||Y_()}var ay=oi,gc=T(ay),X_=er,nT=X_("Array","concat"),oT=vt,sT=nT,uy=Array.prototype,J_=function(a){var h=a.concat;return a===uy||oT(uy,a)&&h===uy.concat?sT:h},ly=J_,aT=ly,uT=aT,yc=T(uT),Q_=Xd,mc=T(Q_),lT=Ht,Z_=we,Ou=Ao,ew=El,cT=Ne,cy=Z_([].concat),bc=lT("Reflect","ownKeys")||function(h){var p=Ou.f(cT(h)),v=ew.f;return v?cy(p,v(h)):p},_c=Be,ef=bc;_c({target:"Reflect",stat:!0},{ownKeys:ef});var tf=lt,tw=tf.Reflect.ownKeys,rw=tw,rf=rw,Eu=rf,hy=T(Eu),iw=ai,Vr=T(iw),hT=Be,nw=Tr,ow=Ps,dT=B,fT=dT(function(){ow(1)});hT({target:"Object",stat:!0,forced:fT},{keys:function(h){return ow(nw(h))}});var pT=lt,vT=pT.Object.keys,sw=vT,gT=sw,yT=gT,nf=T(yT),mT=Do.forEach,dy=Bi,bT=dy("forEach"),fy=bT?[].forEach:function(h){return mT(this,h,arguments.length>1?arguments[1]:void 0)},_T=Be,aw=fy;_T({target:"Array",proto:!0,forced:[].forEach!==aw},{forEach:aw});var uw=er,lw=uw("Array","forEach"),wT=lw,OT=wT,cw=Jn,ET=Lt,ST=vt,hw=OT,py=Array.prototype,TT={DOMTokenList:!0,NodeList:!0},of=function(a){var h=a.forEach;return a===py||ST(py,a)&&h===py.forEach||ET(TT,cw(a))?hw:h},xT=of,Kr=T(xT),vy=Be,Qo=we,gy=wt,dw=Qo([].reverse),sf=[1,2];vy({target:"Array",proto:!0,forced:String(sf)===String(sf.reverse())},{reverse:function(){return gy(this)&&(this.length=this.length),dw(this)}});var IT=er,af=IT("Array","reverse"),PT=vt,fw=af,Su=Array.prototype,yy=function(a){var h=a.reverse;return a===Su||PT(Su,a)&&h===Su.reverse?fw:h},CT=yy,pw=CT,AT=pw,vw=T(AT),gw=ms,wc=TypeError,my=function(a,h){if(!delete a[h])throw new wc("Cannot delete property "+gw(h)+" of "+gw(a))},Tu=Be,by=Tr,ua=Th,xu=yh,uf=fi,_y=vc,RT=La,la=qa,kT=Ba,lf=my,yw=Zn,$T=yw("splice"),wy=Math.max,Oy=Math.min;Tu({target:"Array",proto:!0,forced:!$T},{splice:function(h,p){var v=by(this),y=uf(v),x=ua(h,y),R=arguments.length,M,D,L,q,G,H;for(R===0?M=D=0:R===1?(M=0,D=y-x):(M=R-2,D=Oy(wy(xu(p),0),y-x)),RT(y+M-D),L=la(v,D),q=0;q<D;q++)G=x+q,G in v&&kT(L,q,v[G]);if(L.length=D,M<D){for(q=x;q<y-D;q++)G=q+D,H=q+M,G in v?v[H]=v[G]:lf(v,H);for(q=y;q>y-D+M;q--)lf(v,q-1)}else if(M>D)for(q=y-D;q>x;q--)G=q+D-1,H=q+M-1,G in v?v[H]=v[G]:lf(v,H);for(q=0;q<M;q++)v[q+x]=arguments[q+2];return _y(v,y-D+M),L}});var mw=er,bw=mw("Array","splice"),DT=vt,MT=bw,Oc=Array.prototype,Ey=function(a){var h=a.splice;return a===Oc||DT(Oc,a)&&h===Oc.splice?MT:h},_i=Ey,_w=_i,jT=_w,Sy=T(jT),ww=gt,Ty=we,xy=ut,NT=B,cf=Ps,Iy=El,FT=Ft,LT=Tr,hf=fe,ca=Object.assign,Py=Object.defineProperty,Cy=Ty([].concat),BT=!ca||NT(function(){if(ww&&ca({b:1},ca(Py({},"a",{enumerable:!0,get:function(){Py(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},h={},p=Symbol("assign detection"),v="abcdefghijklmnopqrst";return a[p]=7,v.split("").forEach(function(y){h[y]=y}),ca({},a)[p]!==7||cf(ca({},h)).join("")!==v})?function(h,p){for(var v=LT(h),y=arguments.length,x=1,R=Iy.f,M=FT.f;y>x;)for(var D=hf(arguments[x++]),L=R?Cy(cf(D),R(D)):cf(D),q=L.length,G=0,H;q>G;)H=L[G++],(!ww||xy(M,D,H))&&(v[H]=D[H]);return v}:ca,Ow=Be,Ec=BT;Ow({target:"Object",stat:!0,forced:Object.assign!==Ec},{assign:Ec});var df=lt,Iu=df.Object.assign,Ew=Iu,ff=Ew,Sc=ff,pf=T(Sc),Sw=Be,Ay=B,Ry=Tr,Fn=Wl,ky=Nv,ha=Ay(function(){Fn(1)});Sw({target:"Object",stat:!0,forced:ha,sham:!ky},{getPrototypeOf:function(h){return Fn(Ry(h))}});var $y=lt,Tw=$y.Object.getPrototypeOf,Tc=Tw,xw=Tc,zT=Be,da=gt,Iw=Cs;zT({target:"Object",stat:!0,sham:!da},{create:Iw});var qT=lt,Dy=qT.Object,vf=function(h,p){return Dy.create(h,p)},Pw=vf,My=Pw,Cw=My,gf=T(Cw),yf=lt,Aw=ne;yf.JSON||(yf.JSON={stringify:JSON.stringify});var Rw=function(h,p,v){return Aw(yf.JSON.stringify,null,arguments)},mf=Rw,kw=mf,jy=kw,pn=T(jy),xc=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",WT=TypeError,fa=function(a,h){if(a<h)throw new WT("Not enough arguments");return a},Zo=j,Ny=ne,$w=Ue,Dw=xc,Ic=wn,es=jl,HT=fa,UT=Zo.Function,GT=/MSIE .\./.test(Ic)||Dw&&function(){var a=Zo.Bun.version.split(".");return a.length<3||a[0]==="0"&&(a[1]<3||a[1]==="3"&&a[2]==="0")}(),Mw=function(a,h){var p=h?2:1;return GT?function(v,y){var x=HT(arguments.length,1)>p,R=$w(v)?v:UT(v),M=x?es(arguments,p):[],D=x?function(){Ny(R,this,M)}:R;return h?a(D,y):a(D)}:a},ts=Be,Pc=j,jw=Mw,Nw=jw(Pc.setInterval,!0);ts({global:!0,bind:!0,forced:Pc.setInterval!==Nw},{setInterval:Nw});var Fy=Be,Ly=j,Cc=Mw,li=Cc(Ly.setTimeout,!0);Fy({global:!0,bind:!0,forced:Ly.setTimeout!==li},{setTimeout:li});var Ac=lt,By=Ac.setTimeout,zy=By,Pu=T(zy),bf={exports:{}};(function(a){function h(v){if(v)return p(v);this._callbacks=new Map}function p(v){return Object.assign(v,h.prototype),v._callbacks=new Map,v}h.prototype.on=function(v,y){const x=this._callbacks.get(v)??[];return x.push(y),this._callbacks.set(v,x),this},h.prototype.once=function(v,y){const x=(...R)=>{this.off(v,x),y.apply(this,R)};return x.fn=y,this.on(v,x),this},h.prototype.off=function(v,y){if(v===void 0&&y===void 0)return this._callbacks.clear(),this;if(y===void 0)return this._callbacks.delete(v),this;const x=this._callbacks.get(v);if(x){for(const[R,M]of x.entries())if(M===y||M.fn===y){x.splice(R,1);break}x.length===0?this._callbacks.delete(v):this._callbacks.set(v,x)}return this},h.prototype.emit=function(v,...y){const x=this._callbacks.get(v);if(x){const R=[...x];for(const M of R)M.apply(this,y)}return this},h.prototype.listeners=function(v){return this._callbacks.get(v)??[]},h.prototype.listenerCount=function(v){if(v)return this.listeners(v).length;let y=0;for(const x of this._callbacks.values())y+=x.length;return y},h.prototype.hasListeners=function(v){return this.listenerCount(v)>0},h.prototype.addEventListener=h.prototype.on,h.prototype.removeListener=h.prototype.off,h.prototype.removeEventListener=h.prototype.off,h.prototype.removeAllListeners=h.prototype.off,a.exports=h})(bf);var VT=bf.exports,_f=T(VT);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function fr(){return fr=Object.assign||function(a){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(a[v]=p[v])}return a},fr.apply(this,arguments)}function kr(a,h){a.prototype=Object.create(h.prototype),a.prototype.constructor=a,a.__proto__=h}function wf(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var Rc;typeof Object.assign!="function"?Rc=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(h),v=1;v<arguments.length;v++){var y=arguments[v];if(y!=null)for(var x in y)y.hasOwnProperty(x)&&(p[x]=y[x])}return p}:Rc=Object.assign;var pa=Rc,Fw=["","webkit","Moz","MS","ms","o"],Of=typeof document>"u"?{style:{}}:document.createElement("div"),KT="function",Cu=Math.round,rs=Math.abs,Ef=Date.now;function Ln(a,h){for(var p,v,y=h[0].toUpperCase()+h.slice(1),x=0;x<Fw.length;){if(p=Fw[x],v=p?p+y:h,v in a)return v;x++}}var ci;typeof window>"u"?ci={}:ci=window;var is=Ln(Of.style,"touchAction"),Lw=is!==void 0;function Sf(){if(!Lw)return!1;var a={},h=ci.CSS&&ci.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(p){return a[p]=h?ci.CSS.supports("touch-action",p):!0}),a}var Tf="compute",qy="auto",vn="manipulation",gn="none",Au="pan-x",kc="pan-y",Ru=Sf(),YT=/mobile|tablet|ip(ad|hone|od)|android/i,Bw="ontouchstart"in ci,$c=Ln(ci,"PointerEvent")!==void 0,Wy=Bw&&YT.test(navigator.userAgent),ku="touch",Hy="pen",Dc="mouse",Uy="kinect",XT=25,Yr=1,ns=2,Wt=4,$r=8,Ot=1,$u=2,Mc=4,va=8,Du=16,Xr=$u|Mc,Vi=va|Du,Rt=Xr|Vi,jc=["x","y"],ga=["clientX","clientY"];function co(a,h,p){var v;if(a)if(a.forEach)a.forEach(h,p);else if(a.length!==void 0)for(v=0;v<a.length;)h.call(p,a[v],v,a),v++;else for(v in a)a.hasOwnProperty(v)&&h.call(p,a[v],v,a)}function xf(a,h){return typeof a===KT?a.apply(h&&h[0]||void 0,h):a}function ya(a,h){return a.indexOf(h)>-1}function JT(a){if(ya(a,gn))return gn;var h=ya(a,Au),p=ya(a,kc);return h&&p?gn:h||p?h?Au:kc:ya(a,vn)?vn:qy}var zw=function(){function a(p,v){this.manager=p,this.set(v)}var h=a.prototype;return h.set=function(v){v===Tf&&(v=this.compute()),Lw&&this.manager.element.style&&Ru[v]&&(this.manager.element.style[is]=v),this.actions=v.toLowerCase().trim()},h.update=function(){this.set(this.manager.options.touchAction)},h.compute=function(){var v=[];return co(this.manager.recognizers,function(y){xf(y.options.enable,[y])&&(v=v.concat(y.getTouchAction()))}),JT(v.join(" "))},h.preventDefaults=function(v){var y=v.srcEvent,x=v.offsetDirection;if(this.manager.session.prevented){y.preventDefault();return}var R=this.actions,M=ya(R,gn)&&!Ru[gn],D=ya(R,kc)&&!Ru[kc],L=ya(R,Au)&&!Ru[Au];if(M){var q=v.pointers.length===1,G=v.distance<2,H=v.deltaTime<250;if(q&&G&&H)return}if(!(L&&D)&&(M||D&&x&Xr||L&&x&Vi))return this.preventSrc(y)},h.preventSrc=function(v){this.manager.session.prevented=!0,v.preventDefault()},a}();function Gy(a,h){for(;a;){if(a===h)return!0;a=a.parentNode}return!1}function qw(a){var h=a.length;if(h===1)return{x:Cu(a[0].clientX),y:Cu(a[0].clientY)};for(var p=0,v=0,y=0;y<h;)p+=a[y].clientX,v+=a[y].clientY,y++;return{x:Cu(p/h),y:Cu(v/h)}}function Ww(a){for(var h=[],p=0;p<a.pointers.length;)h[p]={clientX:Cu(a.pointers[p].clientX),clientY:Cu(a.pointers[p].clientY)},p++;return{timeStamp:Ef(),pointers:h,center:qw(h),deltaX:a.deltaX,deltaY:a.deltaY}}function If(a,h,p){p||(p=jc);var v=h[p[0]]-a[p[0]],y=h[p[1]]-a[p[1]];return Math.sqrt(v*v+y*y)}function Vy(a,h,p){p||(p=jc);var v=h[p[0]]-a[p[0]],y=h[p[1]]-a[p[1]];return Math.atan2(y,v)*180/Math.PI}function Hw(a,h){return a===h?Ot:rs(a)>=rs(h)?a<0?$u:Mc:h<0?va:Du}function Uw(a,h){var p=h.center,v=a.offsetDelta||{},y=a.prevDelta||{},x=a.prevInput||{};(h.eventType===Yr||x.eventType===Wt)&&(y=a.prevDelta={x:x.deltaX||0,y:x.deltaY||0},v=a.offsetDelta={x:p.x,y:p.y}),h.deltaX=y.x+(p.x-v.x),h.deltaY=y.y+(p.y-v.y)}function Ky(a,h,p){return{x:h/a||0,y:p/a||0}}function Gw(a,h){return If(h[0],h[1],ga)/If(a[0],a[1],ga)}function Vw(a,h){return Vy(h[1],h[0],ga)+Vy(a[1],a[0],ga)}function Kw(a,h){var p=a.lastInterval||h,v=h.timeStamp-p.timeStamp,y,x,R,M;if(h.eventType!==$r&&(v>XT||p.velocity===void 0)){var D=h.deltaX-p.deltaX,L=h.deltaY-p.deltaY,q=Ky(v,D,L);x=q.x,R=q.y,y=rs(q.x)>rs(q.y)?q.x:q.y,M=Hw(D,L),a.lastInterval=h}else y=p.velocity,x=p.velocityX,R=p.velocityY,M=p.direction;h.velocity=y,h.velocityX=x,h.velocityY=R,h.direction=M}function Yw(a,h){var p=a.session,v=h.pointers,y=v.length;p.firstInput||(p.firstInput=Ww(h)),y>1&&!p.firstMultiple?p.firstMultiple=Ww(h):y===1&&(p.firstMultiple=!1);var x=p.firstInput,R=p.firstMultiple,M=R?R.center:x.center,D=h.center=qw(v);h.timeStamp=Ef(),h.deltaTime=h.timeStamp-x.timeStamp,h.angle=Vy(M,D),h.distance=If(M,D),Uw(p,h),h.offsetDirection=Hw(h.deltaX,h.deltaY);var L=Ky(h.deltaTime,h.deltaX,h.deltaY);h.overallVelocityX=L.x,h.overallVelocityY=L.y,h.overallVelocity=rs(L.x)>rs(L.y)?L.x:L.y,h.scale=R?Gw(R.pointers,v):1,h.rotation=R?Vw(R.pointers,v):0,h.maxPointers=p.prevInput?h.pointers.length>p.prevInput.maxPointers?h.pointers.length:p.prevInput.maxPointers:h.pointers.length,Kw(p,h);var q=a.element,G=h.srcEvent,H;G.composedPath?H=G.composedPath()[0]:G.path?H=G.path[0]:H=G.target,Gy(H,q)&&(q=H),h.target=q}function Pf(a,h,p){var v=p.pointers.length,y=p.changedPointers.length,x=h&Yr&&v-y===0,R=h&(Wt|$r)&&v-y===0;p.isFirst=!!x,p.isFinal=!!R,x&&(a.session={}),p.eventType=h,Yw(a,p),a.emit("hammer.input",p),a.recognize(p),a.session.prevInput=p}function Mu(a){return a.trim().split(/\s+/g)}function ju(a,h,p){co(Mu(h),function(v){a.addEventListener(v,p,!1)})}function Nc(a,h,p){co(Mu(h),function(v){a.removeEventListener(v,p,!1)})}function Yy(a){var h=a.ownerDocument||a;return h.defaultView||h.parentWindow||window}var ma=function(){function a(p,v){var y=this;this.manager=p,this.callback=v,this.element=p.element,this.target=p.options.inputTarget,this.domHandler=function(x){xf(p.options.enable,[p])&&y.handler(x)},this.init()}var h=a.prototype;return h.handler=function(){},h.init=function(){this.evEl&&ju(this.element,this.evEl,this.domHandler),this.evTarget&&ju(this.target,this.evTarget,this.domHandler),this.evWin&&ju(Yy(this.element),this.evWin,this.domHandler)},h.destroy=function(){this.evEl&&Nc(this.element,this.evEl,this.domHandler),this.evTarget&&Nc(this.target,this.evTarget,this.domHandler),this.evWin&&Nc(Yy(this.element),this.evWin,this.domHandler)},a}();function hi(a,h,p){if(a.indexOf&&!p)return a.indexOf(h);for(var v=0;v<a.length;){if(p&&a[v][p]==h||!p&&a[v]===h)return v;v++}return-1}var QT={pointerdown:Yr,pointermove:ns,pointerup:Wt,pointercancel:$r,pointerout:$r},Xw={2:ku,3:Hy,4:Dc,5:Uy},Jw="pointerdown",Qw="pointermove pointerup pointercancel";ci.MSPointerEvent&&!ci.PointerEvent&&(Jw="MSPointerDown",Qw="MSPointerMove MSPointerUp MSPointerCancel");var Cf=function(a){kr(h,a);function h(){var v,y=h.prototype;return y.evEl=Jw,y.evWin=Qw,v=a.apply(this,arguments)||this,v.store=v.manager.session.pointerEvents=[],v}var p=h.prototype;return p.handler=function(y){var x=this.store,R=!1,M=y.type.toLowerCase().replace("ms",""),D=QT[M],L=Xw[y.pointerType]||y.pointerType,q=L===ku,G=hi(x,y.pointerId,"pointerId");D&Yr&&(y.button===0||q)?G<0&&(x.push(y),G=x.length-1):D&(Wt|$r)&&(R=!0),!(G<0)&&(x[G]=y,this.callback(this.manager,D,{pointers:x,changedPointers:[y],pointerType:L,srcEvent:y}),R&&x.splice(G,1))},h}(ma);function Fc(a){return Array.prototype.slice.call(a,0)}function Nu(a,h,p){for(var v=[],y=[],x=0;x<a.length;){var R=h?a[x][h]:a[x];hi(y,R)<0&&v.push(a[x]),y[x]=R,x++}return p&&(h?v=v.sort(function(M,D){return M[h]>D[h]}):v=v.sort()),v}var ZT={touchstart:Yr,touchmove:ns,touchend:Wt,touchcancel:$r},ex="touchstart touchmove touchend touchcancel",Xy=function(a){kr(h,a);function h(){var v;return h.prototype.evTarget=ex,v=a.apply(this,arguments)||this,v.targetIds={},v}var p=h.prototype;return p.handler=function(y){var x=ZT[y.type],R=tx.call(this,y,x);R&&this.callback(this.manager,x,{pointers:R[0],changedPointers:R[1],pointerType:ku,srcEvent:y})},h}(ma);function tx(a,h){var p=Fc(a.touches),v=this.targetIds;if(h&(Yr|ns)&&p.length===1)return v[p[0].identifier]=!0,[p,p];var y,x,R=Fc(a.changedTouches),M=[],D=this.target;if(x=p.filter(function(L){return Gy(L.target,D)}),h===Yr)for(y=0;y<x.length;)v[x[y].identifier]=!0,y++;for(y=0;y<R.length;)v[R[y].identifier]&&M.push(R[y]),h&(Wt|$r)&&delete v[R[y].identifier],y++;if(M.length)return[Nu(x.concat(M),"identifier",!0),M]}var Zw={mousedown:Yr,mousemove:ns,mouseup:Wt},_r="mousedown",Af="mousemove mouseup",ba=function(a){kr(h,a);function h(){var v,y=h.prototype;return y.evEl=_r,y.evWin=Af,v=a.apply(this,arguments)||this,v.pressed=!1,v}var p=h.prototype;return p.handler=function(y){var x=Zw[y.type];x&Yr&&y.button===0&&(this.pressed=!0),x&ns&&y.which!==1&&(x=Wt),this.pressed&&(x&Wt&&(this.pressed=!1),this.callback(this.manager,x,{pointers:[y],changedPointers:[y],pointerType:Dc,srcEvent:y}))},h}(ma),Jr=2500,e1=25;function t1(a){var h=a.changedPointers,p=h[0];if(p.identifier===this.primaryTouch){var v={x:p.clientX,y:p.clientY},y=this.lastTouches;this.lastTouches.push(v);var x=function(){var M=y.indexOf(v);M>-1&&y.splice(M,1)};setTimeout(x,Jr)}}function r1(a,h){a&Yr?(this.primaryTouch=h.changedPointers[0].identifier,t1.call(this,h)):a&(Wt|$r)&&t1.call(this,h)}function rx(a){for(var h=a.srcEvent.clientX,p=a.srcEvent.clientY,v=0;v<this.lastTouches.length;v++){var y=this.lastTouches[v],x=Math.abs(h-y.x),R=Math.abs(p-y.y);if(x<=e1&&R<=e1)return!0}return!1}var Lc=function(){var a=function(h){kr(p,h);function p(y,x){var R;return R=h.call(this,y,x)||this,R.handler=function(M,D,L){var q=L.pointerType===ku,G=L.pointerType===Dc;if(!(G&&L.sourceCapabilities&&L.sourceCapabilities.firesTouchEvents)){if(q)r1.call(wf(wf(R)),D,L);else if(G&&rx.call(wf(wf(R)),L))return;R.callback(M,D,L)}},R.touch=new Xy(R.manager,R.handler),R.mouse=new ba(R.manager,R.handler),R.primaryTouch=null,R.lastTouches=[],R}var v=p.prototype;return v.destroy=function(){this.touch.destroy(),this.mouse.destroy()},p}(ma);return a}();function i1(a){var h,p=a.options.inputClass;return p?h=p:$c?h=Cf:Wy?h=Xy:Bw?h=Lc:h=ba,new h(a,Pf)}function Fu(a,h,p){return Array.isArray(a)?(co(a,p[h],p),!0):!1}var Rf=1,wi=2,Lu=4,os=8,or=os,Bc=16,kt=32,zc=1;function ix(){return zc++}function kf(a,h){var p=h.manager;return p?p.get(a):a}function n1(a){return a&Bc?"cancel":a&os?"end":a&Lu?"move":a&wi?"start":""}var _a=function(){function a(p){p===void 0&&(p={}),this.options=fr({enable:!0},p),this.id=ix(),this.manager=null,this.state=Rf,this.simultaneous={},this.requireFail=[]}var h=a.prototype;return h.set=function(v){return pa(this.options,v),this.manager&&this.manager.touchAction.update(),this},h.recognizeWith=function(v){if(Fu(v,"recognizeWith",this))return this;var y=this.simultaneous;return v=kf(v,this),y[v.id]||(y[v.id]=v,v.recognizeWith(this)),this},h.dropRecognizeWith=function(v){return Fu(v,"dropRecognizeWith",this)?this:(v=kf(v,this),delete this.simultaneous[v.id],this)},h.requireFailure=function(v){if(Fu(v,"requireFailure",this))return this;var y=this.requireFail;return v=kf(v,this),hi(y,v)===-1&&(y.push(v),v.requireFailure(this)),this},h.dropRequireFailure=function(v){if(Fu(v,"dropRequireFailure",this))return this;v=kf(v,this);var y=hi(this.requireFail,v);return y>-1&&this.requireFail.splice(y,1),this},h.hasRequireFailures=function(){return this.requireFail.length>0},h.canRecognizeWith=function(v){return!!this.simultaneous[v.id]},h.emit=function(v){var y=this,x=this.state;function R(M){y.manager.emit(M,v)}x<os&&R(y.options.event+n1(x)),R(y.options.event),v.additionalEvent&&R(v.additionalEvent),x>=os&&R(y.options.event+n1(x))},h.tryEmit=function(v){if(this.canEmit())return this.emit(v);this.state=kt},h.canEmit=function(){for(var v=0;v<this.requireFail.length;){if(!(this.requireFail[v].state&(kt|Rf)))return!1;v++}return!0},h.recognize=function(v){var y=pa({},v);if(!xf(this.options.enable,[this,y])){this.reset(),this.state=kt;return}this.state&(or|Bc|kt)&&(this.state=Rf),this.state=this.process(y),this.state&(wi|Lu|os|Bc)&&this.tryEmit(y)},h.process=function(v){},h.getTouchAction=function(){},h.reset=function(){},a}(),$f=function(a){kr(h,a);function h(v){var y;return v===void 0&&(v={}),y=a.call(this,fr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},v))||this,y.pTime=!1,y.pCenter=!1,y._timer=null,y._input=null,y.count=0,y}var p=h.prototype;return p.getTouchAction=function(){return[vn]},p.process=function(y){var x=this,R=this.options,M=y.pointers.length===R.pointers,D=y.distance<R.threshold,L=y.deltaTime<R.time;if(this.reset(),y.eventType&Yr&&this.count===0)return this.failTimeout();if(D&&L&&M){if(y.eventType!==Wt)return this.failTimeout();var q=this.pTime?y.timeStamp-this.pTime<R.interval:!0,G=!this.pCenter||If(this.pCenter,y.center)<R.posThreshold;this.pTime=y.timeStamp,this.pCenter=y.center,!G||!q?this.count=1:this.count+=1,this._input=y;var H=this.count%R.taps;if(H===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){x.state=or,x.tryEmit()},R.interval),wi):or}return kt},p.failTimeout=function(){var y=this;return this._timer=setTimeout(function(){y.state=kt},this.options.interval),kt},p.reset=function(){clearTimeout(this._timer)},p.emit=function(){this.state===or&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},h}(_a),Bn=function(a){kr(h,a);function h(v){return v===void 0&&(v={}),a.call(this,fr({pointers:1},v))||this}var p=h.prototype;return p.attrTest=function(y){var x=this.options.pointers;return x===0||y.pointers.length===x},p.process=function(y){var x=this.state,R=y.eventType,M=x&(wi|Lu),D=this.attrTest(y);return M&&(R&$r||!D)?x|Bc:M||D?R&Wt?x|os:x&wi?x|Lu:wi:kt},h}(_a);function o1(a){return a===Du?"down":a===va?"up":a===$u?"left":a===Mc?"right":""}var Jy=function(a){kr(h,a);function h(v){var y;return v===void 0&&(v={}),y=a.call(this,fr({event:"pan",threshold:10,pointers:1,direction:Rt},v))||this,y.pX=null,y.pY=null,y}var p=h.prototype;return p.getTouchAction=function(){var y=this.options.direction,x=[];return y&Xr&&x.push(kc),y&Vi&&x.push(Au),x},p.directionTest=function(y){var x=this.options,R=!0,M=y.distance,D=y.direction,L=y.deltaX,q=y.deltaY;return D&x.direction||(x.direction&Xr?(D=L===0?Ot:L<0?$u:Mc,R=L!==this.pX,M=Math.abs(y.deltaX)):(D=q===0?Ot:q<0?va:Du,R=q!==this.pY,M=Math.abs(y.deltaY))),y.direction=D,R&&M>x.threshold&&D&x.direction},p.attrTest=function(y){return Bn.prototype.attrTest.call(this,y)&&(this.state&wi||!(this.state&wi)&&this.directionTest(y))},p.emit=function(y){this.pX=y.deltaX,this.pY=y.deltaY;var x=o1(y.direction);x&&(y.additionalEvent=this.options.event+x),a.prototype.emit.call(this,y)},h}(Bn),s1=function(a){kr(h,a);function h(v){return v===void 0&&(v={}),a.call(this,fr({event:"swipe",threshold:10,velocity:.3,direction:Xr|Vi,pointers:1},v))||this}var p=h.prototype;return p.getTouchAction=function(){return Jy.prototype.getTouchAction.call(this)},p.attrTest=function(y){var x=this.options.direction,R;return x&(Xr|Vi)?R=y.overallVelocity:x&Xr?R=y.overallVelocityX:x&Vi&&(R=y.overallVelocityY),a.prototype.attrTest.call(this,y)&&x&y.offsetDirection&&y.distance>this.options.threshold&&y.maxPointers===this.options.pointers&&rs(R)>this.options.velocity&&y.eventType&Wt},p.emit=function(y){var x=o1(y.offsetDirection);x&&this.manager.emit(this.options.event+x,y),this.manager.emit(this.options.event,y)},h}(Bn),a1=function(a){kr(h,a);function h(v){return v===void 0&&(v={}),a.call(this,fr({event:"pinch",threshold:0,pointers:2},v))||this}var p=h.prototype;return p.getTouchAction=function(){return[gn]},p.attrTest=function(y){return a.prototype.attrTest.call(this,y)&&(Math.abs(y.scale-1)>this.options.threshold||this.state&wi)},p.emit=function(y){if(y.scale!==1){var x=y.scale<1?"in":"out";y.additionalEvent=this.options.event+x}a.prototype.emit.call(this,y)},h}(Bn),u1=function(a){kr(h,a);function h(v){return v===void 0&&(v={}),a.call(this,fr({event:"rotate",threshold:0,pointers:2},v))||this}var p=h.prototype;return p.getTouchAction=function(){return[gn]},p.attrTest=function(y){return a.prototype.attrTest.call(this,y)&&(Math.abs(y.rotation)>this.options.threshold||this.state&wi)},h}(Bn),l1=function(a){kr(h,a);function h(v){var y;return v===void 0&&(v={}),y=a.call(this,fr({event:"press",pointers:1,time:251,threshold:9},v))||this,y._timer=null,y._input=null,y}var p=h.prototype;return p.getTouchAction=function(){return[qy]},p.process=function(y){var x=this,R=this.options,M=y.pointers.length===R.pointers,D=y.distance<R.threshold,L=y.deltaTime>R.time;if(this._input=y,!D||!M||y.eventType&(Wt|$r)&&!L)this.reset();else if(y.eventType&Yr)this.reset(),this._timer=setTimeout(function(){x.state=or,x.tryEmit()},R.time);else if(y.eventType&Wt)return or;return kt},p.reset=function(){clearTimeout(this._timer)},p.emit=function(y){this.state===or&&(y&&y.eventType&Wt?this.manager.emit(this.options.event+"up",y):(this._input.timeStamp=Ef(),this.manager.emit(this.options.event,this._input)))},h}(_a),wa={domEvents:!1,touchAction:Tf,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Qy=[[u1,{enable:!1}],[a1,{enable:!1},["rotate"]],[s1,{direction:Xr}],[Jy,{direction:Xr},["swipe"]],[$f],[$f,{event:"doubletap",taps:2},["tap"]],[l1]],Df=1,Bu=2;function Mf(a,h){var p=a.element;if(p.style){var v;co(a.options.cssProps,function(y,x){v=Ln(p.style,x),h?(a.oldCssProps[v]=p.style[v],p.style[v]=y):p.style[v]=a.oldCssProps[v]||""}),h||(a.oldCssProps={})}}function nx(a,h){var p=document.createEvent("Event");p.initEvent(a,!0,!0),p.gesture=h,h.target.dispatchEvent(p)}var jf=function(){function a(p,v){var y=this;this.options=pa({},wa,v||{}),this.options.inputTarget=this.options.inputTarget||p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=p,this.input=i1(this),this.touchAction=new zw(this,this.options.touchAction),Mf(this,!0),co(this.options.recognizers,function(x){var R=y.add(new x[0](x[1]));x[2]&&R.recognizeWith(x[2]),x[3]&&R.requireFailure(x[3])},this)}var h=a.prototype;return h.set=function(v){return pa(this.options,v),v.touchAction&&this.touchAction.update(),v.inputTarget&&(this.input.destroy(),this.input.target=v.inputTarget,this.input.init()),this},h.stop=function(v){this.session.stopped=v?Bu:Df},h.recognize=function(v){var y=this.session;if(!y.stopped){this.touchAction.preventDefaults(v);var x,R=this.recognizers,M=y.curRecognizer;(!M||M&&M.state&or)&&(y.curRecognizer=null,M=null);for(var D=0;D<R.length;)x=R[D],y.stopped!==Bu&&(!M||x===M||x.canRecognizeWith(M))?x.recognize(v):x.reset(),!M&&x.state&(wi|Lu|os)&&(y.curRecognizer=x,M=x),D++}},h.get=function(v){if(v instanceof _a)return v;for(var y=this.recognizers,x=0;x<y.length;x++)if(y[x].options.event===v)return y[x];return null},h.add=function(v){if(Fu(v,"add",this))return this;var y=this.get(v.options.event);return y&&this.remove(y),this.recognizers.push(v),v.manager=this,this.touchAction.update(),v},h.remove=function(v){if(Fu(v,"remove",this))return this;var y=this.get(v);if(v){var x=this.recognizers,R=hi(x,y);R!==-1&&(x.splice(R,1),this.touchAction.update())}return this},h.on=function(v,y){if(v===void 0||y===void 0)return this;var x=this.handlers;return co(Mu(v),function(R){x[R]=x[R]||[],x[R].push(y)}),this},h.off=function(v,y){if(v===void 0)return this;var x=this.handlers;return co(Mu(v),function(R){y?x[R]&&x[R].splice(hi(x[R],y),1):delete x[R]}),this},h.emit=function(v,y){this.options.domEvents&&nx(v,y);var x=this.handlers[v]&&this.handlers[v].slice();if(!(!x||!x.length)){y.type=v,y.preventDefault=function(){y.srcEvent.preventDefault()};for(var R=0;R<x.length;)x[R](y),R++}},h.destroy=function(){this.element&&Mf(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},a}(),Ki={touchstart:Yr,touchmove:ns,touchend:Wt,touchcancel:$r},c1="touchstart",Zy="touchstart touchmove touchend touchcancel",ox=function(a){kr(h,a);function h(){var v,y=h.prototype;return y.evTarget=c1,y.evWin=Zy,v=a.apply(this,arguments)||this,v.started=!1,v}var p=h.prototype;return p.handler=function(y){var x=Ki[y.type];if(x===Yr&&(this.started=!0),!!this.started){var R=em.call(this,y,x);x&(Wt|$r)&&R[0].length-R[1].length===0&&(this.started=!1),this.callback(this.manager,x,{pointers:R[0],changedPointers:R[1],pointerType:ku,srcEvent:y})}},h}(ma);function em(a,h){var p=Fc(a.touches),v=Fc(a.changedTouches);return h&(Wt|$r)&&(p=Nu(p.concat(v),"identifier",!0)),[p,v]}function qc(a,h,p){var v="DEPRECATED METHOD: "+h+`
`+p+` AT 
`;return function(){var y=new Error("get-stack-trace"),x=y&&y.stack?y.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",R=window.console&&(window.console.warn||window.console.log);return R&&R.call(window.console,v,x),a.apply(this,arguments)}}var Wc=qc(function(a,h,p){for(var v=Object.keys(h),y=0;y<v.length;)(!p||p&&a[v[y]]===void 0)&&(a[v[y]]=h[v[y]]),y++;return a},"extend","Use `assign`."),sx=qc(function(a,h){return Wc(a,h,!0)},"merge","Use `assign`.");function ax(a,h,p){var v=h.prototype,y;y=a.prototype=Object.create(v),y.constructor=a,y._super=v,p&&pa(y,p)}function zu(a,h){return function(){return a.apply(h,arguments)}}var ux=function(){var a=function(p,v){return v===void 0&&(v={}),new jf(p,fr({recognizers:Qy.concat()},v))};return a.VERSION="2.0.17-rc",a.DIRECTION_ALL=Rt,a.DIRECTION_DOWN=Du,a.DIRECTION_LEFT=$u,a.DIRECTION_RIGHT=Mc,a.DIRECTION_UP=va,a.DIRECTION_HORIZONTAL=Xr,a.DIRECTION_VERTICAL=Vi,a.DIRECTION_NONE=Ot,a.DIRECTION_DOWN=Du,a.INPUT_START=Yr,a.INPUT_MOVE=ns,a.INPUT_END=Wt,a.INPUT_CANCEL=$r,a.STATE_POSSIBLE=Rf,a.STATE_BEGAN=wi,a.STATE_CHANGED=Lu,a.STATE_ENDED=os,a.STATE_RECOGNIZED=or,a.STATE_CANCELLED=Bc,a.STATE_FAILED=kt,a.Manager=jf,a.Input=ma,a.TouchAction=zw,a.TouchInput=Xy,a.MouseInput=ba,a.PointerEventInput=Cf,a.TouchMouseInput=Lc,a.SingleTouchInput=ox,a.Recognizer=_a,a.AttrRecognizer=Bn,a.Tap=$f,a.Pan=Jy,a.Swipe=s1,a.Pinch=a1,a.Rotate=u1,a.Press=l1,a.on=ju,a.off=Nc,a.each=co,a.merge=sx,a.extend=Wc,a.bindFn=zu,a.assign=pa,a.inherit=ax,a.bindFn=zu,a.prefixed=Ln,a.toArray=Fc,a.inArray=hi,a.uniqueArray=Nu,a.splitStr=Mu,a.boolOrFn=xf,a.hasParent=Gy,a.addEventListeners=ju,a.removeEventListeners=Nc,a.defaults=pa({},wa,{preset:Qy}),a}(),Nf=ux;function tm(a,h){var p=typeof gc<"u"&&gu(a)||a["@@iterator"];if(!p){if(Vr(a)||(p=lx(a))||h){p&&(a=p);var v=0,y=function(){};return{s:y,n:function(){return v>=a.length?{done:!0}:{done:!1,value:a[v++]}},e:function(L){throw L},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,R=!1,M;return{s:function(){p=p.call(a)},n:function(){var L=p.next();return x=L.done,L},e:function(L){R=!0,M=L},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(R)throw M}}}}function lx(a,h){var p;if(a){if(typeof a=="string")return rm(a,h);var v=mc(p=Object.prototype.toString.call(a)).call(p,8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Wi(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return rm(a,h)}}function rm(a,h){(h==null||h>a.length)&&(h=a.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=a[p];return v}var im=gc("DELETE");function h1(a){for(var h,p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];return nm.apply(void 0,yc(h=[{},a]).call(h,v))}function nm(){var a=Ff.apply(void 0,arguments);return sm(a),a}function Ff(){for(var a=arguments.length,h=new Array(a),p=0;p<a;p++)h[p]=arguments[p];if(h.length<2)return h[0];if(h.length>2){var v;return Ff.apply(void 0,yc(v=[nm(h[0],h[1])]).call(v,Rr(mc(h).call(h,2))))}var y=h[0],x=h[1];if(y instanceof Date&&x instanceof Date)return y.setTime(x.getTime()),y;var R=tm(hy(x)),M;try{for(R.s();!(M=R.n()).done;){var D=M.value;Object.prototype.propertyIsEnumerable.call(x,D)&&(x[D]===im?delete y[D]:y[D]!==null&&x[D]!==null&&typeof y[D]=="object"&&typeof x[D]=="object"&&!Vr(y[D])&&!Vr(x[D])?y[D]=Ff(y[D],x[D]):y[D]=om(x[D]))}}catch(L){R.e(L)}finally{R.f()}return y}function om(a){return Vr(a)?si(a).call(a,function(h){return om(h)}):typeof a=="object"&&a!==null?a instanceof Date?new Date(a.getTime()):Ff({},a):a}function sm(a){for(var h=0,p=nf(a);h<p.length;h++){var v=p[h];a[v]===im?delete a[v]:typeof a[v]=="object"&&a[v]!==null&&sm(a[v])}}function Oa(){var a=function(){};return{on:a,off:a,destroy:a,emit:a,get(){return{set:a}}}}var Lf=typeof window<"u"?window.Hammer||Nf:function(){return Oa()};function zn(a){var h=this,p;this._cleanupQueue=[],this.active=!1,this._dom={container:a,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){h._dom.overlay.parentNode.removeChild(h._dom.overlay)});var v=Lf(this._dom.overlay);v.on("tap",Vs(p=this._onTapOverlay).call(p,this)),this._cleanupQueue.push(function(){v.destroy()});var y=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Kr(y).call(y,function(x){v.on(x,function(R){R.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(x){Bf(x.target,a)||h.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",h._onClick)})),this._escListener=function(x){("key"in x?x.key==="Escape":x.keyCode===27)&&h.deactivate()}}_f(zn.prototype),zn.current=null,zn.prototype.destroy=function(){var a,h;this.deactivate();var p=tm(vw(a=Sy(h=this._cleanupQueue).call(h,0)).call(a)),v;try{for(p.s();!(v=p.n()).done;){var y=v.value;y()}}catch(x){p.e(x)}finally{p.f()}},zn.prototype.activate=function(){zn.current&&zn.current.deactivate(),zn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},zn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},zn.prototype._onTapOverlay=function(a){this.activate(),a.srcEvent.stopPropagation()};function Bf(a,h){for(;a;){if(a===h)return!0;a=a.parentNode}return!1}var am=_h,Ea=ms,Yi=TypeError,ho=function(a){if(am(a))return a;throw new Yi(Ea(a)+" is not a constructor")},ss=Be,zf=Ht,as=ne,It=Td,us=ho,um=Ne,qf=Jt,lm=Cs,cm=B,Hc=zf("Reflect","construct"),cx=Object.prototype,hm=[].push,d1=cm(function(){function a(){}return!(Hc(function(){},[],a)instanceof a)}),f1=!cm(function(){Hc(function(){})}),Wf=d1||f1;ss({target:"Reflect",stat:!0,forced:Wf,sham:Wf},{construct:function(h,p){us(h),um(p);var v=arguments.length<3?h:us(arguments[2]);if(f1&&!d1)return Hc(h,p,v);if(h===v){switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3])}var y=[null];return as(hm,y,p),new(as(It,h,y))}var x=v.prototype,R=lm(qf(x)?x:cx),M=as(h,R,p);return qf(M)?M:R}});var p1=lt,hx=p1.Reflect.construct,dx=hx,v1=dx,fx=v1,ls=T(fx),Hf=lt,px=Hf.Object.getOwnPropertySymbols,Sa=px,dm=Sa,vx=dm,Uc=T(vx),Uf={exports:{}},gx=Be,yx=B,fm=Ie,g1=dt.f,pm=gt,vm=!pm||yx(function(){g1(1)});gx({target:"Object",stat:!0,forced:vm,sham:!pm},{getOwnPropertyDescriptor:function(h,p){return g1(fm(h),p)}});var cs=lt,gm=cs.Object,y1=Uf.exports=function(h,p){return gm.getOwnPropertyDescriptor(h,p)};gm.getOwnPropertyDescriptor.sham&&(y1.sham=!0);var mx=Uf.exports,bx=mx,m1=bx,b1=m1,ym=T(b1),mm=Be,_x=gt,bm=bc,_1=Ie,qu=dt,w1=Ba;mm({target:"Object",stat:!0,sham:!_x},{getOwnPropertyDescriptors:function(h){for(var p=_1(h),v=qu.f,y=bm(p),x={},R=0,M,D;y.length>R;)D=v(p,M=y[R++]),D!==void 0&&w1(x,M,D);return x}});var O1=lt,hs=O1.Object.getOwnPropertyDescriptors,E1=hs,wx=E1,Ox=wx,S1=T(Ox),T1={exports:{}},x1=Be,Ex=gt,I1=Sh.f;x1({target:"Object",stat:!0,forced:Object.defineProperties!==I1,sham:!Ex},{defineProperties:I1});var Sx=lt,Wu=Sx.Object,_m=T1.exports=function(h,p){return Wu.defineProperties(h,p)};Wu.defineProperties.sham&&(_m.sham=!0);var P1=T1.exports,C1=P1,Tx=C1,xx=Tx,Ix=T(xx),wm=ph,A1=T(wm);function Hu(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var fo=My,Px=fo,R1=Px,Cx=R1,Om=Cx,Ax=T(Om),Em=Be,Rx=Ws;Em({target:"Object",stat:!0},{setPrototypeOf:Rx});var be=lt,ue=be.Object.setPrototypeOf,J=ue,Gc=J,Pe=Gc,Gf=Pe,Sm=Gf,Vf=Sm,Vc=Vf,Kc=T(Vc),Kf=i_,Tm=Kf,qn=Tm,Me=qn,xm=Me,i=T(xm);function e(a,h){var p;return e=Kc?i(p=Kc).call(p):function(y,x){return y.__proto__=x,y},e(a,h)}function t(a,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Ax(h&&h.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),vh(a,"prototype",{writable:!1}),h&&e(a,h)}function r(a,h){if(h&&(uu(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hu(a)}var n=xw,s=n,c=s,f=c,w=f,P=T(w);function A(a){var h;return A=Kc?i(h=P).call(h):function(v){return v.__proto__||P(v)},A(a)}var o={exports:{}},u={exports:{}};(function(a){var h=lg,p=vg;function v(y){"@babel/helpers - typeof";return a.exports=v=typeof h=="function"&&typeof p=="symbol"?function(x){return typeof x}:function(x){return x&&typeof h=="function"&&x.constructor===h&&x!==h.prototype?"symbol":typeof x},a.exports.__esModule=!0,a.exports.default=a.exports,v(y)}a.exports=v,a.exports.__esModule=!0,a.exports.default=a.exports})(u);var l=u.exports,d=of,g=d,_=g,I=_,C=I,k=Lt,N=bc,z=dt,W=ni,Q=function(a,h,p){for(var v=N(h),y=W.f,x=z.f,R=0;R<v.length;R++){var M=v[R];!k(a,M)&&!(p&&k(p,M))&&y(a,M,x(h,M))}},re=Jt,pe=ki,Se=function(a,h){re(h)&&"cause"in h&&pe(a,"cause",h.cause)},Re=we,De=Error,Oe=Re("".replace),Ke=function(a){return String(new De(a).stack)}("zxcasd"),Xe=/\n\s*at [^:]*:[^\n]*/,ot=Xe.test(Ke),Tt=function(a,h){if(ot&&typeof a=="string"&&!De.prepareStackTrace)for(;h--;)a=Oe(a,Xe,"");return a},Qr=B,Dr=Sr,yn=!Qr(function(){var a=new Error("a");return"stack"in a?(Object.defineProperty(a,"stack",Dr(1,7)),a.stack!==7):!0}),Uu=ki,k1=Tt,Yf=yn,Xi=Error.captureStackTrace,kx=function(a,h,p,v){Yf&&(Xi?Xi(a,h):Uu(a,"stack",k1(p,v)))},$1=Oo,Yc=ut,$x=Ne,D1=ms,Xf=w_,rI=fi,Im=vt,WI=na,iI=Wr,nI=m_,Dx=TypeError,Jf=function(a,h){this.stopped=a,this.result=h},M1=Jf.prototype,ce=function(a,h,p){var v=p&&p.that,y=!!(p&&p.AS_ENTRIES),x=!!(p&&p.IS_RECORD),R=!!(p&&p.IS_ITERATOR),M=!!(p&&p.INTERRUPTED),D=$1(h,v),L,q,G,H,X,Ce,Ye,Je=function(ht){return L&&nI(L,"normal",ht),new Jf(!0,ht)},at=function(ht){return y?($x(ht),M?D(ht[0],ht[1],Je):D(ht[0],ht[1])):M?D(ht,Je):D(ht)};if(x)L=a.iterator;else if(R)L=a;else{if(q=iI(a),!q)throw new Dx(D1(a)+" is not iterable");if(Xf(q)){for(G=0,H=rI(a);H>G;G++)if(X=at(a[G]),X&&Im(M1,X))return X;return new Jf(!1)}L=WI(a,q)}for(Ce=x?a.next:L.next;!(Ye=Yc(Ce,L)).done;){try{X=at(Ye.value)}catch(ht){nI(L,"throw",ht)}if(typeof X=="object"&&X&&Im(M1,X))return X}return new Jf(!1)},ge=$i,ye=function(a,h){return a===void 0?arguments.length<2?"":h:ge(a)},st=Be,We=vt,Pt=Wl,tr=Ws,mn=Q,Ji=Cs,Gu=ki,Xc=Sr,Jc=Se,OL=kx,EL=ce,SL=ye,TL=Dt,xL=TL("toStringTag"),oI=Error,IL=[].push,j1=function(h,p){var v=We(HI,this),y;tr?y=tr(new oI,v?Pt(this):HI):(y=v?this:Ji(HI),Gu(y,xL,"Error")),p!==void 0&&Gu(y,"message",SL(p)),OL(y,j1,y.stack,1),arguments.length>2&&Jc(y,arguments[2]);var x=[];return EL(h,IL,{that:x}),Gu(y,"errors",x),y};tr?tr(j1,oI):mn(j1,oI,{name:!0});var HI=j1.prototype=Ji(oI.prototype,{constructor:Xc(1,j1),message:Xc(1,""),name:Xc(1,"AggregateError")});st({global:!0},{AggregateError:j1});var PL=Ht,CL=Zt,AL=Dt,RL=gt,x$=AL("species"),I$=function(a){var h=PL(a);RL&&h&&!h[x$]&&CL(h,x$,{configurable:!0,get:function(){return this}})},kL=vt,$L=TypeError,UI=function(a,h){if(kL(h,a))return a;throw new $L("Incorrect invocation")},P$=Ne,DL=ho,ML=ve,jL=Dt,NL=jL("species"),C$=function(a,h){var p=P$(a).constructor,v;return p===void 0||ML(v=P$(p)[NL])?h:DL(v)},FL=wn,A$=/(?:ipad|iphone|ipod).*applewebkit/i.test(FL),po=j,LL=ne,BL=Oo,R$=Ue,zL=Lt,k$=B,$$=Fp,qL=jl,D$=lh,WL=fa,HL=A$,UL=Xl,GI=po.setImmediate,M$=po.clearImmediate,GL=po.process,VI=po.Dispatch,VL=po.Function,j$=po.MessageChannel,KL=po.String,KI=0,Mx={},N$="onreadystatechange",jx,Pm,YI,XI;k$(function(){jx=po.location});var JI=function(a){if(zL(Mx,a)){var h=Mx[a];delete Mx[a],h()}},QI=function(a){return function(){JI(a)}},F$=function(a){JI(a.data)},L$=function(a){po.postMessage(KL(a),jx.protocol+"//"+jx.host)};(!GI||!M$)&&(GI=function(h){WL(arguments.length,1);var p=R$(h)?h:VL(h),v=qL(arguments,1);return Mx[++KI]=function(){LL(p,void 0,v)},Pm(KI),KI},M$=function(h){delete Mx[h]},UL?Pm=function(a){GL.nextTick(QI(a))}:VI&&VI.now?Pm=function(a){VI.now(QI(a))}:j$&&!HL?(YI=new j$,XI=YI.port2,YI.port1.onmessage=F$,Pm=BL(XI.postMessage,XI)):po.addEventListener&&R$(po.postMessage)&&!po.importScripts&&jx&&jx.protocol!=="file:"&&!k$(L$)?(Pm=L$,po.addEventListener("message",F$,!1)):N$ in D$("script")?Pm=function(a){$$.appendChild(D$("script"))[N$]=function(){$$.removeChild(this),JI(a)}}:Pm=function(a){setTimeout(QI(a),0)});var B$={set:GI},z$=function(){this.head=null,this.tail=null};z$.prototype={add:function(a){var h={item:a,next:null},p=this.tail;p?p.next=h:this.head=h,this.tail=h},get:function(){var a=this.head;if(a){var h=this.head=a.next;return h===null&&(this.tail=null),a.item}}};var q$=z$,YL=wn,XL=/ipad|iphone|ipod/i.test(YL)&&typeof Pebble<"u",JL=wn,QL=/web0s(?!.*chrome)/i.test(JL),Cm=j,W$=Oo,ZL=dt.f,ZI=B$.set,eB=q$,tB=A$,rB=XL,iB=QL,eP=Xl,H$=Cm.MutationObserver||Cm.WebKitMutationObserver,U$=Cm.document,G$=Cm.process,sI=Cm.Promise,V$=ZL(Cm,"queueMicrotask"),tP=V$&&V$.value,N1,rP,iP,aI,K$;if(!tP){var uI=new eB,lI=function(){var a,h;for(eP&&(a=G$.domain)&&a.exit();h=uI.get();)try{h()}catch(p){throw uI.head&&N1(),p}a&&a.enter()};!tB&&!eP&&!iB&&H$&&U$?(rP=!0,iP=U$.createTextNode(""),new H$(lI).observe(iP,{characterData:!0}),N1=function(){iP.data=rP=!rP}):!rB&&sI&&sI.resolve?(aI=sI.resolve(void 0),aI.constructor=sI,K$=W$(aI.then,aI),N1=function(){K$(lI)}):eP?N1=function(){G$.nextTick(lI)}:(ZI=W$(ZI,Cm),N1=function(){ZI(lI)}),tP=function(a){uI.head||N1(),uI.add(a)}}var nB=tP,oB=function(a,h){try{arguments.length===1?console.error(a):console.error(a,h)}catch{}},F1=function(a){try{return{error:!1,value:a()}}catch(h){return{error:!0,value:h}}},sB=j,L1=sB.Promise,Y$=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",aB=Y$,uB=Xl,lB=!aB&&!uB&&typeof window=="object"&&typeof document=="object",cB=j,Nx=L1,hB=Ue,dB=ib,fB=mb,pB=Dt,vB=lB,gB=Y$,nP=Ta,X$=Nx&&Nx.prototype,yB=pB("species"),J$=!1,Q$=hB(cB.PromiseRejectionEvent),mB=dB("Promise",function(){var a=fB(Nx),h=a!==String(Nx);if(!h&&nP===66||!(X$.catch&&X$.finally))return!0;if(!nP||nP<51||!/native code/.test(a)){var p=new Nx(function(x){x(1)}),v=function(x){x(function(){},function(){})},y=p.constructor={};if(y[yB]=v,J$=p.then(function(){})instanceof v,!J$)return!0}return!h&&(vB||gB)&&!Q$}),Fx={CONSTRUCTOR:mB,REJECTION_EVENT:Q$},Vu={},Z$=ri,bB=TypeError,_B=function(a){var h,p;this.promise=new a(function(v,y){if(h!==void 0||p!==void 0)throw new bB("Bad Promise constructor");h=v,p=y}),this.resolve=Z$(h),this.reject=Z$(p)};Vu.f=function(a){return new _B(a)};var wB=Be,cI=Xl,Qf=j,Lx=ut,OB=un,EB=Ds,SB=I$,TB=ri,oP=Ue,xB=Jt,IB=UI,PB=C$,eD=B$.set,sP=nB,CB=oB,AB=F1,RB=q$,tD=Ms,aP=L1,rD=Fx,iD=Vu,hI="Promise",nD=rD.CONSTRUCTOR,kB=rD.REJECTION_EVENT,uP=tD.getterFor(hI),$B=tD.set,DB=aP&&aP.prototype,B1=aP,lP=DB,oD=Qf.TypeError,cP=Qf.document,hP=Qf.process,dP=iD.f,MB=dP,jB=!!(cP&&cP.createEvent&&Qf.dispatchEvent),sD="unhandledrejection",NB="rejectionhandled",aD=0,uD=1,FB=2,fP=1,lD=2,dI,cD,LB,hD=function(a){var h;return xB(a)&&oP(h=a.then)?h:!1},dD=function(a,h){var p=h.value,v=h.state===uD,y=v?a.ok:a.fail,x=a.resolve,R=a.reject,M=a.domain,D,L,q;try{y?(v||(h.rejection===lD&&zB(h),h.rejection=fP),y===!0?D=p:(M&&M.enter(),D=y(p),M&&(M.exit(),q=!0)),D===a.promise?R(new oD("Promise-chain cycle")):(L=hD(D))?Lx(L,D,x,R):x(D)):R(p)}catch(G){M&&!q&&M.exit(),R(G)}},fD=function(a,h){a.notified||(a.notified=!0,sP(function(){for(var p=a.reactions,v;v=p.get();)dD(v,a);a.notified=!1,h&&!a.rejection&&BB(a)}))},pD=function(a,h,p){var v,y;jB?(v=cP.createEvent("Event"),v.promise=h,v.reason=p,v.initEvent(a,!1,!0),Qf.dispatchEvent(v)):v={promise:h,reason:p},!kB&&(y=Qf["on"+a])?y(v):a===sD&&CB("Unhandled promise rejection",p)},BB=function(a){Lx(eD,Qf,function(){var h=a.facade,p=a.value,v=vD(a),y;if(v&&(y=AB(function(){cI?hP.emit("unhandledRejection",p,h):pD(sD,h,p)}),a.rejection=cI||vD(a)?lD:fP,y.error))throw y.value})},vD=function(a){return a.rejection!==fP&&!a.parent},zB=function(a){Lx(eD,Qf,function(){var h=a.facade;cI?hP.emit("rejectionHandled",h):pD(NB,h,a.value)})},z1=function(a,h,p){return function(v){a(h,v,p)}},q1=function(a,h,p){a.done||(a.done=!0,p&&(a=p),a.value=h,a.state=FB,fD(a,!0))},pP=function(a,h,p){if(!a.done){a.done=!0,p&&(a=p);try{if(a.facade===h)throw new oD("Promise can't be resolved itself");var v=hD(h);v?sP(function(){var y={done:!1};try{Lx(v,h,z1(pP,y,a),z1(q1,y,a))}catch(x){q1(y,x,a)}}):(a.value=h,a.state=uD,fD(a,!1))}catch(y){q1({done:!1},y,a)}}};nD&&(B1=function(h){IB(this,lP),TB(h),Lx(dI,this);var p=uP(this);try{h(z1(pP,p),z1(q1,p))}catch(v){q1(p,v)}},lP=B1.prototype,dI=function(h){$B(this,{type:hI,done:!1,notified:!1,parent:!1,reactions:new RB,rejection:!1,state:aD,value:void 0})},dI.prototype=OB(lP,"then",function(h,p){var v=uP(this),y=dP(PB(this,B1));return v.parent=!0,y.ok=oP(h)?h:!0,y.fail=oP(p)&&p,y.domain=cI?hP.domain:void 0,v.state===aD?v.reactions.add(y):sP(function(){dD(y,v)}),y.promise}),cD=function(){var a=new dI,h=uP(a);this.promise=a,this.resolve=z1(pP,h),this.reject=z1(q1,h)},iD.f=dP=function(a){return a===B1||a===LB?new cD(a):MB(a)}),wB({global:!0,wrap:!0,forced:nD},{Promise:B1}),EB(B1,hI,!1,!0),SB(hI);var qB=L1,WB=At,HB=Fx.CONSTRUCTOR,fI=HB||!WB(function(a){qB.all(a).then(void 0,function(){})}),UB=Be,GB=ut,VB=ri,KB=Vu,YB=F1,XB=ce,JB=fI;UB({target:"Promise",stat:!0,forced:JB},{all:function(h){var p=this,v=KB.f(p),y=v.resolve,x=v.reject,R=YB(function(){var M=VB(p.resolve),D=[],L=0,q=1;XB(h,function(G){var H=L++,X=!1;q++,GB(M,p,G).then(function(Ce){X||(X=!0,D[H]=Ce,--q||y(D))},x)}),--q||y(D)});return R.error&&x(R.value),v.promise}});var QB=Be,ZB=Fx.CONSTRUCTOR,gD=L1;gD&&gD.prototype,QB({target:"Promise",proto:!0,forced:ZB,real:!0},{catch:function(a){return this.then(void 0,a)}});var ez=Be,tz=ut,rz=ri,iz=Vu,nz=F1,oz=ce,sz=fI;ez({target:"Promise",stat:!0,forced:sz},{race:function(h){var p=this,v=iz.f(p),y=v.reject,x=nz(function(){var R=rz(p.resolve);oz(h,function(M){tz(R,p,M).then(v.resolve,y)})});return x.error&&y(x.value),v.promise}});var az=Be,uz=ut,lz=Vu,cz=Fx.CONSTRUCTOR;az({target:"Promise",stat:!0,forced:cz},{reject:function(h){var p=lz.f(this);return uz(p.reject,void 0,h),p.promise}});var hz=Ne,dz=Jt,fz=Vu,yD=function(a,h){if(hz(a),dz(h)&&h.constructor===a)return h;var p=fz.f(a),v=p.resolve;return v(h),p.promise},pz=Be,vz=Ht,gz=gr,yz=L1,mz=Fx.CONSTRUCTOR,bz=yD,_z=vz("Promise"),wz=!mz;pz({target:"Promise",stat:!0,forced:gz},{resolve:function(h){return bz(wz&&this===_z?yz:this,h)}});var Oz=Be,Ez=ut,Sz=ri,Tz=Vu,xz=F1,Iz=ce,Pz=fI;Oz({target:"Promise",stat:!0,forced:Pz},{allSettled:function(h){var p=this,v=Tz.f(p),y=v.resolve,x=v.reject,R=xz(function(){var M=Sz(p.resolve),D=[],L=0,q=1;Iz(h,function(G){var H=L++,X=!1;q++,Ez(M,p,G).then(function(Ce){X||(X=!0,D[H]={status:"fulfilled",value:Ce},--q||y(D))},function(Ce){X||(X=!0,D[H]={status:"rejected",reason:Ce},--q||y(D))})}),--q||y(D)});return R.error&&x(R.value),v.promise}});var Cz=Be,Az=ut,Rz=ri,kz=Ht,$z=Vu,Dz=F1,Mz=ce,jz=fI,mD="No one promise resolved";Cz({target:"Promise",stat:!0,forced:jz},{any:function(h){var p=this,v=kz("AggregateError"),y=$z.f(p),x=y.resolve,R=y.reject,M=Dz(function(){var D=Rz(p.resolve),L=[],q=0,G=1,H=!1;Mz(h,function(X){var Ce=q++,Ye=!1;G++,Az(D,p,X).then(function(Je){Ye||H||(H=!0,x(Je))},function(Je){Ye||H||(Ye=!0,L[Ce]=Je,--G||R(new v(L,mD)))})}),--G||R(new v(L,mD))});return M.error&&R(M.value),y.promise}});var Nz=Be,vP=L1,Fz=B,Lz=Ht,Bz=Ue,zz=C$,bD=yD,qz=vP&&vP.prototype,Wz=!!vP&&Fz(function(){qz.finally.call({then:function(){}},function(){})});Nz({target:"Promise",proto:!0,real:!0,forced:Wz},{finally:function(a){var h=zz(this,Lz("Promise")),p=Bz(a);return this.then(p?function(v){return bD(h,a()).then(function(){return v})}:a,p?function(v){return bD(h,a()).then(function(){throw v})}:a)}});var Hz=lt,Uz=Hz.Promise,Gz=Uz,Vz=Gz,Kz=Be,Yz=Vu;Kz({target:"Promise",stat:!0},{withResolvers:function(){var h=Yz.f(this);return{promise:h.promise,resolve:h.resolve,reject:h.reject}}});var Xz=Vz,Jz=Xz,Qz=Be,Zz=Vu,eq=F1;Qz({target:"Promise",stat:!0,forced:!0},{try:function(a){var h=Zz.f(this),p=eq(a);return(p.error?h.reject:h.resolve)(p.value),h.promise}});var tq=Jz,rq=tq,iq=rq,nq=pw,oq=nq,sq=oq,aq=sq,uq=aq;(function(a){var h=l.default,p=yp,v=lg,y=Om,x=w,R=C,M=Ud,D=Vc,L=iq,q=uq,G=Jd;function H(){a.exports=H=function(){return Ce},a.exports.__esModule=!0,a.exports.default=a.exports;var X,Ce={},Ye=Object.prototype,Je=Ye.hasOwnProperty,at=p||function(ke,me,Ee){ke[me]=Ee.value},ht=typeof v=="function"?v:{},Zr=ht.iterator||"@@iterator",sr=ht.asyncIterator||"@@asyncIterator",Ei=ht.toStringTag||"@@toStringTag";function ar(ke,me,Ee){return p(ke,me,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),ke[me]}try{ar({},"")}catch{ar=function(Ee,He,ct){return Ee[He]=ct}}function Zc(ke,me,Ee,He){var ct=me&&me.prototype instanceof H1?me:H1,rt=y(ct.prototype),wr=new MP(He||[]);return at(rt,"_invoke",{value:gW(ke,Ee,wr)}),rt}function vo(ke,me,Ee){try{return{type:"normal",arg:ke.call(me,Ee)}}catch(He){return{type:"throw",arg:He}}}Ce.wrap=Zc;var ep="suspendedStart",W1="suspendedYield",tp="executing",Yu="completed",ds={};function H1(){}function bI(){}function km(){}var kP={};ar(kP,Zr,function(){return this});var $P=x,_I=$P&&$P($P(jP([])));_I&&_I!==Ye&&Je.call(_I,Zr)&&(kP=_I);var U1=km.prototype=H1.prototype=y(kP);function tM(ke){var me;R(me=["next","throw","return"]).call(me,function(Ee){ar(ke,Ee,function(He){return this._invoke(Ee,He)})})}function wI(ke,me){function Ee(ct,rt,wr,bn){var Hn=vo(ke[ct],ke,rt);if(Hn.type!=="throw"){var $m=Hn.arg,rp=$m.value;return rp&&h(rp)=="object"&&Je.call(rp,"__await")?me.resolve(rp.__await).then(function(Dm){Ee("next",Dm,wr,bn)},function(Dm){Ee("throw",Dm,wr,bn)}):me.resolve(rp).then(function(Dm){$m.value=Dm,wr($m)},function(Dm){return Ee("throw",Dm,wr,bn)})}bn(Hn.arg)}var He;at(this,"_invoke",{value:function(rt,wr){function bn(){return new me(function(Hn,$m){Ee(rt,wr,Hn,$m)})}return He=He?He.then(bn,bn):bn()}})}function gW(ke,me,Ee){var He=ep;return function(ct,rt){if(He===tp)throw new Error("Generator is already running");if(He===Yu){if(ct==="throw")throw rt;return{value:X,done:!0}}for(Ee.method=ct,Ee.arg=rt;;){var wr=Ee.delegate;if(wr){var bn=rM(wr,Ee);if(bn){if(bn===ds)continue;return bn}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(He===ep)throw He=Yu,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);He=tp;var Hn=vo(ke,me,Ee);if(Hn.type==="normal"){if(He=Ee.done?Yu:W1,Hn.arg===ds)continue;return{value:Hn.arg,done:Ee.done}}Hn.type==="throw"&&(He=Yu,Ee.method="throw",Ee.arg=Hn.arg)}}}function rM(ke,me){var Ee=me.method,He=ke.iterator[Ee];if(He===X)return me.delegate=null,Ee==="throw"&&ke.iterator.return&&(me.method="return",me.arg=X,rM(ke,me),me.method==="throw")||Ee!=="return"&&(me.method="throw",me.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),ds;var ct=vo(He,ke.iterator,me.arg);if(ct.type==="throw")return me.method="throw",me.arg=ct.arg,me.delegate=null,ds;var rt=ct.arg;return rt?rt.done?(me[ke.resultName]=rt.value,me.next=ke.nextLoc,me.method!=="return"&&(me.method="next",me.arg=X),me.delegate=null,ds):rt:(me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,ds)}function yW(ke){var me,Ee={tryLoc:ke[0]};1 in ke&&(Ee.catchLoc=ke[1]),2 in ke&&(Ee.finallyLoc=ke[2],Ee.afterLoc=ke[3]),M(me=this.tryEntries).call(me,Ee)}function DP(ke){var me=ke.completion||{};me.type="normal",delete me.arg,ke.completion=me}function MP(ke){this.tryEntries=[{tryLoc:"root"}],R(ke).call(ke,yW,this),this.reset(!0)}function jP(ke){if(ke||ke===""){var me=ke[Zr];if(me)return me.call(ke);if(typeof ke.next=="function")return ke;if(!isNaN(ke.length)){var Ee=-1,He=function ct(){for(;++Ee<ke.length;)if(Je.call(ke,Ee))return ct.value=ke[Ee],ct.done=!1,ct;return ct.value=X,ct.done=!0,ct};return He.next=He}}throw new TypeError(h(ke)+" is not iterable")}return bI.prototype=km,at(U1,"constructor",{value:km,configurable:!0}),at(km,"constructor",{value:bI,configurable:!0}),bI.displayName=ar(km,Ei,"GeneratorFunction"),Ce.isGeneratorFunction=function(ke){var me=typeof ke=="function"&&ke.constructor;return!!me&&(me===bI||(me.displayName||me.name)==="GeneratorFunction")},Ce.mark=function(ke){return D?D(ke,km):(ke.__proto__=km,ar(ke,Ei,"GeneratorFunction")),ke.prototype=y(U1),ke},Ce.awrap=function(ke){return{__await:ke}},tM(wI.prototype),ar(wI.prototype,sr,function(){return this}),Ce.AsyncIterator=wI,Ce.async=function(ke,me,Ee,He,ct){ct===void 0&&(ct=L);var rt=new wI(Zc(ke,me,Ee,He),ct);return Ce.isGeneratorFunction(me)?rt:rt.next().then(function(wr){return wr.done?wr.value:rt.next()})},tM(U1),ar(U1,Ei,"Generator"),ar(U1,Zr,function(){return this}),ar(U1,"toString",function(){return"[object Generator]"}),Ce.keys=function(ke){var me=Object(ke),Ee=[];for(var He in me)M(Ee).call(Ee,He);return q(Ee).call(Ee),function ct(){for(;Ee.length;){var rt=Ee.pop();if(rt in me)return ct.value=rt,ct.done=!1,ct}return ct.done=!0,ct}},Ce.values=jP,MP.prototype={constructor:MP,reset:function(me){var Ee;if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,R(Ee=this.tryEntries).call(Ee,DP),!me)for(var He in this)He.charAt(0)==="t"&&Je.call(this,He)&&!isNaN(+G(He).call(He,1))&&(this[He]=X)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var Ee=this;function He($m,rp){return wr.type="throw",wr.arg=me,Ee.next=$m,rp&&(Ee.method="next",Ee.arg=X),!!rp}for(var ct=this.tryEntries.length-1;ct>=0;--ct){var rt=this.tryEntries[ct],wr=rt.completion;if(rt.tryLoc==="root")return He("end");if(rt.tryLoc<=this.prev){var bn=Je.call(rt,"catchLoc"),Hn=Je.call(rt,"finallyLoc");if(bn&&Hn){if(this.prev<rt.catchLoc)return He(rt.catchLoc,!0);if(this.prev<rt.finallyLoc)return He(rt.finallyLoc)}else if(bn){if(this.prev<rt.catchLoc)return He(rt.catchLoc,!0)}else{if(!Hn)throw new Error("try statement without catch or finally");if(this.prev<rt.finallyLoc)return He(rt.finallyLoc)}}}},abrupt:function(me,Ee){for(var He=this.tryEntries.length-1;He>=0;--He){var ct=this.tryEntries[He];if(ct.tryLoc<=this.prev&&Je.call(ct,"finallyLoc")&&this.prev<ct.finallyLoc){var rt=ct;break}}rt&&(me==="break"||me==="continue")&&rt.tryLoc<=Ee&&Ee<=rt.finallyLoc&&(rt=null);var wr=rt?rt.completion:{};return wr.type=me,wr.arg=Ee,rt?(this.method="next",this.next=rt.finallyLoc,ds):this.complete(wr)},complete:function(me,Ee){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&Ee&&(this.next=Ee),ds},finish:function(me){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var He=this.tryEntries[Ee];if(He.finallyLoc===me)return this.complete(He.completion,He.afterLoc),DP(He),ds}},catch:function(me){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var He=this.tryEntries[Ee];if(He.tryLoc===me){var ct=He.completion;if(ct.type==="throw"){var rt=ct.arg;DP(He)}return rt}}throw new Error("illegal catch attempt")},delegateYield:function(me,Ee,He){return this.delegate={iterator:jP(me),resultName:Ee,nextLoc:He},this.method==="next"&&(this.arg=X),ds}},Ce}a.exports=H,a.exports.__esModule=!0,a.exports.default=a.exports})(o);var lq=o.exports,pI=lq(),cq=pI;try{regeneratorRuntime=pI}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=pI:Function("r","regeneratorRuntime = r")(pI)}var Wn=T(cq),_D={exports:{}},hq=B,dq=hq(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}}),fq=B,pq=Jt,vq=he,wD=dq,vI=Object.isExtensible,gq=fq(function(){vI(1)}),yq=gq||wD?function(h){return!pq(h)||wD&&vq(h)==="ArrayBuffer"?!1:vI?vI(h):!0}:vI,mq=B,bq=!mq(function(){return Object.isExtensible(Object.preventExtensions({}))}),_q=Be,wq=we,Oq=vl,Eq=Jt,gP=Lt,Sq=ni.f,OD=Ao,Tq=Di,yP=yq,xq=oh,Iq=bq,ED=!1,Qc=xq("meta"),Pq=0,mP=function(a){Sq(a,Qc,{value:{objectID:"O"+Pq++,weakData:{}}})},Cq=function(a,h){if(!Eq(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!gP(a,Qc)){if(!yP(a))return"F";if(!h)return"E";mP(a)}return a[Qc].objectID},Aq=function(a,h){if(!gP(a,Qc)){if(!yP(a))return!0;if(!h)return!1;mP(a)}return a[Qc].weakData},Rq=function(a){return Iq&&ED&&yP(a)&&!gP(a,Qc)&&mP(a),a},kq=function(){$q.enable=function(){},ED=!0;var a=OD.f,h=wq([].splice),p={};p[Qc]=1,a(p).length&&(OD.f=function(v){for(var y=a(v),x=0,R=y.length;x<R;x++)if(y[x]===Qc){h(y,x,1);break}return y},_q({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Tq.f}))},$q=_D.exports={enable:kq,fastKey:Cq,getWeakData:Aq,onFreeze:Rq};Oq[Qc]=!0;var SD=_D.exports,Dq=Be,Mq=j,jq=SD,Nq=B,Fq=ki,Lq=ce,Bq=UI,zq=Ue,qq=Jt,Wq=ve,Hq=Ds,Uq=ni.f,Gq=Do.forEach,Vq=gt,TD=Ms,Kq=TD.set,Yq=TD.getterFor,xD=function(a,h,p){var v=a.indexOf("Map")!==-1,y=a.indexOf("Weak")!==-1,x=v?"set":"add",R=Mq[a],M=R&&R.prototype,D={},L;if(!Vq||!zq(R)||!(y||M.forEach&&!Nq(function(){new R().entries().next()})))L=p.getConstructor(h,a,v,x),jq.enable();else{L=h(function(H,X){Kq(Bq(H,q),{type:a,collection:new R}),Wq(X)||Lq(X,H[x],{that:H,AS_ENTRIES:v})});var q=L.prototype,G=Yq(a);Gq(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(H){var X=H==="add"||H==="set";H in M&&!(y&&H==="clear")&&Fq(q,H,function(Ce,Ye){var Je=G(this).collection;if(!X&&y&&!qq(Ce))return H==="get"?void 0:!1;var at=Je[H](Ce===0?0:Ce,Ye);return X?this:at})}),y||Uq(q,"size",{configurable:!0,get:function(){return G(this).collection.size}})}return Hq(L,a,!1,!0),D[a]=L,Dq({global:!0,forced:!0},D),y||p.setStrong(L,a,v),L},Xq=un,Jq=function(a,h,p){for(var v in h)p&&p.unsafe&&a[v]?a[v]=h[v]:Xq(a,v,h[v],p);return a},Qq=Cs,Zq=Zt,ID=Jq,e3=Oo,t3=UI,r3=ve,i3=ce,n3=Xv,gI=Jv,o3=I$,Bx=gt,PD=SD.fastKey,CD=Ms,AD=CD.set,bP=CD.getterFor,RD={getConstructor:function(a,h,p,v){var y=a(function(L,q){t3(L,x),AD(L,{type:h,index:Qq(null),first:void 0,last:void 0,size:0}),Bx||(L.size=0),r3(q)||i3(q,L[v],{that:L,AS_ENTRIES:p})}),x=y.prototype,R=bP(h),M=function(L,q,G){var H=R(L),X=D(L,q),Ce,Ye;return X?X.value=G:(H.last=X={index:Ye=PD(q,!0),key:q,value:G,previous:Ce=H.last,next:void 0,removed:!1},H.first||(H.first=X),Ce&&(Ce.next=X),Bx?H.size++:L.size++,Ye!=="F"&&(H.index[Ye]=X)),L},D=function(L,q){var G=R(L),H=PD(q),X;if(H!=="F")return G.index[H];for(X=G.first;X;X=X.next)if(X.key===q)return X};return ID(x,{clear:function(){for(var q=this,G=R(q),H=G.index,X=G.first;X;)X.removed=!0,X.previous&&(X.previous=X.previous.next=void 0),delete H[X.index],X=X.next;G.first=G.last=void 0,Bx?G.size=0:q.size=0},delete:function(L){var q=this,G=R(q),H=D(q,L);if(H){var X=H.next,Ce=H.previous;delete G.index[H.index],H.removed=!0,Ce&&(Ce.next=X),X&&(X.previous=Ce),G.first===H&&(G.first=X),G.last===H&&(G.last=Ce),Bx?G.size--:q.size--}return!!H},forEach:function(q){for(var G=R(this),H=e3(q,arguments.length>1?arguments[1]:void 0),X;X=X?X.next:G.first;)for(H(X.value,X.key,this);X&&X.removed;)X=X.previous},has:function(q){return!!D(this,q)}}),ID(x,p?{get:function(q){var G=D(this,q);return G&&G.value},set:function(q,G){return M(this,q===0?0:q,G)}}:{add:function(q){return M(this,q=q===0?0:q,q)}}),Bx&&Zq(x,"size",{configurable:!0,get:function(){return R(this).size}}),y},setStrong:function(a,h,p){var v=h+" Iterator",y=bP(h),x=bP(v);n3(a,h,function(R,M){AD(this,{type:v,target:R,state:y(R),kind:M,last:void 0})},function(){for(var R=x(this),M=R.kind,D=R.last;D&&D.removed;)D=D.previous;return!R.target||!(R.last=D=D?D.next:R.state.first)?(R.target=void 0,gI(void 0,!0)):gI(M==="keys"?D.key:M==="values"?D.value:[D.key,D.value],!1)},p?"entries":"values",!p,!0),o3(h)}},s3=xD,a3=RD;s3("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},a3);var u3=lt,l3=u3.Map,c3=l3,h3=c3,d3=h3,kD=T(d3),f3=Be,p3=Do.some,v3=Bi,g3=v3("some");f3({target:"Array",proto:!0,forced:!g3},{some:function(h){return p3(this,h,arguments.length>1?arguments[1]:void 0)}});var y3=er,m3=y3("Array","some"),b3=vt,_3=m3,_P=Array.prototype,w3=function(a){var h=a.some;return a===_P||b3(_P,a)&&h===_P.some?_3:h},O3=w3,E3=O3,S3=E3,T3=T(S3),x3=er,I3=x3("Array","keys"),P3=I3,C3=P3,A3=Jn,R3=Lt,k3=vt,$3=C3,wP=Array.prototype,D3={DOMTokenList:!0,NodeList:!0},M3=function(a){var h=a.keys;return a===wP||k3(wP,a)&&h===wP.keys||R3(D3,A3(a))?$3:h},j3=M3,Am=T(j3),$D=Mt,N3=Math.floor,OP=function(a,h){var p=a.length,v=N3(p/2);return p<8?F3(a,h):L3(a,OP($D(a,0,v),h),OP($D(a,v),h),h)},F3=function(a,h){for(var p=a.length,v=1,y,x;v<p;){for(x=v,y=a[v];x&&h(a[x-1],y)>0;)a[x]=a[--x];x!==v++&&(a[x]=y)}return a},L3=function(a,h,p,v){for(var y=h.length,x=p.length,R=0,M=0;R<y||M<x;)a[R+M]=R<y&&M<x?v(h[R],p[M])<=0?h[R++]:p[M++]:R<y?h[R++]:p[M++];return a},B3=OP,z3=wn,DD=z3.match(/firefox\/(\d+)/i),q3=!!DD&&+DD[1],W3=wn,H3=/MSIE|Trident/.test(W3),U3=wn,MD=U3.match(/AppleWebKit\/(\d+)\./),G3=!!MD&&+MD[1],V3=Be,jD=we,K3=ri,Y3=Tr,ND=fi,X3=my,FD=$i,EP=B,J3=B3,Q3=Bi,LD=q3,Z3=H3,BD=Ta,zD=G3,Zf=[],qD=jD(Zf.sort),e5=jD(Zf.push),t5=EP(function(){Zf.sort(void 0)}),r5=EP(function(){Zf.sort(null)}),i5=Q3("sort"),WD=!EP(function(){if(BD)return BD<70;if(!(LD&&LD>3)){if(Z3)return!0;if(zD)return zD<603;var a="",h,p,v,y;for(h=65;h<76;h++){switch(p=String.fromCharCode(h),h){case 66:case 69:case 70:case 72:v=3;break;case 68:case 71:v=4;break;default:v=2}for(y=0;y<47;y++)Zf.push({k:p+y,v})}for(Zf.sort(function(x,R){return R.v-x.v}),y=0;y<Zf.length;y++)p=Zf[y].k.charAt(0),a.charAt(a.length-1)!==p&&(a+=p);return a!=="DGBEFHACIJK"}}),n5=t5||!r5||!i5||!WD,o5=function(a){return function(h,p){return p===void 0?-1:h===void 0?1:a!==void 0?+a(h,p)||0:FD(h)>FD(p)?1:-1}};V3({target:"Array",proto:!0,forced:n5},{sort:function(h){h!==void 0&&K3(h);var p=Y3(this);if(WD)return h===void 0?qD(p):qD(p,h);var v=[],y=ND(p),x,R;for(R=0;R<y;R++)R in p&&e5(v,p[R]);for(J3(v,o5(h)),x=ND(v),R=0;R<x;)p[R]=v[R++];for(;R<y;)X3(p,R++);return p}});var s5=er,a5=s5("Array","sort"),u5=vt,l5=a5,SP=Array.prototype,c5=function(a){var h=a.sort;return a===SP||u5(SP,a)&&h===SP.sort?l5:h},h5=c5,d5=h5,f5=d5,TP=T(f5),p5=er,v5=p5("Array","values"),g5=v5,y5=g5,m5=Jn,b5=Lt,_5=vt,w5=y5,xP=Array.prototype,O5={DOMTokenList:!0,NodeList:!0},E5=function(a){var h=a.values;return a===xP||_5(xP,a)&&h===xP.values||b5(O5,m5(a))?w5:h},S5=E5,HD=T(S5),T5=Y0,Rm=T(T5),x5=er,I5=x5("Array","entries"),P5=I5,C5=P5,A5=Jn,R5=Lt,k5=vt,$5=C5,IP=Array.prototype,D5={DOMTokenList:!0,NodeList:!0},M5=function(a){var h=a.entries;return a===IP||k5(IP,a)&&h===IP.entries||R5(D5,A5(a))?$5:h},j5=M5,N5=T(j5);let yI;const F5=new Uint8Array(16);function L5(){if(!yI&&(yI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yI(F5)}const Oi=[];for(let a=0;a<256;++a)Oi.push((a+256).toString(16).slice(1));function B5(a,h=0){return Oi[a[h+0]]+Oi[a[h+1]]+Oi[a[h+2]]+Oi[a[h+3]]+"-"+Oi[a[h+4]]+Oi[a[h+5]]+"-"+Oi[a[h+6]]+Oi[a[h+7]]+"-"+Oi[a[h+8]]+Oi[a[h+9]]+"-"+Oi[a[h+10]]+Oi[a[h+11]]+Oi[a[h+12]]+Oi[a[h+13]]+Oi[a[h+14]]+Oi[a[h+15]]}var UD={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function z5(a,h,p){if(UD.randomUUID&&!a)return UD.randomUUID();a=a||{};const v=a.random||(a.rng||L5)();return v[6]=v[6]&15|64,v[8]=v[8]&63|128,B5(v)}function PP(a){return typeof a=="string"||typeof a=="number"}var GD=function(){function a(h){O(this,a),qt(this,"_queue",[]),qt(this,"_timeout",null),qt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(h)}return qo(a,[{key:"setOptions",value:function(p){p&&typeof p.delay<"u"&&(this.delay=p.delay),p&&typeof p.max<"u"&&(this.max=p.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var p=this._extended.object,v=this._extended.methods,y=0;y<v.length;y++){var x=v[y];x.original?p[x.name]=x.original:delete p[x.name]}this._extended=null}}},{key:"replace",value:function(p,v){var y=this,x=p[v];if(!x)throw new Error("Method "+v+" undefined");p[v]=function(){for(var R=arguments.length,M=new Array(R),D=0;D<R;D++)M[D]=arguments[D];y.queue({args:M,fn:x,context:this})}}},{key:"queue",value:function(p){typeof p=="function"?this._queue.push({fn:p}):this._queue.push(p),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var p=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Pu(function(){p.flush()},this.delay))}},{key:"flush",value:function(){var p,v;Kr(p=Sy(v=this._queue).call(v,0)).call(p,function(y){y.fn.apply(y.context||y.fn,y.args||[])})}}],[{key:"extend",value:function(p,v){var y=new a(v);if(p.flush!==void 0)throw new Error("Target object already has a property flush");p.flush=function(){y.flush()};var x=[{name:"flush",original:void 0}];if(v&&v.replace)for(var R=0;R<v.replace.length;R++){var M=v.replace[R];x.push({name:M,original:p[M]}),y.replace(p,M)}return y._extended={object:p,methods:x},y}}]),a}(),VD=function(){function a(){O(this,a),qt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),qt(this,"subscribe",a.prototype.on),qt(this,"unsubscribe",a.prototype.off)}return qo(a,[{key:"_trigger",value:function(p,v,y){var x,R;if(p==="*")throw new Error("Cannot trigger event *");Kr(x=yc(R=[]).call(R,Rr(this._subscribers[p]),Rr(this._subscribers["*"]))).call(x,function(M){M(p,v,y??null)})}},{key:"on",value:function(p,v){typeof v=="function"&&this._subscribers[p].push(v)}},{key:"off",value:function(p,v){var y;this._subscribers[p]=hr(y=this._subscribers[p]).call(y,function(x){return x!==v})}}]),a}(),q5=xD,W5=RD;q5("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},W5);var H5=lt,U5=H5.Set,G5=U5,V5=G5,K5=V5,mI=T(K5),Y5=na,X5=Y5,J5=X5,Q5=J5,Z5=Q5,eW=Z5,tW=eW,rW=tW,iW=rW,nW=iW,CP=T(nW);function Ku(a,h){var p=typeof gc<"u"&&gu(a)||a["@@iterator"];if(!p){if(Vr(a)||(p=oW(a))||h){p&&(a=p);var v=0,y=function(){};return{s:y,n:function(){return v>=a.length?{done:!0}:{done:!1,value:a[v++]}},e:function(L){throw L},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,R=!1,M;return{s:function(){p=p.call(a)},n:function(){var L=p.next();return x=L.done,L},e:function(L){R=!0,M=L},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(R)throw M}}}}function oW(a,h){var p;if(a){if(typeof a=="string")return KD(a,h);var v=mc(p=Object.prototype.toString.call(a)).call(p,8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Wi(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return KD(a,h)}}function KD(a,h){(h==null||h>a.length)&&(h=a.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=a[p];return v}var AP=function(a){function h(p){O(this,h),this._pairs=p}return qo(h,[{key:a,value:Wn.mark(function p(){var v,y,x,R,M;return Wn.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:v=Ku(this._pairs),L.prev=1,v.s();case 3:if((y=v.n()).done){L.next=9;break}return x=ui(y.value,2),R=x[0],M=x[1],L.next=7,[R,M];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),v.e(L.t0);case 14:return L.prev=14,v.f(),L.finish(14);case 17:case"end":return L.stop()}},p,this,[[1,11,14,17]])})},{key:"entries",value:Wn.mark(function p(){var v,y,x,R,M;return Wn.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:v=Ku(this._pairs),L.prev=1,v.s();case 3:if((y=v.n()).done){L.next=9;break}return x=ui(y.value,2),R=x[0],M=x[1],L.next=7,[R,M];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),v.e(L.t0);case 14:return L.prev=14,v.f(),L.finish(14);case 17:case"end":return L.stop()}},p,this,[[1,11,14,17]])})},{key:"keys",value:Wn.mark(function p(){var v,y,x,R;return Wn.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:v=Ku(this._pairs),D.prev=1,v.s();case 3:if((y=v.n()).done){D.next=9;break}return x=ui(y.value,1),R=x[0],D.next=7,R;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),v.e(D.t0);case 14:return D.prev=14,v.f(),D.finish(14);case 17:case"end":return D.stop()}},p,this,[[1,11,14,17]])})},{key:"values",value:Wn.mark(function p(){var v,y,x,R;return Wn.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:v=Ku(this._pairs),D.prev=1,v.s();case 3:if((y=v.n()).done){D.next=9;break}return x=ui(y.value,2),R=x[1],D.next=7,R;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),v.e(D.t0);case 14:return D.prev=14,v.f(),D.finish(14);case 17:case"end":return D.stop()}},p,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var v;return si(v=Rr(this._pairs)).call(v,function(y){return y[0]})}},{key:"toItemArray",value:function(){var v;return si(v=Rr(this._pairs)).call(v,function(y){return y[1]})}},{key:"toEntryArray",value:function(){return Rr(this._pairs)}},{key:"toObjectMap",value:function(){var v=gf(null),y=Ku(this._pairs),x;try{for(y.s();!(x=y.n()).done;){var R=ui(x.value,2),M=R[0],D=R[1];v[M]=D}}catch(L){y.e(L)}finally{y.f()}return v}},{key:"toMap",value:function(){return new kD(this._pairs)}},{key:"toIdSet",value:function(){return new mI(this.toIdArray())}},{key:"toItemSet",value:function(){return new mI(this.toItemArray())}},{key:"cache",value:function(){return new h(Rr(this._pairs))}},{key:"distinct",value:function(v){var y=new mI,x=Ku(this._pairs),R;try{for(x.s();!(R=x.n()).done;){var M=ui(R.value,2),D=M[0],L=M[1];y.add(v(L,D))}}catch(q){x.e(q)}finally{x.f()}return y}},{key:"filter",value:function(v){var y=this._pairs;return new h({[Rm](){return Wn.mark(function x(){var R,M,D,L,q;return Wn.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:R=Ku(y),H.prev=1,R.s();case 3:if((M=R.n()).done){H.next=10;break}if(D=ui(M.value,2),L=D[0],q=D[1],!v(q,L)){H.next=8;break}return H.next=8,[L,q];case 8:H.next=3;break;case 10:H.next=15;break;case 12:H.prev=12,H.t0=H.catch(1),R.e(H.t0);case 15:return H.prev=15,R.f(),H.finish(15);case 18:case"end":return H.stop()}},x,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(v){var y=Ku(this._pairs),x;try{for(y.s();!(x=y.n()).done;){var R=ui(x.value,2),M=R[0],D=R[1];v(D,M)}}catch(L){y.e(L)}finally{y.f()}}},{key:"map",value:function(v){var y=this._pairs;return new h({[Rm](){return Wn.mark(function x(){var R,M,D,L,q;return Wn.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:R=Ku(y),H.prev=1,R.s();case 3:if((M=R.n()).done){H.next=9;break}return D=ui(M.value,2),L=D[0],q=D[1],H.next=7,[L,v(q,L)];case 7:H.next=3;break;case 9:H.next=14;break;case 11:H.prev=11,H.t0=H.catch(1),R.e(H.t0);case 14:return H.prev=14,R.f(),H.finish(14);case 17:case"end":return H.stop()}},x,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(v){var y=CP(this._pairs),x=y.next();if(x.done)return null;for(var R=x.value[1],M=v(x.value[1],x.value[0]);!(x=y.next()).done;){var D=ui(x.value,2),L=D[0],q=D[1],G=v(q,L);G>M&&(M=G,R=q)}return R}},{key:"min",value:function(v){var y=CP(this._pairs),x=y.next();if(x.done)return null;for(var R=x.value[1],M=v(x.value[1],x.value[0]);!(x=y.next()).done;){var D=ui(x.value,2),L=D[0],q=D[1],G=v(q,L);G<M&&(M=G,R=q)}return R}},{key:"reduce",value:function(v,y){var x=Ku(this._pairs),R;try{for(x.s();!(R=x.n()).done;){var M=ui(R.value,2),D=M[0],L=M[1];y=v(y,L,D)}}catch(q){x.e(q)}finally{x.f()}return y}},{key:"sort",value:function(v){var y=this;return new h({[Rm]:function(){var x;return CP(TP(x=Rr(y._pairs)).call(x,function(R,M){var D=ui(R,2),L=D[0],q=D[1],G=ui(M,2),H=G[0],X=G[1];return v(q,X,L,H)}))}})}}]),h}(Rm);function YD(a,h){var p=nf(a);if(Uc){var v=Uc(a);h&&(v=hr(v).call(v,function(y){return ym(a,y).enumerable})),p.push.apply(p,v)}return p}function XD(a){for(var h=1;h<arguments.length;h++){var p,v,y=arguments[h]!=null?arguments[h]:{};h%2?Kr(p=YD(Object(y),!0)).call(p,function(x){qt(a,x,y[x])}):S1?Ix(a,S1(y)):Kr(v=YD(Object(y))).call(v,function(x){A1(a,x,ym(y,x))})}return a}function RP(a,h){var p=typeof gc<"u"&&gu(a)||a["@@iterator"];if(!p){if(Vr(a)||(p=sW(a))||h){p&&(a=p);var v=0,y=function(){};return{s:y,n:function(){return v>=a.length?{done:!0}:{done:!1,value:a[v++]}},e:function(L){throw L},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,R=!1,M;return{s:function(){p=p.call(a)},n:function(){var L=p.next();return x=L.done,L},e:function(L){R=!0,M=L},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(R)throw M}}}}function sW(a,h){var p;if(a){if(typeof a=="string")return JD(a,h);var v=mc(p=Object.prototype.toString.call(a)).call(p,8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Wi(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return JD(a,h)}}function JD(a,h){(h==null||h>a.length)&&(h=a.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=a[p];return v}function aW(a){var h=uW();return function(){var v=A(a),y;if(h){var x=A(this).constructor;y=ls(v,arguments,x)}else y=v.apply(this,arguments);return r(this,y)}}function uW(){if(typeof Reflect>"u"||!ls||ls.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ls(Boolean,[],function(){})),!0}catch{return!1}}function lW(a,h){return a[h]==null&&(a[h]=z5()),a}var QD=function(a){t(p,a);var h=aW(p);function p(v,y){var x;return O(this,p),x=h.call(this),qt(Hu(x),"_queue",null),v&&!Vr(v)&&(y=v,v=[]),x._options=y||{},x._data=new kD,x.length=0,x._idProp=x._options.fieldId||"id",v&&v.length&&x.add(v),x.setOptions(y),x}return qo(p,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(y){y&&y.queue!==void 0&&(y.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=GD.extend(this,{replace:["add","update","remove"]})),y.queue&&typeof y.queue=="object"&&this._queue.setOptions(y.queue)))}},{key:"add",value:function(y,x){var R=this,M=[],D;if(Vr(y)){var L=si(y).call(y,function(H){return H[R._idProp]});if(T3(L).call(L,function(H){return R._data.has(H)}))throw new Error("A duplicate id was found in the parameter array.");for(var q=0,G=y.length;q<G;q++)D=this._addItem(y[q]),M.push(D)}else if(y&&typeof y=="object")D=this._addItem(y),M.push(D);else throw new Error("Unknown dataType");return M.length&&this._trigger("add",{items:M},x),M}},{key:"update",value:function(y,x){var R=this,M=[],D=[],L=[],q=[],G=this._idProp,H=function(at){var ht=at[G];if(ht!=null&&R._data.has(ht)){var Zr=at,sr=pf({},R._data.get(ht)),Ei=R._updateItem(Zr);D.push(Ei),q.push(Zr),L.push(sr)}else{var ar=R._addItem(at);M.push(ar)}};if(Vr(y))for(var X=0,Ce=y.length;X<Ce;X++)y[X]&&typeof y[X]=="object"?H(y[X]):console.warn("Ignoring input item, which is not an object at index "+X);else if(y&&typeof y=="object")H(y);else throw new Error("Unknown dataType");if(M.length&&this._trigger("add",{items:M},x),D.length){var Ye={items:D,oldData:L,data:q};this._trigger("update",Ye,x)}return yc(M).call(M,D)}},{key:"updateOnly",value:function(y,x){var R,M=this;Vr(y)||(y=[y]);var D=si(R=si(y).call(y,function(q){var G=M._data.get(q[M._idProp]);if(G==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:G,update:q}})).call(R,function(q){var G=q.oldData,H=q.update,X=G[M._idProp],Ce=h1(G,H);return M._data.set(X,Ce),{id:X,oldData:G,updatedData:Ce}});if(D.length){var L={items:si(D).call(D,function(q){return q.id}),oldData:si(D).call(D,function(q){return q.oldData}),data:si(D).call(D,function(q){return q.updatedData})};return this._trigger("update",L,x),L.items}else return[]}},{key:"get",value:function(y,x){var R=void 0,M=void 0,D=void 0;PP(y)?(R=y,D=x):Vr(y)?(M=y,D=x):D=y;var L=D&&D.returnType==="Object"?"Object":"Array",q=D&&hr(D),G=[],H=void 0,X=void 0,Ce=void 0;if(R!=null)H=this._data.get(R),H&&q&&!q(H)&&(H=void 0);else if(M!=null)for(var Ye=0,Je=M.length;Ye<Je;Ye++)H=this._data.get(M[Ye]),H!=null&&(!q||q(H))&&G.push(H);else{var at;X=Rr(Am(at=this._data).call(at));for(var ht=0,Zr=X.length;ht<Zr;ht++)Ce=X[ht],H=this._data.get(Ce),H!=null&&(!q||q(H))&&G.push(H)}if(D&&D.order&&R==null&&this._sort(G,D.order),D&&D.fields){var sr=D.fields;if(R!=null&&H!=null)H=this._filterFields(H,sr);else for(var Ei=0,ar=G.length;Ei<ar;Ei++)G[Ei]=this._filterFields(G[Ei],sr)}if(L=="Object"){for(var Zc={},vo=0,ep=G.length;vo<ep;vo++){var W1=G[vo],tp=W1[this._idProp];Zc[tp]=W1}return Zc}else if(R!=null){var Yu;return(Yu=H)!==null&&Yu!==void 0?Yu:null}else return G}},{key:"getIds",value:function(y){var x=this._data,R=y&&hr(y),M=y&&y.order,D=Rr(Am(x).call(x)),L=[];if(R)if(M){for(var q=[],G=0,H=D.length;G<H;G++){var X=D[G],Ce=this._data.get(X);Ce!=null&&R(Ce)&&q.push(Ce)}this._sort(q,M);for(var Ye=0,Je=q.length;Ye<Je;Ye++)L.push(q[Ye][this._idProp])}else for(var at=0,ht=D.length;at<ht;at++){var Zr=D[at],sr=this._data.get(Zr);sr!=null&&R(sr)&&L.push(sr[this._idProp])}else if(M){for(var Ei=[],ar=0,Zc=D.length;ar<Zc;ar++){var vo=D[ar];Ei.push(x.get(vo))}this._sort(Ei,M);for(var ep=0,W1=Ei.length;ep<W1;ep++)L.push(Ei[ep][this._idProp])}else for(var tp=0,Yu=D.length;tp<Yu;tp++){var ds=D[tp],H1=x.get(ds);H1!=null&&L.push(H1[this._idProp])}return L}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(y,x){var R=x&&hr(x),M=this._data,D=Rr(Am(M).call(M));if(x&&x.order)for(var L=this.get(x),q=0,G=L.length;q<G;q++){var H=L[q],X=H[this._idProp];y(H,X)}else for(var Ce=0,Ye=D.length;Ce<Ye;Ce++){var Je=D[Ce],at=this._data.get(Je);at!=null&&(!R||R(at))&&y(at,Je)}}},{key:"map",value:function(y,x){for(var R=x&&hr(x),M=[],D=this._data,L=Rr(Am(D).call(D)),q=0,G=L.length;q<G;q++){var H=L[q],X=this._data.get(H);X!=null&&(!R||R(X))&&M.push(y(X,H))}return x&&x.order&&this._sort(M,x.order),M}},{key:"_filterFields",value:function(y,x){var R;return y&&Uo(R=Vr(x)?x:nf(x)).call(R,function(M,D){return M[D]=y[D],M},{})}},{key:"_sort",value:function(y,x){if(typeof x=="string"){var R=x;TP(y).call(y,function(M,D){var L=M[R],q=D[R];return L>q?1:L<q?-1:0})}else if(typeof x=="function")TP(y).call(y,x);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(y,x){for(var R=[],M=[],D=Vr(y)?y:[y],L=0,q=D.length;L<q;L++){var G=this._remove(D[L]);if(G){var H=G[this._idProp];H!=null&&(R.push(H),M.push(G))}}return R.length&&this._trigger("remove",{items:R,oldData:M},x),R}},{key:"_remove",value:function(y){var x;if(PP(y)?x=y:y&&typeof y=="object"&&(x=y[this._idProp]),x!=null&&this._data.has(x)){var R=this._data.get(x)||null;return this._data.delete(x),--this.length,R}return null}},{key:"clear",value:function(y){for(var x,R=Rr(Am(x=this._data).call(x)),M=[],D=0,L=R.length;D<L;D++)M.push(this._data.get(R[D]));return this._data.clear(),this.length=0,this._trigger("remove",{items:R,oldData:M},y),R}},{key:"max",value:function(y){var x,R=null,M=null,D=RP(HD(x=this._data).call(x)),L;try{for(D.s();!(L=D.n()).done;){var q=L.value,G=q[y];typeof G=="number"&&(M==null||G>M)&&(R=q,M=G)}}catch(H){D.e(H)}finally{D.f()}return R||null}},{key:"min",value:function(y){var x,R=null,M=null,D=RP(HD(x=this._data).call(x)),L;try{for(D.s();!(L=D.n()).done;){var q=L.value,G=q[y];typeof G=="number"&&(M==null||G<M)&&(R=q,M=G)}}catch(H){D.e(H)}finally{D.f()}return R||null}},{key:"distinct",value:function(y){for(var x=this._data,R=Rr(Am(x).call(x)),M=[],D=0,L=0,q=R.length;L<q;L++){for(var G=R[L],H=x.get(G),X=H[y],Ce=!1,Ye=0;Ye<D;Ye++)if(M[Ye]==X){Ce=!0;break}!Ce&&X!==void 0&&(M[D]=X,D++)}return M}},{key:"_addItem",value:function(y){var x=lW(y,this._idProp),R=x[this._idProp];if(this._data.has(R))throw new Error("Cannot add item: item with id "+R+" already exists");return this._data.set(R,x),++this.length,R}},{key:"_updateItem",value:function(y){var x=y[this._idProp];if(x==null)throw new Error("Cannot update item: item has no id (item: "+pn(y)+")");var R=this._data.get(x);if(!R)throw new Error("Cannot update item: no item with id "+x+" found");return this._data.set(x,XD(XD({},R),y)),x}},{key:"stream",value:function(y){if(y){var x=this._data;return new AP({[Rm](){return Wn.mark(function M(){var D,L,q,G;return Wn.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:D=RP(y),X.prev=1,D.s();case 3:if((L=D.n()).done){X.next=11;break}if(q=L.value,G=x.get(q),G==null){X.next=9;break}return X.next=9,[q,G];case 9:X.next=3;break;case 11:X.next=16;break;case 13:X.prev=13,X.t0=X.catch(1),D.e(X.t0);case 16:return X.prev=16,D.f(),X.finish(16);case 19:case"end":return X.stop()}},M,null,[[1,13,16,19]])})()}})}else{var R;return new AP({[Rm]:Vs(R=N5(this._data)).call(R,this._data)})}}}]),p}(VD);function cW(a,h){var p=typeof gc<"u"&&gu(a)||a["@@iterator"];if(!p){if(Vr(a)||(p=hW(a))||h){p&&(a=p);var v=0,y=function(){};return{s:y,n:function(){return v>=a.length?{done:!0}:{done:!1,value:a[v++]}},e:function(L){throw L},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,R=!1,M;return{s:function(){p=p.call(a)},n:function(){var L=p.next();return x=L.done,L},e:function(L){R=!0,M=L},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(R)throw M}}}}function hW(a,h){var p;if(a){if(typeof a=="string")return ZD(a,h);var v=mc(p=Object.prototype.toString.call(a)).call(p,8,-1);if(v==="Object"&&a.constructor&&(v=a.constructor.name),v==="Map"||v==="Set")return Wi(a);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return ZD(a,h)}}function ZD(a,h){(h==null||h>a.length)&&(h=a.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=a[p];return v}function dW(a){var h=fW();return function(){var v=A(a),y;if(h){var x=A(this).constructor;y=ls(v,arguments,x)}else y=v.apply(this,arguments);return r(this,y)}}function fW(){if(typeof Reflect>"u"||!ls||ls.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ls(Boolean,[],function(){})),!0}catch{return!1}}var pW=function(a){t(p,a);var h=dW(p);function p(v,y){var x,R;return O(this,p),R=h.call(this),qt(Hu(R),"length",0),qt(Hu(R),"_ids",new mI),R._options=y||{},R._listener=Vs(x=R._onEvent).call(x,Hu(R)),R.setData(v),R}return qo(p,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(y){if(this._data){this._data.off&&this._data.off("*",this._listener);var x=this._data.getIds({filter:hr(this._options)}),R=this._data.get(x);this._ids.clear(),this.length=0,this._trigger("remove",{items:x,oldData:R})}if(y!=null){this._data=y;for(var M=this._data.getIds({filter:hr(this._options)}),D=0,L=M.length;D<L;D++){var q=M[D];this._ids.add(q)}this.length=M.length,this._trigger("add",{items:M})}else this._data=new QD;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var y=this._data.getIds({filter:hr(this._options)}),x=Rr(this._ids),R={},M=[],D=[],L=[],q=0,G=y.length;q<G;q++){var H=y[q];R[H]=!0,this._ids.has(H)||(M.push(H),this._ids.add(H))}for(var X=0,Ce=x.length;X<Ce;X++){var Ye=x[X],Je=this._data.get(Ye);Je==null?console.error("If you see this, report it please."):R[Ye]||(D.push(Ye),L.push(Je),this._ids.delete(Ye))}this.length+=M.length-D.length,M.length&&this._trigger("add",{items:M}),D.length&&this._trigger("remove",{items:D,oldData:L})}},{key:"get",value:function(y,x){if(this._data==null)return null;var R=null,M;PP(y)||Vr(y)?(R=y,M=x):M=y;var D=pf({},this._options,M),L=hr(this._options),q=M&&hr(M);return L&&q&&(D.filter=function(G){return L(G)&&q(G)}),R==null?this._data.get(D):this._data.get(R,D)}},{key:"getIds",value:function(y){if(this._data.length){var x=hr(this._options),R=y!=null?hr(y):null,M;return R?x?M=function(L){return x(L)&&R(L)}:M=R:M=x,this._data.getIds({filter:M,order:y&&y.order})}else return[]}},{key:"forEach",value:function(y,x){if(this._data){var R,M=hr(this._options),D=x&&hr(x),L;D?M?L=function(G){return M(G)&&D(G)}:L=D:L=M,Kr(R=this._data).call(R,y,{filter:L,order:x&&x.order})}}},{key:"map",value:function(y,x){if(this._data){var R,M=hr(this._options),D=x&&hr(x),L;return D?M?L=function(G){return M(G)&&D(G)}:L=D:L=M,si(R=this._data).call(R,y,{filter:L,order:x&&x.order})}else return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(y){var x;return this._data.stream(y||{[Rm]:Vs(x=Am(this._ids)).call(x,this._ids)})}},{key:"dispose",value:function(){var y;(y=this._data)!==null&&y!==void 0&&y.off&&this._data.off("*",this._listener);var x="This data view has already been disposed of.",R={get:function(){throw new Error(x)},set:function(){throw new Error(x)},configurable:!1},M=cW(hy(p.prototype)),D;try{for(M.s();!(D=M.n()).done;){var L=D.value;A1(this,L,R)}}catch(q){M.e(q)}finally{M.f()}}},{key:"_onEvent",value:function(y,x,R){if(!(!x||!x.items||!this._data)){var M=x.items,D=[],L=[],q=[],G=[],H=[],X=[];switch(y){case"add":for(var Ce=0,Ye=M.length;Ce<Ye;Ce++){var Je=M[Ce],at=this.get(Je);at&&(this._ids.add(Je),D.push(Je))}break;case"update":for(var ht=0,Zr=M.length;ht<Zr;ht++){var sr=M[ht],Ei=this.get(sr);Ei?this._ids.has(sr)?(L.push(sr),H.push(x.data[ht]),G.push(x.oldData[ht])):(this._ids.add(sr),D.push(sr)):this._ids.has(sr)&&(this._ids.delete(sr),q.push(sr),X.push(x.oldData[ht]))}break;case"remove":for(var ar=0,Zc=M.length;ar<Zc;ar++){var vo=M[ar];this._ids.has(vo)&&(this._ids.delete(vo),q.push(vo),X.push(x.oldData[ar]))}break}this.length+=D.length-q.length,D.length&&this._trigger("add",{items:D},R),L.length&&this._trigger("update",{items:L,oldData:G,data:H},R),q.length&&this._trigger("remove",{items:q,oldData:X},R)}}}]),p}(VD);function eM(a,h){return typeof h=="object"&&h!==null&&a===h.idProp&&typeof h.add=="function"&&typeof h.clear=="function"&&typeof h.distinct=="function"&&typeof Kr(h)=="function"&&typeof h.get=="function"&&typeof h.getDataSet=="function"&&typeof h.getIds=="function"&&typeof h.length=="number"&&typeof si(h)=="function"&&typeof h.max=="function"&&typeof h.min=="function"&&typeof h.off=="function"&&typeof h.on=="function"&&typeof h.remove=="function"&&typeof h.setOptions=="function"&&typeof h.stream=="function"&&typeof h.update=="function"&&typeof h.updateOnly=="function"}function vW(a,h){return typeof h=="object"&&h!==null&&a===h.idProp&&typeof Kr(h)=="function"&&typeof h.get=="function"&&typeof h.getDataSet=="function"&&typeof h.getIds=="function"&&typeof h.length=="number"&&typeof si(h)=="function"&&typeof h.off=="function"&&typeof h.on=="function"&&typeof h.stream=="function"&&eM(a,h.getDataSet())}m.DELETE=im,m.DataSet=QD,m.DataStream=AP,m.DataView=pW,m.Queue=GD,m.createNewDataPipeFrom=VS,m.isDataSetLike=eM,m.isDataViewLike=vW})}(Gx,Gx.exports)),Gx.exports}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.13
 * @date    2025-06-28T12:43:17.849Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var XH=Ux.exports,OF;function JH(){return OF||(OF=1,function(b,S){(function(m,O){O(S,YH())})(XH,function(m,O){var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xu<"u"?Xu:typeof self<"u"?self:{};function T(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $=function(i){return i&&i.Math===Math&&i},F=$(typeof globalThis=="object"&&globalThis)||$(typeof window=="object"&&window)||$(typeof self=="object"&&self)||$(typeof E=="object"&&E)||function(){return this}()||E||Function("return this")(),j=function(i){try{return!!i()}catch{return!0}},B=!j(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),U=B,K=Function.prototype,V=K.apply,Y=K.call,Z=typeof Reflect=="object"&&Reflect.apply||(U?Y.bind(V):function(){return Y.apply(V,arguments)}),se=B,ne=Function.prototype,_e=ne.call,le=se&&ne.bind.bind(_e,_e),ie=se?le:function(i){return function(){return _e.apply(i,arguments)}},te=ie,we=te({}.toString),oe=te("".slice),ee=function(i){return oe(we(i),8,-1)},Te=ee,he=ie,Ae=function(i){if(Te(i)==="Function")return he(i)},xe=typeof document=="object"&&document.all,Ve={all:xe,IS_HTMLDDA:xe===void 0&&xe!==void 0},it=Ve.all,Ze=Ve.IS_HTMLDDA?function(i){return typeof i=="function"||i===it}:function(i){return typeof i=="function"},Fe={},je=!j(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),et=B,Ue=Function.prototype.call,dt=et?Ue.bind(Ue):function(){return Ue.apply(Ue,arguments)},ft={},gt={}.propertyIsEnumerable,rn=Object.getOwnPropertyDescriptor,ur=rn&&!gt.call({1:2},1);ft.f=ur?function(i){var e=rn(this,i);return!!e&&e.enumerable}:gt;var ut,Ft,Or=function(i,e){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:e}},Er=j,Vn=ee,Sr=Object,nn=ie("".split),Ti=Er(function(){return!Sr("z").propertyIsEnumerable(0)})?function(i){return Vn(i)==="String"?nn(i,""):Sr(i)}:Sr,vr=function(i){return i==null},_t=vr,xi=TypeError,fe=function(i){if(_t(i))throw new xi("Can't call method on "+i);return i},ve=Ti,ae=fe,$e=function(i){return ve(ae(i))},Le=Ze,Xt=Ve.all,pt=Ve.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:Le(i)||i===Xt}:function(i){return typeof i=="object"?i!==null:Le(i)},Ie={},ze=Ie,ei=F,_n=Ze,Jt=function(i){return _n(i)?i:void 0},lt=function(i,e){return arguments.length<2?Jt(ze[i])||Jt(ei[i]):ze[i]&&ze[i][e]||ei[i]&&ei[i][e]},tt=ie({}.isPrototypeOf),yt=typeof navigator<"u"&&String(navigator.userAgent)||"",Ii=F,vs=yt,Ht=Ii.process,Pi=Ii.Deno,vt=Ht&&Ht.versions||Pi&&Pi.version,wn=vt&&vt.v8;wn&&(Ft=(ut=wn.split("."))[0]>0&&ut[0]<4?1:+(ut[0]+ut[1])),!Ft&&vs&&(!(ut=vs.match(/Edge\/(\d+)/))||ut[1]>=74)&&(ut=vs.match(/Chrome\/(\d+)/))&&(Ft=+ut[1]);var go=Ft,On=go,np=j,Nm=F.String,gs=!!Object.getOwnPropertySymbols&&!np(function(){var i=Symbol("symbol detection");return!Nm(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&On&&On<41}),yo=gs&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ci=lt,eh=Ze,Ta=tt,Fm=Object,Ju=yo?function(i){return typeof i=="symbol"}:function(i){var e=Ci("Symbol");return eh(e)&&Ta(e.prototype,Fm(i))},Qu=String,Zu=function(i){try{return Qu(i)}catch{return"Object"}},on=Ze,V1=Zu,Lm=TypeError,xa=function(i){if(on(i))return i;throw new Lm(V1(i)+" is not a function")},ti=xa,K1=vr,op=function(i,e){var t=i[e];return K1(t)?void 0:ti(t)},th=dt,ys=Ze,sp=pt,ms=TypeError,Bm={exports:{}},ap=F,zm=Object.defineProperty,ri=function(i,e){try{zm(ap,i,{value:e,configurable:!0,writable:!0})}catch{ap[i]=e}return e},qm="__core-js_shared__",rh=F[qm]||ri(qm,{}),Ia=rh;(Bm.exports=function(i,e){return Ia[i]||(Ia[i]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Kn=Bm.exports,mo=fe,up=Object,Ai=function(i){return up(mo(i))},ii=Ai,Wm=ie({}.hasOwnProperty),gr=Object.hasOwn||function(i,e){return Wm(ii(i),e)},Ut=ie,Y1=0,X1=Math.random(),J1=Ut(1 .toString),ih=function(i){return"Symbol("+(i===void 0?"":i)+")_"+J1(++Y1+X1,36)},el=Kn,Hm=gr,nh=ih,Um=gs,Pa=yo,Ca=F.Symbol,bo=el("wks"),Tr=Pa?Ca.for||Ca:Ca&&Ca.withoutSetter||nh,Gt=function(i){return Hm(bo,i)||(bo[i]=Um&&Hm(Ca,i)?Ca[i]:Tr("Symbol."+i)),bo[i]},$t=dt,Gm=pt,Lt=Ju,Vm=op,Q1=function(i,e){var t,r;if(ys(t=i.toString)&&!sp(r=th(t,i))||ys(t=i.valueOf)&&!sp(r=th(t,i)))return r;throw new ms("Can't convert object to primitive value")},Z1=TypeError,eO=Gt("toPrimitive"),oh=function(i,e){if(!Gm(i)||Lt(i))return i;var t,r=Vm(i,eO);if(r){if(t=$t(r,i,e),!Gm(t)||Lt(t))return t;throw new Z1("Can't convert object to primitive value")}return Q1(i)},tO=Ju,sh=function(i){var e=oh(i,"string");return tO(e)?e:e+""},Aa=pt,ah=F.document,lp=Aa(ah)&&Aa(ah.createElement),Km=function(i){return lp?ah.createElement(i):{}},_o=Km,uh=!je&&!j(function(){return Object.defineProperty(_o("div"),"a",{get:function(){return 7}}).a!==7}),Ym=je,Dt=dt,rO=ft,Xm=Or,Jm=$e,iO=sh,nO=gr,oO=uh,Qm=Object.getOwnPropertyDescriptor;Fe.f=Ym?Qm:function(i,e){if(i=Jm(i),e=iO(e),oO)try{return Qm(i,e)}catch{}if(nO(i,e))return Xm(!Dt(rO.f,i,e),i[e])};var Zm=j,sO=Ze,aO=/#|\.prototype\./,tl=function(i,e){var t=uO[wo(i)];return t===cp||t!==eb&&(sO(e)?Zm(e):!!e)},wo=tl.normalize=function(i){return String(i).replace(aO,".").toLowerCase()},uO=tl.data={},eb=tl.NATIVE="N",cp=tl.POLYFILL="P",lO=tl,lh=xa,cO=B,hO=Ae(Ae.bind),ch=function(i,e){return lh(i),e===void 0?i:cO?hO(i,e):function(){return i.apply(e,arguments)}},Vt={},Mr=je&&j(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),tb=pt,dO=String,fO=TypeError,Yn=function(i){if(tb(i))return i;throw new fO(dO(i)+" is not an object")},di=je,pO=uh,vO=Mr,rl=Yn,il=sh,rb=TypeError,hp=Object.defineProperty,bs=Object.getOwnPropertyDescriptor,dp="enumerable",nl="configurable",ol="writable";Vt.f=di?vO?function(i,e,t){if(rl(i),e=il(e),rl(t),typeof i=="function"&&e==="prototype"&&"value"in t&&ol in t&&!t[ol]){var r=bs(i,e);r&&r[ol]&&(i[e]=t.value,t={configurable:nl in t?t[nl]:r[nl],enumerable:dp in t?t[dp]:r[dp],writable:!1})}return hp(i,e,t)}:hp:function(i,e,t){if(rl(i),e=il(e),rl(t),pO)try{return hp(i,e,t)}catch{}if("get"in t||"set"in t)throw new rb("Accessors not supported");return"value"in t&&(i[e]=t.value),i};var fp=Vt,ib=Or,_s=je?function(i,e,t){return fp.f(i,e,ib(1,t))}:function(i,e,t){return i[e]=t,i},Ri=F,hh=Z,gO=Ae,Oo=Ze,ni=Fe.f,yO=lO,Ra=Ie,ws=ch,ka=_s,Os=gr,nb=function(i){var e=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,r)}return new i(t,r,n)}return hh(i,this,arguments)};return e.prototype=i.prototype,e},Ne=function(i,e){var t,r,n,s,c,f,w,P,A,o=i.target,u=i.global,l=i.stat,d=i.proto,g=u?Ri:l?Ri[o]:(Ri[o]||{}).prototype,_=u?Ra:Ra[o]||ka(Ra,o,{})[o],I=_.prototype;for(s in e)r=!(t=yO(u?s:o+(l?".":"#")+s,i.forced))&&g&&Os(g,s),f=_[s],r&&(w=i.dontCallGetSet?(A=ni(g,s))&&A.value:g[s]),c=r&&w?w:e[s],r&&typeof f==typeof c||(P=i.bind&&r?ws(c,Ri):i.wrap&&r?nb(c):d&&Oo(c)?gO(c):c,(i.sham||c&&c.sham||f&&f.sham)&&ka(P,"sham",!0),ka(_,s,P),d&&(Os(Ra,n=o+"Prototype")||ka(Ra,n,{}),ka(Ra[n],s,c),i.real&&I&&(t||!I[s])&&ka(I,s,c)))},qe=Math.ceil,mO=Math.floor,bO=Math.trunc||function(i){var e=+i;return(e>0?mO:qe)(e)},Eo=function(i){var e=+i;return e!=e||e===0?0:bO(e)},pp=Eo,_O=Math.max,dh=Math.min,$a=function(i,e){var t=pp(i);return t<0?_O(t+e,0):dh(t,e)},Da=Eo,vp=Math.min,En=function(i){return i>0?vp(Da(i),9007199254740991):0},Sn=function(i){return En(i.length)},wO=$e,OO=$a,ki=Sn,sl=function(i){return function(e,t,r){var n,s=wO(e),c=ki(s),f=OO(r,c);if(i&&t!=t){for(;c>f;)if((n=s[f++])!=n)return!0}else for(;c>f;f++)if((i||f in s)&&s[f]===t)return i||f||0;return!i&&-1}},gp={includes:sl(!0),indexOf:sl(!1)},al={},jr=gr,EO=$e,fh=gp.indexOf,Ma=al,ob=ie([].push),Es=function(i,e){var t,r=EO(i),n=0,s=[];for(t in r)!jr(Ma,t)&&jr(r,t)&&ob(s,t);for(;e.length>n;)jr(r,t=e[n++])&&(~fh(s,t)||ob(s,t));return s},Xn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sb=Es,Be=Xn,ul=Object.keys||function(i){return sb(i,Be)},ll={};ll.f=Object.getOwnPropertySymbols;var ja=je,SO=ie,ab=dt,TO=j,sn=ul,xO=ll,ph=ft,IO=Ai,ub=Ti,Na=Object.assign,lb=Object.defineProperty,yp=SO([].concat),vh=!Na||TO(function(){if(ja&&Na({b:1},Na(lb({},"a",{enumerable:!0,get:function(){lb(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},e={},t=Symbol("assign detection"),r="abcdefghijklmnopqrst";return i[t]=7,r.split("").forEach(function(n){e[n]=n}),Na({},i)[t]!==7||sn(Na({},e)).join("")!==r})?function(i,e){for(var t=IO(i),r=arguments.length,n=1,s=xO.f,c=ph.f;r>n;)for(var f,w=ub(arguments[n++]),P=s?yp(sn(w),s(w)):sn(w),A=P.length,o=0;A>o;)f=P[o++],ja&&!ab(c,w,f)||(t[f]=w[f]);return t}:Na,cb=vh;Ne({target:"Object",stat:!0,forced:Object.assign!==cb},{assign:cb});var wt=T(Ie.Object.assign),gh=ie([].slice),mp=ie,bp=xa,PO=pt,yh=gr,Fa=gh,hb=B,cl=Function,db=mp([].concat),fi=mp([].join),_p={},CO=hb?cl.bind:function(i){var e=bp(this),t=e.prototype,r=Fa(arguments,1),n=function(){var s=db(r,Fa(arguments));return this instanceof n?function(c,f,w){if(!yh(_p,f)){for(var P=[],A=0;A<f;A++)P[A]="a["+A+"]";_p[f]=cl("C,a","return new C("+fi(P,",")+")")}return _p[f](c,w)}(e,s.length,s):e.apply(i,s)};return PO(t)&&(n.prototype=t),n},La=CO;Ne({target:"Function",proto:!0,forced:Function.bind!==La},{bind:La});var AO=Ie,Qt=function(i){return AO[i+"Prototype"]},RO=Qt("Function").bind,Ba=tt,kO=RO,Ss=Function.prototype,fb=function(i){var e=i.bind;return i===Ss||Ba(Ss,i)&&e===Ss.bind?kO:e},de=T(fb);function wp(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function pb(i,e,t,r,n,s){const c=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(e+s,t),i.lineTo(e+r-s,t),i.arc(e+r-s,t+s,s,270*c,360*c,!1),i.lineTo(e+r,t+n-s),i.arc(e+r-s,t+n-s,s,0,90*c,!1),i.lineTo(e+s,t+n),i.arc(e+s,t+n-s,s,90*c,180*c,!1),i.lineTo(e,t+s),i.arc(e+s,t+s,s,180*c,270*c,!1),i.closePath()}function za(i,e,t,r,n){const s=.5522848,c=r/2*s,f=n/2*s,w=e+r,P=t+n,A=e+r/2,o=t+n/2;i.beginPath(),i.moveTo(e,o),i.bezierCurveTo(e,o-f,A-c,t,A,t),i.bezierCurveTo(A+c,t,w,o-f,w,o),i.bezierCurveTo(w,o+f,A+c,P,A,P),i.bezierCurveTo(A-c,P,e,o+f,e,o),i.closePath()}function vb(i,e,t,r,n){const s=n*.3333333333333333,c=.5522848,f=r/2*c,w=s/2*c,P=e+r,A=t+s,o=e+r/2,u=t+s/2,l=t+(n-s/2),d=t+n;i.beginPath(),i.moveTo(P,u),i.bezierCurveTo(P,u+w,o+f,A,o,A),i.bezierCurveTo(o-f,A,e,u+w,e,u),i.bezierCurveTo(e,u-w,o-f,t,o,t),i.bezierCurveTo(o+f,t,P,u-w,P,u),i.lineTo(P,l),i.bezierCurveTo(P,l+w,o+f,d,o,d),i.bezierCurveTo(o-f,d,e,l+w,e,l),i.lineTo(e,u)}function Op(i,e,t,r,n,s){i.beginPath(),i.moveTo(e,t);const c=s.length,f=r-e,w=n-t,P=w/f;let A=Math.sqrt(f*f+w*w),o=0,u=!0,l=0,d=+s[0];for(;A>=.1;)d=+s[o++%c],d>A&&(d=A),l=Math.sqrt(d*d/(1+P*P)),l=f<0?-l:l,e+=l,t+=P*l,u===!0?i.lineTo(e,t):i.moveTo(e,t),A-=d,u=!u}const Ep={circle:wp,dashedLine:Op,database:vb,diamond:function(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()},ellipse:za,ellipse_vis:za,hexagon:function(i,e,t,r){i.beginPath();const n=2*Math.PI/6;i.moveTo(e+r,t);for(let s=1;s<6;s++)i.lineTo(e+r*Math.cos(n*s),t+r*Math.sin(n*s));i.closePath()},roundRect:pb,square:function(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,2*r,2*r),i.closePath()},star:function(i,e,t,r){i.beginPath(),t+=.1*(r*=.82);for(let n=0;n<10;n++){const s=n%2==0?1.3*r:.5*r;i.lineTo(e+s*Math.sin(2*n*Math.PI/10),t-s*Math.cos(2*n*Math.PI/10))}i.closePath()},triangle:function(i,e,t,r){i.beginPath(),t+=.275*(r*=1.15);const n=2*r,s=n/2,c=Math.sqrt(3)/6*n,f=Math.sqrt(n*n-s*s);i.moveTo(e,t-(f-c)),i.lineTo(e+s,t+c),i.lineTo(e-s,t+c),i.lineTo(e,t-(f-c)),i.closePath()},triangleDown:function(i,e,t,r){i.beginPath(),t-=.275*(r*=1.15);const n=2*r,s=n/2,c=Math.sqrt(3)/6*n,f=Math.sqrt(n*n-s*s);i.moveTo(e,t+(f-c)),i.lineTo(e+s,t-c),i.lineTo(e-s,t-c),i.lineTo(e,t+(f-c)),i.closePath()}};var gb={exports:{}};(function(i){function e(t){if(t)return function(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}(t)}i.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this},e.prototype.once=function(t,r){function n(){this.off(t,n),r.apply(this,arguments)}return n.fn=r,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var c=0;c<s.length;c++)if((n=s[c])===r||n.fn===r){s.splice(c,1);break}return s.length===0&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(n){s=0;for(var c=(n=n.slice(0)).length;s<c;++s)n[s].apply(this,r)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})(gb);var yb=T(gb.exports),Jn=ee,So=Array.isArray||function(i){return Jn(i)==="Array"},$O=TypeError,mh=function(i){if(i>9007199254740991)throw $O("Maximum allowed index exceeded");return i},DO=sh,mb=Vt,Ts=Or,To=function(i,e,t){var r=DO(e);r in i?mb.f(i,r,Ts(0,t)):i[r]=t},Sp={};Sp[Gt("toStringTag")]="z";var Tp=String(Sp)==="[object z]",MO=Tp,bh=Ze,hl=ee,jO=Gt("toStringTag"),bb=Object,xp=hl(function(){return arguments}())==="Arguments",xs=MO?hl:function(i){var e,t,r;return i===void 0?"Undefined":i===null?"Null":typeof(t=function(n,s){try{return n[s]}catch{}}(e=bb(i),jO))=="string"?t:xp?hl(e):(r=hl(e))==="Object"&&bh(e.callee)?"Arguments":r},dl=Ze,Qn=rh,_b=ie(Function.toString);dl(Qn.inspectSource)||(Qn.inspectSource=function(i){return _b(i)});var _h=Qn.inspectSource,wb=ie,Ob=j,Ip=Ze,Pp=xs,NO=_h,Cp=function(){},wh=[],Eb=lt("Reflect","construct"),qa=/^\s*(?:class|function)\b/,FO=wb(qa.exec),LO=!qa.test(Cp),fl=function(i){if(!Ip(i))return!1;try{return Eb(Cp,wh,i),!0}catch{return!1}},Sb=function(i){if(!Ip(i))return!1;switch(Pp(i)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return LO||!!FO(qa,NO(i))}catch{return!0}};Sb.sham=!0;var Zn=!Eb||Ob(function(){var i;return fl(fl.call)||!fl(Object)||!fl(function(){i=!0})||i})?Sb:fl,Ap=So,BO=Zn,Tb=pt,Oh=Gt("species"),xb=Array,zO=function(i){var e;return Ap(i)&&(e=i.constructor,(BO(e)&&(e===xb||Ap(e.prototype))||Tb(e)&&(e=e[Oh])===null)&&(e=void 0)),e===void 0?xb:e},pl=function(i,e){return new(zO(i))(e===0?0:e)},Ib=j,qO=go,WO=Gt("species"),Is=function(i){return qO>=51||!Ib(function(){var e=[];return(e.constructor={})[WO]=function(){return{foo:1}},e[i](Boolean).foo!==1})},Rp=Ne,kp=j,$p=So,Pb=pt,Cb=Ai,Eh=Sn,xo=mh,$i=To,Sh=pl,HO=Is,Dp=go,Mp=Gt("isConcatSpreadable"),Th=Dp>=51||!kp(function(){var i=[];return i[Mp]=!1,i.concat()[0]!==i}),UO=function(i){if(!Pb(i))return!1;var e=i[Mp];return e!==void 0?!!e:$p(i)};Rp({target:"Array",proto:!0,forced:!Th||!HO("concat")},{concat:function(i){var e,t,r,n,s,c=Cb(this),f=Sh(c,0),w=0;for(e=-1,r=arguments.length;e<r;e++)if(UO(s=e===-1?c:arguments[e]))for(n=Eh(s),xo(w+n),t=0;t<n;t++,w++)t in s&&$i(f,w,s[t]);else xo(w+1),$i(f,w++,s);return f.length=w,f}});var GO=xs,VO=String,an=function(i){if(GO(i)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return VO(i)},xh={},vl=je,Ab=Mr,jp=Vt,Rb=Yn,gl=$e,KO=ul;xh.f=vl&&!Ab?Object.defineProperties:function(i,e){Rb(i);for(var t,r=gl(e),n=KO(e),s=n.length,c=0;s>c;)jp.f(i,t=n[c++],r[t]);return i};var Tn,kb=lt("document","documentElement"),yl=ih,Wa=Kn("keys"),Ih=function(i){return Wa[i]||(Wa[i]=yl(i))},Ps=Yn,ml=xh,bl=Xn,$b=al,YO=kb,XO=Km,Np="prototype",Ct="script",Fp=Ih("IE_PROTO"),Lp=function(){},Db=function(i){return"<"+Ct+">"+i+"</"+Ct+">"},Bp=function(i){i.write(Db("")),i.close();var e=i.parentWindow.Object;return i=null,e},Io=function(){try{Tn=new ActiveXObject("htmlfile")}catch{}var i,e,t;Io=typeof document<"u"?document.domain&&Tn?Bp(Tn):(e=XO("iframe"),t="java"+Ct+":",e.style.display="none",YO.appendChild(e),e.src=String(t),(i=e.contentWindow.document).open(),i.write(Db("document.F=Object")),i.close(),i.F):Bp(Tn);for(var r=bl.length;r--;)delete Io[Np][bl[r]];return Io()};$b[Fp]=!0;var _l=Object.create||function(i,e){var t;return i!==null?(Lp[Np]=Ps(i),t=new Lp,Lp[Np]=null,t[Fp]=i):t=Io(),e===void 0?t:ml.f(t,e)},wl={},Mb=Es,JO=Xn.concat("length","prototype");wl.f=Object.getOwnPropertyNames||function(i){return Mb(i,JO)};var Ph={},jb=$a,QO=Sn,zp=To,Po=Array,qp=Math.max,Ol=function(i,e,t){for(var r=QO(i),n=jb(e,r),s=jb(t===void 0?r:t,r),c=Po(qp(s-n,0)),f=0;n<s;n++,f++)zp(c,f,i[n]);return c.length=f,c},Nb=ee,Ch=$e,Wp=wl.f,Fb=Ol,Ah=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ph.f=function(i){return Ah&&Nb(i)==="Window"?function(e){try{return Wp(e)}catch{return Fb(Ah)}}(i):Wp(Ch(i))};var Ha=_s,Co=function(i,e,t,r){return r&&r.enumerable?i[e]=t:Ha(i,e,t),i},Cs=Vt,Ao=function(i,e,t){return Cs.f(i,e,t)},As={},ZO=Gt;As.f=ZO;var pi,Di,Mi,Lb=Ie,eE=gr,tE=As,rE=Vt.f,Mt=function(i){var e=Lb.Symbol||(Lb.Symbol={});eE(e,i)||rE(e,i,{value:tE.f(i)})},Bb=dt,Rh=lt,Rs=Gt,kh=Co,ks=function(){var i=Rh("Symbol"),e=i&&i.prototype,t=e&&e.valueOf,r=Rs("toPrimitive");e&&!e[r]&&kh(e,r,function(n){return Bb(t,this)},{})},Hp=xs,El=Tp?{}.toString:function(){return"[object "+Hp(this)+"]"},Ua=Tp,un=Vt.f,iE=_s,Zt=gr,Sl=El,$h=Gt("toStringTag"),xn=function(i,e,t,r){if(i){var n=t?i:i.prototype;Zt(n,$h)||un(n,$h,{configurable:!0,value:e}),r&&!Ua&&iE(n,"toString",Sl)}},Up=Ze,zb=F.WeakMap,Dh=Up(zb)&&/native code/.test(String(zb)),xt=Dh,Gp=F,nE=pt,qb=_s,Vp=gr,Tl=rh,Wb=Ih,oE=al,Kp="Object already initialized",Mh=Gp.TypeError,sE=Gp.WeakMap;if(xt||Tl.state){var ji=Tl.state||(Tl.state=new sE);ji.get=ji.get,ji.has=ji.has,ji.set=ji.set,pi=function(i,e){if(ji.has(i))throw new Mh(Kp);return e.facade=i,ji.set(i,e),e},Di=function(i){return ji.get(i)||{}},Mi=function(i){return ji.has(i)}}else{var $s=Wb("state");oE[$s]=!0,pi=function(i,e){if(Vp(i,$s))throw new Mh(Kp);return e.facade=i,qb(i,$s,e),e},Di=function(i){return Vp(i,$s)?i[$s]:{}},Mi=function(i){return Vp(i,$s)}}var ln={set:pi,get:Di,has:Mi,enforce:function(i){return Mi(i)?Di(i):pi(i,{})},getterFor:function(i){return function(e){var t;if(!nE(e)||(t=Di(e)).type!==i)throw new Mh("Incompatible receiver, "+i+" required");return t}}},aE=ch,Hb=Ti,Ds=Ai,uE=Sn,lE=pl,jh=ie([].push),In=function(i){var e=i===1,t=i===2,r=i===3,n=i===4,s=i===6,c=i===7,f=i===5||s;return function(w,P,A,o){for(var u,l,d=Ds(w),g=Hb(d),_=aE(P,A),I=uE(g),C=0,k=o||lE,N=e?k(w,I):t||c?k(w,0):void 0;I>C;C++)if((f||C in g)&&(l=_(u=g[C],C,d),i))if(e)N[C]=l;else if(l)switch(i){case 3:return!0;case 5:return u;case 6:return C;case 2:jh(N,u)}else switch(i){case 4:return!1;case 7:jh(N,u)}return s?-1:r||n?n:N}},Bt={forEach:In(0),map:In(1),filter:In(2),some:In(3),every:In(4),find:In(5),findIndex:In(6)},Ro=Ne,ko=F,Yp=dt,Nh=ie,lr=je,Ni=gs,Fh=j,rr=gr,Xp=tt,xl=Yn,$o=$e,vi=sh,Il=an,Jp=Or,Ga=_l,ir=ul,Pn=wl,Ms=Ph,Qp=ll,Zp=Fe,Lh=Vt,ev=xh,Pl=ft,Bh=Co,tv=Ao,js=Kn,Do=al,Va=ih,Ka=Gt,rv=As,cE=Mt,Ya=ks,Xa=xn,iv=ln,Kt=Bt.forEach,xr=Ih("hidden"),Ja="Symbol",Mo="prototype",nv=iv.set,Ub=iv.getterFor(Ja),gi=Object[Mo],cn=ko.Symbol,Qa=cn&&cn[Mo],Cl=ko.RangeError,ov=ko.TypeError,sv=ko.QObject,zh=Zp.f,jo=Lh.f,av=Ms.f,Gb=Pl.f,qh=Nh([].push),Cn=js("symbols"),Ns=js("op-symbols"),Al=js("wks"),Rl=!sv||!sv[Mo]||!sv[Mo].findChild,Wh=function(i,e,t){var r=zh(gi,e);r&&delete gi[e],jo(i,e,t),r&&i!==gi&&jo(gi,e,r)},Hh=lr&&Fh(function(){return Ga(jo({},"a",{get:function(){return jo(this,"a",{value:7}).a}})).a!==7})?Wh:jo,Uh=function(i,e){var t=Cn[i]=Ga(Qa);return nv(t,{type:Ja,tag:i,description:e}),lr||(t.description=e),t},Gh=function(i,e,t){i===gi&&Gh(Ns,e,t),xl(i);var r=vi(e);return xl(t),rr(Cn,r)?(t.enumerable?(rr(i,xr)&&i[xr][r]&&(i[xr][r]=!1),t=Ga(t,{enumerable:Jp(0,!1)})):(rr(i,xr)||jo(i,xr,Jp(1,{})),i[xr][r]=!0),Hh(i,r,t)):jo(i,r,t)},uv=function(i,e){xl(i);var t=$o(e),r=ir(t).concat(Ir(t));return Kt(r,function(n){lr&&!Yp(Vb,t,n)||Gh(i,n,t[n])}),i},Vb=function(i){var e=vi(i),t=Yp(Gb,this,e);return!(this===gi&&rr(Cn,e)&&!rr(Ns,e))&&(!(t||!rr(this,e)||!rr(Cn,e)||rr(this,xr)&&this[xr][e])||t)},An=function(i,e){var t=$o(i),r=vi(e);if(t!==gi||!rr(Cn,r)||rr(Ns,r)){var n=zh(t,r);return!n||!rr(Cn,r)||rr(t,xr)&&t[xr][r]||(n.enumerable=!0),n}},No=function(i){var e=av($o(i)),t=[];return Kt(e,function(r){rr(Cn,r)||rr(Do,r)||qh(t,r)}),t},Ir=function(i){var e=i===gi,t=av(e?Ns:$o(i)),r=[];return Kt(t,function(n){!rr(Cn,n)||e&&!rr(gi,n)||qh(r,Cn[n])}),r};Ni||(cn=function(){if(Xp(Qa,this))throw new ov("Symbol is not a constructor");var i=arguments.length&&arguments[0]!==void 0?Il(arguments[0]):void 0,e=Va(i),t=function(r){this===gi&&Yp(t,Ns,r),rr(this,xr)&&rr(this[xr],e)&&(this[xr][e]=!1);var n=Jp(1,r);try{Hh(this,e,n)}catch(s){if(!(s instanceof Cl))throw s;Wh(this,e,n)}};return lr&&Rl&&Hh(gi,e,{configurable:!0,set:t}),Uh(e,i)},Bh(Qa=cn[Mo],"toString",function(){return Ub(this).tag}),Bh(cn,"withoutSetter",function(i){return Uh(Va(i),i)}),Pl.f=Vb,Lh.f=Gh,ev.f=uv,Zp.f=An,Pn.f=Ms.f=No,Qp.f=Ir,rv.f=function(i){return Uh(Ka(i),i)},lr&&tv(Qa,"description",{configurable:!0,get:function(){return Ub(this).description}})),Ro({global:!0,wrap:!0,forced:!Ni,sham:!Ni},{Symbol:cn}),Kt(ir(Al),function(i){cE(i)}),Ro({target:Ja,stat:!0,forced:!Ni},{useSetter:function(){Rl=!0},useSimple:function(){Rl=!1}}),Ro({target:"Object",stat:!0,forced:!Ni,sham:!lr},{create:function(i,e){return e===void 0?Ga(i):uv(Ga(i),e)},defineProperty:Gh,defineProperties:uv,getOwnPropertyDescriptor:An}),Ro({target:"Object",stat:!0,forced:!Ni},{getOwnPropertyNames:No}),Ya(),Xa(cn,Ja),Do[xr]=!0;var kl=gs&&!!Symbol.for&&!!Symbol.keyFor,$l=Ne,hE=lt,Kb=gr,Fi=an,eo=Kn,Za=kl,Vh=eo("string-to-symbol-registry"),dE=eo("symbol-to-string-registry");$l({target:"Symbol",stat:!0,forced:!Za},{for:function(i){var e=Fi(i);if(Kb(Vh,e))return Vh[e];var t=hE("Symbol")(e);return Vh[e]=t,dE[t]=e,t}});var lv=Ne,cv=gr,Fs=Ju,Yb=Zu,fE=kl,hv=Kn("symbol-to-string-registry");lv({target:"Symbol",stat:!0,forced:!fE},{keyFor:function(i){if(!Fs(i))throw new TypeError(Yb(i)+" is not a symbol");if(cv(hv,i))return hv[i]}});var Pr=So,eu=Ze,dv=ee,fv=an,Fo=ie([].push),Dl=Ne,Kh=lt,tu=Z,pv=dt,ru=ie,vv=j,Yh=Ze,gv=Ju,yv=gh,pE=function(i){if(eu(i))return i;if(Pr(i)){for(var e=i.length,t=[],r=0;r<e;r++){var n=i[r];typeof n=="string"?Fo(t,n):typeof n!="number"&&dv(n)!=="Number"&&dv(n)!=="String"||Fo(t,fv(n))}var s=t.length,c=!0;return function(f,w){if(c)return c=!1,w;if(Pr(this))return w;for(var P=0;P<s;P++)if(t[P]===f)return w}}},Xb=gs,Jb=String,Rn=Kh("JSON","stringify"),Xh=ru(/./.exec),Ml=ru("".charAt),Qb=ru("".charCodeAt),vE=ru("".replace),mv=ru(1 .toString),gE=/[\uD800-\uDFFF]/g,bv=/^[\uD800-\uDBFF]$/,Zb=/^[\uDC00-\uDFFF]$/,Jh=!Xb||vv(function(){var i=Kh("Symbol")("stringify detection");return Rn([i])!=="[null]"||Rn({a:i})!=="{}"||Rn(Object(i))!=="{}"}),_v=vv(function(){return Rn("\uDF06\uD834")!=='"\\udf06\\ud834"'||Rn("\uDEAD")!=='"\\udead"'}),yE=function(i,e){var t=yv(arguments),r=pE(e);if(Yh(r)||i!==void 0&&!gv(i))return t[1]=function(n,s){if(Yh(r)&&(s=pv(r,this,Jb(n),s)),!gv(s))return s},tu(Rn,null,t)},e0=function(i,e,t){var r=Ml(t,e-1),n=Ml(t,e+1);return Xh(bv,i)&&!Xh(Zb,n)||Xh(Zb,i)&&!Xh(bv,r)?"\\u"+mv(Qb(i,0),16):i};Rn&&Dl({target:"JSON",stat:!0,forced:Jh||_v},{stringify:function(i,e,t){var r=yv(arguments),n=tu(Jh?yE:Rn,null,r);return _v&&typeof n=="string"?vE(n,gE,e0):n}});var wv=ll,mE=Ai;Ne({target:"Object",stat:!0,forced:!gs||j(function(){wv.f(1)})},{getOwnPropertySymbols:function(i){var e=wv.f;return e?e(mE(i)):[]}}),Mt("asyncIterator"),Mt("hasInstance"),Mt("isConcatSpreadable"),Mt("iterator"),Mt("match"),Mt("matchAll"),Mt("replace"),Mt("search"),Mt("species"),Mt("split");var jl=ks;Mt("toPrimitive"),jl();var bE=lt,t0=xn;Mt("toStringTag"),t0(bE("Symbol"),"Symbol"),Mt("unscopables"),xn(F.JSON,"JSON",!0);var Ls,Ov,r0,i0=Ie.Symbol,iu={},Ev=je,n0=gr,Sv=Function.prototype,_E=Ev&&Object.getOwnPropertyDescriptor,Bs=n0(Sv,"name"),o0={PROPER:Bs&&(function(){}).name==="something",CONFIGURABLE:Bs&&(!Ev||Ev&&_E(Sv,"name").configurable)},Tv=!j(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),s0=gr,a0=Ze,wE=Ai,OE=Tv,xv=Ih("IE_PROTO"),hn=Object,Qh=hn.prototype,Nl=OE?hn.getPrototypeOf:function(i){var e=wE(i);if(s0(e,xv))return e[xv];var t=e.constructor;return a0(t)&&e instanceof t?t.prototype:e instanceof hn?Qh:null},Zh=j,Iv=Ze,u0=pt,ed=_l,td=Nl,l0=Co,nu=Gt("iterator"),Fl=!1;[].keys&&("next"in(r0=[].keys())?(Ov=td(td(r0)))!==Object.prototype&&(Ls=Ov):Fl=!0);var EE=!u0(Ls)||Zh(function(){var i={};return Ls[nu].call(i)!==i});Iv((Ls=EE?{}:ed(Ls))[nu])||l0(Ls,nu,function(){return this});var Pv={IteratorPrototype:Ls,BUGGY_SAFARI_ITERATORS:Fl},c0=Pv.IteratorPrototype,SE=_l,rd=Or,Cv=xn,TE=iu,xE=function(){return this},IE=Ne,PE=dt,CE=o0,AE=function(i,e,t,r){var n=e+" Iterator";return i.prototype=SE(c0,{next:rd(1,t)}),Cv(i,n,!1,!0),TE[n]=xE,i},h0=Nl,d0=xn,id=Co,Av=iu,Rv=Pv,f0=CE.PROPER,nd=Rv.BUGGY_SAFARI_ITERATORS,kv=Gt("iterator"),$v="keys",Ll="values",p0="entries",RE=function(){return this},Bl=function(i,e,t,r,n,s,c){AE(t,e,r);var f,w,P,A=function(I){if(I===n&&g)return g;if(!nd&&I&&I in l)return l[I];switch(I){case $v:case Ll:case p0:return function(){return new t(this,I)}}return function(){return new t(this)}},o=e+" Iterator",u=!1,l=i.prototype,d=l[kv]||l["@@iterator"]||n&&l[n],g=!nd&&d||A(n),_=e==="Array"&&l.entries||d;if(_&&(f=h0(_.call(new i)))!==Object.prototype&&f.next&&(d0(f,o,!0,!0),Av[o]=RE),f0&&n===Ll&&d&&d.name!==Ll&&(u=!0,g=function(){return PE(d,this)}),n)if(w={values:A(Ll),keys:s?g:A($v),entries:A(p0)},c)for(P in w)(nd||u||!(P in l))&&id(l,P,w[P]);else IE({target:e,proto:!0,forced:nd||u},w);return c&&l[kv]!==g&&id(l,kv,g,{}),Av[e]=g,w},Dv=function(i,e){return{value:i,done:e}},kE=$e,Mv=iu,zs=ln;Vt.f;var od=Bl,sd=Dv,jv="Array Iterator",$E=zs.set,zl=zs.getterFor(jv);od(Array,"Array",function(i,e){$E(this,{type:jv,target:kE(i),index:0,kind:e})},function(){var i=zl(this),e=i.target,t=i.kind,r=i.index++;if(!e||r>=e.length)return i.target=void 0,sd(void 0,!0);switch(t){case"keys":return sd(r,!1);case"values":return sd(e[r],!1)}return sd([r,e[r]],!1)},"values"),Mv.Arguments=Mv.Array;var v0={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},g0=F,DE=xs,Nv=_s,ad=iu,Fv=Gt("toStringTag");for(var Lv in v0){var Bv=g0[Lv],ud=Bv&&Bv.prototype;ud&&DE(ud)!==Fv&&Nv(ud,Fv,Lv),ad[Lv]=ad.Array}var ql=i0,Lo=T(ql),zv=Ne,Wl=So,ME=Zn,jE=pt,y0=$a,m0=Sn,b0=$e,NE=To,FE=Gt,qv=gh,Wv=Is("slice"),to=FE("species"),ou=Array,ld=Math.max;zv({target:"Array",proto:!0,forced:!Wv},{slice:function(i,e){var t,r,n,s=b0(this),c=m0(s),f=y0(i,c),w=y0(e===void 0?c:e,c);if(Wl(s)&&(t=s.constructor,(ME(t)&&(t===ou||Wl(t.prototype))||jE(t)&&(t=t[to])===null)&&(t=void 0),t===ou||t===void 0))return qv(s,f,w);for(r=new(t===void 0?ou:t)(ld(w-f,0)),n=0;f<w;f++,n++)f in s&&NE(r,n,s[f]);return r.length=n,r}});var LE=Qt("Array").slice,_0=tt,w0=LE,cd=Array.prototype,BE=function(i){var e=i.slice;return i===cd||_0(cd,i)&&e===cd.slice?w0:e},Nr=T(BE),zE=lt,O0=wl,E0=ll,qs=Yn,Li=ie([].concat),S0=zE("Reflect","ownKeys")||function(i){var e=O0.f(qs(i)),t=E0.f;return t?Li(e,t(i)):e};Ne({target:"Array",stat:!0},{isArray:So});var zt=T(Ie.Array.isArray),qE=Bt.map;Ne({target:"Array",proto:!0,forced:!Is("map")},{map:function(i){return qE(this,i,arguments.length>1?arguments[1]:void 0)}});var WE=Qt("Array").map,T0=tt,HE=WE,hd=Array.prototype,UE=function(i){var e=i.map;return i===hd||T0(hd,i)&&e===hd.map?HE:e},Ws=T(UE),Hv=Ai,Uv=ul;Ne({target:"Object",stat:!0,forced:j(function(){Uv(1)})},{keys:function(i){return Uv(Hv(i))}});var jt=T(Ie.Object.keys),GE=Ne,x0=Date,Cr=ie(x0.prototype.getTime);GE({target:"Date",stat:!0},{now:function(){return Cr(new x0)}});var Hl=T(Ie.Date.now),VE=j,Hs=function(i,e){var t=[][i];return!!t&&VE(function(){t.call(null,e||function(){return 1},1)})},Gv=Bt.forEach,Vv=Hs("forEach")?[].forEach:function(i){return Gv(this,i,arguments.length>1?arguments[1]:void 0)};Ne({target:"Array",proto:!0,forced:[].forEach!==Vv},{forEach:Vv});var kn=Qt("Array").forEach,Kv=xs,I0=gr,dd=tt,P0=kn,Yv=Array.prototype,Xv={DOMTokenList:!0,NodeList:!0},Jv=function(i){var e=i.forEach;return i===Yv||dd(Yv,i)&&e===Yv.forEach||I0(Xv,Kv(i))?P0:e},Et=T(Jv),Ul=Ne,su=So,KE=ie([].reverse),Gl=[1,2];Ul({target:"Array",proto:!0,forced:String(Gl)===String(Gl.reverse())},{reverse:function(){return su(this)&&(this.length=this.length),KE(this)}});var C0=Qt("Array").reverse,YE=tt,Qv=C0,fd=Array.prototype,XE=function(i){var e=i.reverse;return i===fd||YE(fd,i)&&e===fd.reverse?Qv:e},Us=T(XE),JE=je,QE=So,pd=TypeError,cr=Object.getOwnPropertyDescriptor,A0=JE&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(i){return i instanceof TypeError}}(),vd=Zu,R0=TypeError,gd=function(i,e){if(!delete i[e])throw new R0("Cannot delete property "+vd(e)+" of "+vd(i))},Zv=Ne,oi=Ai,ZE=$a,eS=Eo,k0=Sn,$0=A0?function(i,e){if(QE(i)&&!cr(i,"length").writable)throw new pd("Cannot set read only .length");return i.length=e}:function(i,e){return i.length=e},D0=mh,tS=pl,rS=To,eg=gd,iS=Is("splice"),nS=Math.max,oS=Math.min;Zv({target:"Array",proto:!0,forced:!iS},{splice:function(i,e){var t,r,n,s,c,f,w=oi(this),P=k0(w),A=ZE(i,P),o=arguments.length;for(o===0?t=r=0:o===1?(t=0,r=P-A):(t=o-2,r=oS(nS(eS(e),0),P-A)),D0(P+t-r),n=tS(w,r),s=0;s<r;s++)(c=A+s)in w&&rS(n,s,w[c]);if(n.length=r,t<r){for(s=A;s<P-r;s++)f=s+t,(c=s+r)in w?w[f]=w[c]:eg(w,f);for(s=P;s>P-r+t;s--)eg(w,s-1)}else if(t>r)for(s=P-r;s>A;s--)f=s+t-1,(c=s+r-1)in w?w[f]=w[c]:eg(w,f);for(s=0;s<t;s++)w[s+A]=arguments[s+2];return $0(w,P-r+t),n}});var tg=Qt("Array").splice,sS=tt,rg=tg,yd=Array.prototype,aS=function(i){var e=i.splice;return i===yd||sS(yd,i)&&e===yd.splice?rg:e},ro=T(aS),uS=gp.includes;Ne({target:"Array",proto:!0,forced:j(function(){return!Array(1).includes()})},{includes:function(i){return uS(this,i,arguments.length>1?arguments[1]:void 0)}});var ig=Qt("Array").includes,lS=pt,M0=ee,cS=Gt("match"),md=function(i){var e;return lS(i)&&((e=i[cS])!==void 0?!!e:M0(i)==="RegExp")},j0=TypeError,N0=Gt("match"),hS=Ne,ng=function(i){if(md(i))throw new j0("The method doesn't accept regular expressions");return i},og=fe,bd=an,dS=function(i){var e=/./;try{"/./"[i](e)}catch{try{return e[N0]=!1,"/./"[i](e)}catch{}}return!1},F0=ie("".indexOf);hS({target:"String",proto:!0,forced:!dS("includes")},{includes:function(i){return!!~F0(bd(og(this)),bd(ng(i)),arguments.length>1?arguments[1]:void 0)}});var L0=Qt("String").includes,Vl=tt,fS=ig,pS=L0,sg=Array.prototype,ag=String.prototype,vS=function(i){var e=i.includes;return i===sg||Vl(sg,i)&&e===sg.includes?fS:typeof i=="string"||i===ag||Vl(ag,i)&&e===ag.includes?pS:e},Bo=T(vS),ug=Ai,B0=Nl,gS=Tv;Ne({target:"Object",stat:!0,forced:j(function(){B0(1)}),sham:!gS},{getPrototypeOf:function(i){return B0(ug(i))}});var z0=T(Ie.Object.getPrototypeOf),yS=Qt("Array").concat,mS=tt,lg=yS,zo=Array.prototype,_d=function(i){var e=i.concat;return i===zo||mS(zo,i)&&e===zo.concat?lg:e},bS=T(_d),_S=Bt.filter;Ne({target:"Array",proto:!0,forced:!Is("filter")},{filter:function(i){return _S(this,i,arguments.length>1?arguments[1]:void 0)}});var q0=Qt("Array").filter,W0=tt,cg=q0,hg=Array.prototype,H0=function(i){var e=i.filter;return i===hg||W0(hg,i)&&e===hg.filter?cg:e},Fr=T(H0),U0=je,G0=j,au=ie,V0=Nl,dg=ul,Kl=$e,fg=au(ft.f),K0=au([].push),wS=U0&&G0(function(){var i=Object.create(null);return i[2]=2,!fg(i,2)}),OS=function(i){return function(e){for(var t,r=Kl(e),n=dg(r),s=wS&&V0(r)===null,c=n.length,f=0,w=[];c>f;)t=n[f++],U0&&!(s?t in r:fg(r,t))||K0(w,i?[t,r[t]]:r[t]);return w}},ES={values:OS(!1)}.values;Ne({target:"Object",stat:!0},{values:function(i){return ES(i)}});var Y0=T(Ie.Object.values),wd=`	
\v\f\r                　\u2028\u2029\uFEFF`,SS=fe,TS=an,pg=wd,vg=ie("".replace),xS=RegExp("^["+pg+"]+"),uu=RegExp("(^|[^"+pg+"])["+pg+"]+$"),IS=function(i){return function(e){var t=TS(SS(e));return 1&i&&(t=vg(t,xS,"")),2&i&&(t=vg(t,uu,"$1")),t}},Od={trim:IS(3)},gg=F,PS=j,CS=ie,X0=an,AS=Od.trim,J0=wd,lu=gg.parseInt,Q0=gg.Symbol,Z0=Q0&&Q0.iterator,yg=/^[+-]?0x/i,e_=CS(yg.exec),qo=lu(J0+"08")!==8||lu(J0+"0x16")!==22||Z0&&!PS(function(){lu(Object(Z0))})?function(i,e){var t=AS(X0(i));return lu(t,e>>>0||(e_(yg,t)?16:10))}:lu;Ne({global:!0,forced:parseInt!==qo},{parseInt:qo});var qt=T(Ie.parseInt),t_=Ne,mg=gp.indexOf,RS=Hs,bg=Ae([].indexOf),_g=!!bg&&1/bg([1],1,-0)<0;t_({target:"Array",proto:!0,forced:_g||!RS("indexOf")},{indexOf:function(i){var e=arguments.length>1?arguments[1]:void 0;return _g?bg(this,i,e)||0:mg(this,i,e)}});var kS=Qt("Array").indexOf,Ed=tt,r_=kS,Sd=Array.prototype,wg=function(i){var e=i.indexOf;return i===Sd||Ed(Sd,i)&&e===Sd.indexOf?r_:e},mt=T(wg);Ne({target:"Object",stat:!0,sham:!je},{create:_l});var Td=Ie.Object,Wo=T(function(i,e){return Td.create(i,e)}),yr=Ie,Lr=Z;yr.JSON||(yr.JSON={stringify:JSON.stringify});var Yl=function(i,e,t){return Lr(yr.JSON.stringify,null,arguments)},er=T(Yl),$S=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",DS=TypeError,xd=F,Id=Z,Gs=Ze,MS=$S,jS=yt,i_=gh,NS=function(i,e){if(i<e)throw new DS("Not enough arguments");return i},Vs=xd.Function,Og=/MSIE .\./.test(jS)||MS&&function(){var i=xd.Bun.version.split(".");return i.length<3||i[0]==="0"&&(i[1]<3||i[1]==="3"&&i[2]==="0")}(),Eg=function(i,e){var t=2;return Og?function(r,n){var s=NS(arguments.length,1)>t,c=Gs(r)?r:Vs(r),f=s?i_(arguments,t):[],w=s?function(){Id(c,this,f)}:c;return i(w,n)}:i},Br=Ne,n_=F,Sg=Eg(n_.setInterval);Br({global:!0,bind:!0,forced:n_.setInterval!==Sg},{setInterval:Sg});var Tg=Ne,o_=F,xg=Eg(o_.setTimeout);Tg({global:!0,bind:!0,forced:o_.setTimeout!==xg},{setTimeout:xg});var Bi=T(Ie.setTimeout),FS=Ai,s_=$a,Xl=Sn,LS=function(i){for(var e=FS(this),t=Xl(e),r=arguments.length,n=s_(r>1?arguments[1]:void 0,t),s=r>2?arguments[2]:void 0,c=s===void 0?t:s_(s,t);c>n;)e[n++]=i;return e};Ne({target:"Array",proto:!0},{fill:LS});var Pd,BS=Qt("Array").fill,Ig=tt,Ho=BS,Pg=Array.prototype,zS=function(i){var e=i.fill;return i===Pg||Ig(Pg,i)&&e===Pg.fill?Ho:e},Jl=T(zS);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function zi(){return zi=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},zi.apply(this,arguments)}function qi(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function Cd(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}Pd=typeof Object.assign!="function"?function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(i),t=1;t<arguments.length;t++){var r=arguments[t];if(r!=null)for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}:Object.assign;var $n,io=Pd,Cg=["","webkit","Moz","MS","ms","o"],qS=typeof document>"u"?{style:{}}:document.createElement("div"),Ks=Math.round,Uo=Math.abs,Ad=Date.now;function Rd(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<Cg.length;){if((r=(t=Cg[s])?t+n:e)in i)return r;s++}}$n=typeof window>"u"?{}:window;var a_=Rd(qS.style,"touchAction"),u_=a_!==void 0,l_="compute",c_="auto",Ag="manipulation",Ys="none",Xs="pan-x",Ql="pan-y",cu=function(){if(!u_)return!1;var i={},e=$n.CSS&&$n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=!e||$n.CSS.supports("touch-action",t)}),i}(),h_="ontouchstart"in $n,WS=Rd($n,"PointerEvent")!==void 0,hr=h_&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Zl="touch",Rg="mouse",HS=25,mr=1,Yt=4,zr=8,kd=1,ec=2,Js=4,Qs=8,hu=16,Dn=ec|Js,Zs=Qs|hu,si=Dn|Zs,ea=["x","y"],tc=["clientX","clientY"];function no(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function $d(i,e){return typeof i=="function"?i.apply(e&&e[0]||void 0,e):i}function oo(i,e){return i.indexOf(e)>-1}var kg=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(t){t===l_&&(t=this.compute()),u_&&this.manager.element.style&&cu[t]&&(this.manager.element.style[a_]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return no(this.manager.recognizers,function(r){$d(r.options.enable,[r])&&(t=t.concat(r.getTouchAction()))}),function(r){if(oo(r,Ys))return Ys;var n=oo(r,Xs),s=oo(r,Ql);return n&&s?Ys:n||s?n?Xs:Ql:oo(r,Ag)?Ag:c_}(t.join(" "))},e.preventDefaults=function(t){var r=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else{var s=this.actions,c=oo(s,Ys)&&!cu[Ys],f=oo(s,Ql)&&!cu[Ql],w=oo(s,Xs)&&!cu[Xs];if(c){var P=t.pointers.length===1,A=t.distance<2,o=t.deltaTime<250;if(P&&A&&o)return}if(!w||!f)return c||f&&n&Dn||w&&n&Zs?this.preventSrc(r):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},i}();function $g(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function Dg(i){var e=i.length;if(e===1)return{x:Ks(i[0].clientX),y:Ks(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ks(t/e),y:Ks(r/e)}}function d_(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ks(i.pointers[t].clientX),clientY:Ks(i.pointers[t].clientY)},t++;return{timeStamp:Ad(),pointers:e,center:Dg(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Dd(i,e,t){t||(t=ea);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Mg(i,e,t){t||(t=ea);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return 180*Math.atan2(n,r)/Math.PI}function jg(i,e){return i===e?kd:Uo(i)>=Uo(e)?i<0?ec:Js:e<0?Qs:hu}function f_(i,e,t){return{x:e/i||0,y:t/i||0}}function Ng(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=d_(e)),n>1&&!t.firstMultiple?t.firstMultiple=d_(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,c=t.firstMultiple,f=c?c.center:s.center,w=e.center=Dg(r);e.timeStamp=Ad(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Mg(f,w),e.distance=Dd(f,w),function(g,_){var I=_.center,C=g.offsetDelta||{},k=g.prevDelta||{},N=g.prevInput||{};_.eventType!==mr&&N.eventType!==Yt||(k=g.prevDelta={x:N.deltaX||0,y:N.deltaY||0},C=g.offsetDelta={x:I.x,y:I.y}),_.deltaX=k.x+(I.x-C.x),_.deltaY=k.y+(I.y-C.y)}(t,e),e.offsetDirection=jg(e.deltaX,e.deltaY);var P,A,o=f_(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=o.x,e.overallVelocityY=o.y,e.overallVelocity=Uo(o.x)>Uo(o.y)?o.x:o.y,e.scale=c?(P=c.pointers,Dd((A=r)[0],A[1],tc)/Dd(P[0],P[1],tc)):1,e.rotation=c?function(g,_){return Mg(_[1],_[0],tc)+Mg(g[1],g[0],tc)}(c.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(g,_){var I,C,k,N,z=g.lastInterval||_,W=_.timeStamp-z.timeStamp;if(_.eventType!==zr&&(W>HS||z.velocity===void 0)){var Q=_.deltaX-z.deltaX,re=_.deltaY-z.deltaY,pe=f_(W,Q,re);C=pe.x,k=pe.y,I=Uo(pe.x)>Uo(pe.y)?pe.x:pe.y,N=jg(Q,re),g.lastInterval=_}else I=z.velocity,C=z.velocityX,k=z.velocityY,N=z.direction;_.velocity=I,_.velocityX=C,_.velocityY=k,_.direction=N}(t,e);var u,l=i.element,d=e.srcEvent;$g(u=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,l)&&(l=u),e.target=l}function US(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&mr&&r-n==0,c=e&(Yt|zr)&&r-n==0;t.isFirst=!!s,t.isFinal=!!c,s&&(i.session={}),t.eventType=e,Ng(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function rc(i){return i.trim().split(/\s+/g)}function ta(i,e,t){no(rc(e),function(r){i.addEventListener(r,t,!1)})}function ic(i,e,t){no(rc(e),function(r){i.removeEventListener(r,t,!1)})}function p_(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var ra=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){$d(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ta(this.element,this.evEl,this.domHandler),this.evTarget&&ta(this.target,this.evTarget,this.domHandler),this.evWin&&ta(p_(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ic(this.element,this.evEl,this.domHandler),this.evTarget&&ic(this.target,this.evTarget,this.domHandler),this.evWin&&ic(p_(this.element),this.evWin,this.domHandler)},i}();function Go(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var GS={pointerdown:mr,pointermove:2,pointerup:Yt,pointercancel:zr,pointerout:zr},VS={2:Zl,3:"pen",4:Rg,5:"kinect"},v_="pointerdown",g_="pointermove pointerup pointercancel";$n.MSPointerEvent&&!$n.PointerEvent&&(v_="MSPointerDown",g_="MSPointerMove MSPointerUp MSPointerCancel");var y_=function(i){function e(){var t,r=e.prototype;return r.evEl=v_,r.evWin=g_,(t=i.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return qi(e,i),e.prototype.handler=function(t){var r=this.store,n=!1,s=t.type.toLowerCase().replace("ms",""),c=GS[s],f=VS[t.pointerType]||t.pointerType,w=f===Zl,P=Go(r,t.pointerId,"pointerId");c&mr&&(t.button===0||w)?P<0&&(r.push(t),P=r.length-1):c&(Yt|zr)&&(n=!0),P<0||(r[P]=t,this.callback(this.manager,c,{pointers:r,changedPointers:[t],pointerType:f,srcEvent:t}),n&&r.splice(P,1))},e}(ra);function du(i){return Array.prototype.slice.call(i,0)}function Fg(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var c=e?i[s][e]:i[s];Go(n,c)<0&&r.push(i[s]),n[s]=c,s++}return t&&(r=e?r.sort(function(f,w){return f[e]>w[e]}):r.sort()),r}var m_={touchstart:mr,touchmove:2,touchend:Yt,touchcancel:zr},Md=function(i){function e(){var t;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).targetIds={},t}return qi(e,i),e.prototype.handler=function(t){var r=m_[t.type],n=KS.call(this,t,r);n&&this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Zl,srcEvent:t})},e}(ra);function KS(i,e){var t,r,n=du(i.touches),s=this.targetIds;if(e&(2|mr)&&n.length===1)return s[n[0].identifier]=!0,[n,n];var c=du(i.changedTouches),f=[],w=this.target;if(r=n.filter(function(P){return $g(P.target,w)}),e===mr)for(t=0;t<r.length;)s[r[t].identifier]=!0,t++;for(t=0;t<c.length;)s[c[t].identifier]&&f.push(c[t]),e&(Yt|zr)&&delete s[c[t].identifier],t++;return f.length?[Fg(r.concat(f),"identifier",!0),f]:void 0}var b_={mousedown:mr,mousemove:2,mouseup:Yt},jd=function(i){function e(){var t,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(t=i.apply(this,arguments)||this).pressed=!1,t}return qi(e,i),e.prototype.handler=function(t){var r=b_[t.type];r&mr&&t.button===0&&(this.pressed=!0),2&r&&t.which!==1&&(r=Yt),this.pressed&&(r&Yt&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[t],changedPointers:[t],pointerType:Rg,srcEvent:t}))},e}(ra),YS=2500;function Lg(i){var e=i.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var n=r.indexOf(t);n>-1&&r.splice(n,1)},YS)}}function __(i,e){i&mr?(this.primaryTouch=e.changedPointers[0].identifier,Lg.call(this,e)):i&(Yt|zr)&&Lg.call(this,e)}function w_(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),c=Math.abs(t-n.y);if(s<=25&&c<=25)return!0}return!1}var Bg=function(){return function(i){function e(t,r){var n;return(n=i.call(this,t,r)||this).handler=function(s,c,f){var w=f.pointerType===Zl,P=f.pointerType===Rg;if(!(P&&f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents)){if(w)__.call(Cd(Cd(n)),c,f);else if(P&&w_.call(Cd(Cd(n)),f))return;n.callback(s,c,f)}},n.touch=new Md(n.manager,n.handler),n.mouse=new jd(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return qi(e,i),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(ra)}();function Vo(i,e,t){return!!Array.isArray(i)&&(no(i,t[e],t),!0)}var Ko=32,dn=1;function qr(i,e){var t=e.manager;return t?t.get(i):i}function nc(i){return 16&i?"cancel":8&i?"end":4&i?"move":2&i?"start":""}var Wr=function(){function i(t){t===void 0&&(t={}),this.options=zi({enable:!0},t),this.id=dn++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(t){return io(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Vo(t,"recognizeWith",this))return this;var r=this.simultaneous;return r[(t=qr(t,this)).id]||(r[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Vo(t,"dropRecognizeWith",this)||(t=qr(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Vo(t,"requireFailure",this))return this;var r=this.requireFail;return Go(r,t=qr(t,this))===-1&&(r.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Vo(t,"dropRequireFailure",this))return this;t=qr(t,this);var r=Go(this.requireFail,t);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var r=this,n=this.state;function s(c){r.manager.emit(c,t)}n<8&&s(r.options.event+nc(n)),s(r.options.event),t.additionalEvent&&s(t.additionalEvent),n>=8&&s(r.options.event+nc(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Ko},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var r=io({},t);if(!$d(this.options.enable,[this,r]))return this.reset(),void(this.state=Ko);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},i}(),so=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,zi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){return[Ag]},t.process=function(r){var n=this,s=this.options,c=r.pointers.length===s.pointers,f=r.distance<s.threshold,w=r.deltaTime<s.time;if(this.reset(),r.eventType&mr&&this.count===0)return this.failTimeout();if(f&&w&&c){if(r.eventType!==Yt)return this.failTimeout();var P=!this.pTime||r.timeStamp-this.pTime<s.interval,A=!this.pCenter||Dd(this.pCenter,r.center)<s.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,A&&P?this.count+=1:this.count=1,this._input=r,this.count%s.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){n.state=8,n.tryEmit()},s.interval),2):8}return Ko},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=Ko},this.options.interval),Ko},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Wr),ia=function(i){function e(r){return r===void 0&&(r={}),i.call(this,zi({pointers:1},r))||this}qi(e,i);var t=e.prototype;return t.attrTest=function(r){var n=this.options.pointers;return n===0||r.pointers.length===n},t.process=function(r){var n=this.state,s=r.eventType,c=6&n,f=this.attrTest(r);return c&&(s&zr||!f)?16|n:c||f?s&Yt?8|n:2&n?4|n:2:Ko},e}(Wr);function O_(i){return i===hu?"down":i===Qs?"up":i===ec?"left":i===Js?"right":""}var Yo=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,zi({event:"pan",threshold:10,pointers:1,direction:si},r))||this).pX=null,n.pY=null,n}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,n=[];return r&Dn&&n.push(Ql),r&Zs&&n.push(Xs),n},t.directionTest=function(r){var n=this.options,s=!0,c=r.distance,f=r.direction,w=r.deltaX,P=r.deltaY;return f&n.direction||(n.direction&Dn?(f=w===0?kd:w<0?ec:Js,s=w!==this.pX,c=Math.abs(r.deltaX)):(f=P===0?kd:P<0?Qs:hu,s=P!==this.pY,c=Math.abs(r.deltaY))),r.direction=f,s&&c>n.threshold&&f&n.direction},t.attrTest=function(r){return ia.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var n=O_(r.direction);n&&(r.additionalEvent=this.options.event+n),i.prototype.emit.call(this,r)},e}(ia),Xo=function(i){function e(r){return r===void 0&&(r={}),i.call(this,zi({event:"swipe",threshold:10,velocity:.3,direction:Dn|Zs,pointers:1},r))||this}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){return Yo.prototype.getTouchAction.call(this)},t.attrTest=function(r){var n,s=this.options.direction;return s&(Dn|Zs)?n=r.overallVelocity:s&Dn?n=r.overallVelocityX:s&Zs&&(n=r.overallVelocityY),i.prototype.attrTest.call(this,r)&&s&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&Uo(n)>this.options.velocity&&r.eventType&Yt},t.emit=function(r){var n=O_(r.offsetDirection);n&&this.manager.emit(this.options.event+n,r),this.manager.emit(this.options.event,r)},e}(ia),Nd=function(i){function e(r){return r===void 0&&(r={}),i.call(this,zi({event:"pinch",threshold:0,pointers:2},r))||this}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){return[Ys]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},t.emit=function(r){if(r.scale!==1){var n=r.scale<1?"in":"out";r.additionalEvent=this.options.event+n}i.prototype.emit.call(this,r)},e}(ia),na=function(i){function e(r){return r===void 0&&(r={}),i.call(this,zi({event:"rotate",threshold:0,pointers:2},r))||this}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){return[Ys]},t.attrTest=function(r){return i.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},e}(ia),zg=function(i){function e(r){var n;return r===void 0&&(r={}),(n=i.call(this,zi({event:"press",pointers:1,time:251,threshold:9},r))||this)._timer=null,n._input=null,n}qi(e,i);var t=e.prototype;return t.getTouchAction=function(){return[c_]},t.process=function(r){var n=this,s=this.options,c=r.pointers.length===s.pointers,f=r.distance<s.threshold,w=r.deltaTime>s.time;if(this._input=r,!f||!c||r.eventType&(Yt|zr)&&!w)this.reset();else if(r.eventType&mr)this.reset(),this._timer=setTimeout(function(){n.state=8,n.tryEmit()},s.time);else if(r.eventType&Yt)return 8;return Ko},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===8&&(r&&r.eventType&Yt?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=Ad(),this.manager.emit(this.options.event,this._input)))},e}(Wr),qg={domEvents:!1,touchAction:l_,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Wg=[[na,{enable:!1}],[Nd,{enable:!1},["rotate"]],[Xo,{direction:Dn}],[Yo,{direction:Dn},["swipe"]],[so],[so,{event:"doubletap",taps:2},["tap"]],[zg]];function Hg(i,e){var t,r=i.element;r.style&&(no(i.options.cssProps,function(n,s){t=Rd(r.style,s),e?(i.oldCssProps[t]=r.style[t],r.style[t]=n):r.style[t]=i.oldCssProps[t]||""}),e||(i.oldCssProps={}))}var Fd=function(){function i(t,r){var n,s=this;this.options=io({},qg,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(WS?y_:hr?Md:h_?Bg:jd))(n,US),this.touchAction=new kg(this,this.options.touchAction),Hg(this,!0),no(this.options.recognizers,function(c){var f=s.add(new c[0](c[1]));c[2]&&f.recognizeWith(c[2]),c[3]&&f.requireFailure(c[3])},this)}var e=i.prototype;return e.set=function(t){return io(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var r=this.session;if(!r.stopped){var n;this.touchAction.preventDefaults(t);var s=this.recognizers,c=r.curRecognizer;(!c||c&&8&c.state)&&(r.curRecognizer=null,c=null);for(var f=0;f<s.length;)n=s[f],r.stopped===2||c&&n!==c&&!n.canRecognizeWith(c)?n.reset():n.recognize(t),!c&&14&n.state&&(r.curRecognizer=n,c=n),f++}},e.get=function(t){if(t instanceof Wr)return t;for(var r=this.recognizers,n=0;n<r.length;n++)if(r[n].options.event===t)return r[n];return null},e.add=function(t){if(Vo(t,"add",this))return this;var r=this.get(t.options.event);return r&&this.remove(r),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Vo(t,"remove",this))return this;var r=this.get(t);if(t){var n=this.recognizers,s=Go(n,r);s!==-1&&(n.splice(s,1),this.touchAction.update())}return this},e.on=function(t,r){if(t===void 0||r===void 0)return this;var n=this.handlers;return no(rc(t),function(s){n[s]=n[s]||[],n[s].push(r)}),this},e.off=function(t,r){if(t===void 0)return this;var n=this.handlers;return no(rc(t),function(s){r?n[s]&&n[s].splice(Go(n[s],r),1):delete n[s]}),this},e.emit=function(t,r){this.options.domEvents&&function(c,f){var w=document.createEvent("Event");w.initEvent(c,!0,!0),w.gesture=f,f.target.dispatchEvent(w)}(t,r);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){r.type=t,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var s=0;s<n.length;)n[s](r),s++}},e.destroy=function(){this.element&&Hg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),oa={touchstart:mr,touchmove:2,touchend:Yt,touchcancel:zr},oc=function(i){function e(){var t,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(t=i.apply(this,arguments)||this).started=!1,t}return qi(e,i),e.prototype.handler=function(t){var r=oa[t.type];if(r===mr&&(this.started=!0),this.started){var n=fu.call(this,t,r);r&(Yt|zr)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:n[0],changedPointers:n[1],pointerType:Zl,srcEvent:t})}},e}(ra);function fu(i,e){var t=du(i.touches),r=du(i.changedTouches);return e&(Yt|zr)&&(t=Fg(t.concat(r),"identifier",!0)),[t,r]}function sc(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",c=window.console&&(window.console.warn||window.console.log);return c&&c.call(window.console,r,s),i.apply(this,arguments)}}var Ug=sc(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),E_=sc(function(i,e){return Ug(i,e,!0)},"merge","Use `assign`.");function XS(i,e,t){var r,n=e.prototype;(r=i.prototype=Object.create(n)).constructor=i,r._super=n,t&&io(r,t)}function pu(i,e){return function(){return i.apply(e,arguments)}}var ac=function(){var i=function(e,t){return t===void 0&&(t={}),new Fd(e,zi({recognizers:Wg.concat()},t))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=si,i.DIRECTION_DOWN=hu,i.DIRECTION_LEFT=ec,i.DIRECTION_RIGHT=Js,i.DIRECTION_UP=Qs,i.DIRECTION_HORIZONTAL=Dn,i.DIRECTION_VERTICAL=Zs,i.DIRECTION_NONE=kd,i.DIRECTION_DOWN=hu,i.INPUT_START=mr,i.INPUT_MOVE=2,i.INPUT_END=Yt,i.INPUT_CANCEL=zr,i.STATE_POSSIBLE=1,i.STATE_BEGAN=2,i.STATE_CHANGED=4,i.STATE_ENDED=8,i.STATE_RECOGNIZED=8,i.STATE_CANCELLED=16,i.STATE_FAILED=Ko,i.Manager=Fd,i.Input=ra,i.TouchAction=kg,i.TouchInput=Md,i.MouseInput=jd,i.PointerEventInput=y_,i.TouchMouseInput=Bg,i.SingleTouchInput=oc,i.Recognizer=Wr,i.AttrRecognizer=ia,i.Tap=so,i.Pan=Yo,i.Swipe=Xo,i.Pinch=Nd,i.Rotate=na,i.Press=zg,i.on=ta,i.off=ic,i.each=no,i.merge=E_,i.extend=Ug,i.bindFn=pu,i.assign=io,i.inherit=XS,i.bindFn=pu,i.prefixed=Rd,i.toArray=du,i.inArray=Go,i.uniqueArray=Fg,i.splitStr=rc,i.boolOrFn=$d,i.hasParent=$g,i.addEventListeners=ta,i.removeEventListeners=ic,i.defaults=io({},qg,{preset:Wg}),i}();ac.defaults;var S_=ac;function dr(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){let[n,s,c]=function(){const P=function(){let l=4022871197;return function(d){const g=d.toString();for(let _=0;_<g.length;_++){l+=g.charCodeAt(_);let I=.02519603282416938*l;l=I>>>0,I-=l,I*=l,l=I>>>0,I-=l,l+=4294967296*I}return 23283064365386963e-26*(l>>>0)}}();let A=P(" "),o=P(" "),u=P(" ");for(let l=0;l<arguments.length;l++)A-=P(l<0||arguments.length<=l?void 0:arguments[l]),A<0&&(A+=1),o-=P(l<0||arguments.length<=l?void 0:arguments[l]),o<0&&(o+=1),u-=P(l<0||arguments.length<=l?void 0:arguments[l]),u<0&&(u+=1);return[A,o,u]}(r),f=1;const w=()=>{const P=2091639*n+23283064365386963e-26*f;return n=s,s=c,c=P-(f=0|P)};return w.uint32=()=>4294967296*w(),w.fract53=()=>w()+11102230246251565e-32*(2097152*w()|0),w.algorithm="Alea",w.seed=r,w.version="0.9",w}(e.length?e:[Hl()])}Lo("DELETE");const Nt=typeof window<"u"?window.Hammer||S_:function(){return function(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get:()=>({set:i})}}()};function At(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Nt(this._dom.overlay);t.on("tap",de(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Et(r).call(r,n=>{t.on(n,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{(function(s,c){for(;s;){if(s===c)return!0;s=s.parentNode}return!1})(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}yb(At.prototype),At.current=null,At.prototype.destroy=function(){this.deactivate();for(const t of Us(i=ro(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}},At.prototype.activate=function(){At.current&&At.current.deactivate(),At.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},At.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},At.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};const Ld=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,uc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,lc=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,cc=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function yi(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(yi(e),i.removeChild(e))}}function Hr(i){return i instanceof String||typeof i=="string"}function Jo(i){return typeof i=="object"&&i!==null}function ao(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function Gg(i,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")ao(i,e,r,t);else{const n=i[r],s=e[r];Jo(n)&&Jo(s)&&Gg(n,s,t)}}function Wi(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(zt(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?bt(e[s],t[s],!1,r):ao(e,t,s,r);else{if(zt(t[s]))throw new TypeError("Arrays are not supported by deepExtend");ao(e,t,s,r)}}return e}function Hi(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(zt(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!Bo(i).call(i,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?bt(e[n],t[n]):ao(e,t,n,r);else if(zt(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else ao(e,t,n,r);return e}function bt(i,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&z0(e[s])===Object.prototype)i[s]===void 0?i[s]=bt({},e[s],t):typeof i[s]=="object"&&i[s]!==null&&z0(i[s])===Object.prototype?bt(i[s],e[s],t):ao(i,e,s,r);else if(zt(e[s])){var n;i[s]=Nr(n=e[s]).call(n)}else ao(i,e,s,r);return i}function Mn(i,e){return[...i,e]}function T_(i){return i.getBoundingClientRect().top}function nt(i,e){if(zt(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function Bd(i){let e;switch(i.length){case 3:case 4:return e=uc.exec(i),e?{r:qt(e[1]+e[1],16),g:qt(e[2]+e[2],16),b:qt(e[3]+e[3],16)}:null;case 6:case 7:return e=Ld.exec(i),e?{r:qt(e[1],16),g:qt(e[2],16),b:qt(e[3],16)}:null;default:return null}}function mi(i,e){if(Bo(i).call(i,"rgba"))return i;if(Bo(i).call(i,"rgb")){const t=i.substr(mt(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}{const t=Bd(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function hc(i,e,t){var r;return"#"+Nr(r=((1<<24)+(i<<16)+(e<<8)+t).toString(16)).call(r,1)}function vu(i,e){if(Hr(i)){let r=i;if(yu(r)){var t;const n=Ws(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return qt(s)});r=hc(n[0],n[1],n[2])}if(x_(r)===!0){const n=function(P){const A=Bd(P);if(!A)throw new TypeError("'".concat(P,"' is not a valid color."));return sa(A.r,A.g,A.b)}(r),s={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},c={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},f=gu(c.h,c.s,c.v),w=gu(s.h,s.s,s.v);return{background:r,border:f,highlight:{background:w,border:f},hover:{background:w,border:f}}}return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}return{background:i.background||void 0,border:i.border||void 0,highlight:Hr(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Hr(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function sa(i,e,t){i/=255,e/=255,t/=255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));return r===n?{h:0,s:0,v:r}:{h:60*((i===r?3:t===r?1:5)-(i===r?e-t:t===r?i-e:t-i)/(n-r))/360,s:(n-r)/n,v:n}}function dc(i,e,t){let r,n,s;const c=Math.floor(6*i),f=6*i-c,w=t*(1-e),P=t*(1-f*e),A=t*(1-(1-f)*e);switch(c%6){case 0:r=t,n=A,s=w;break;case 1:r=P,n=t,s=w;break;case 2:r=w,n=t,s=A;break;case 3:r=w,n=P,s=t;break;case 4:r=A,n=w,s=t;break;case 5:r=t,n=w,s=P}return{r:Math.floor(255*r),g:Math.floor(255*n),b:Math.floor(255*s)}}function gu(i,e,t){const r=dc(i,e,t);return hc(r.r,r.g,r.b)}function x_(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function yu(i){return lc.test(i)}function Ui(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Wo(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=Ui(i[t]));return e}function Ar(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(A){return A!=null},s=function(A){return A!==null&&typeof A=="object"};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const c=e[t],f=s(r)&&!function(A){for(const o in A)if(Object.prototype.hasOwnProperty.call(A,o))return!1;return!0}(r)?r[t]:void 0,w=f?f.enabled:void 0;if(c===void 0)return;if(typeof c=="boolean")return s(i[t])||(i[t]={}),void(i[t].enabled=c);if(c===null&&!s(i[t])){if(!n(f))return;i[t]=Wo(f)}if(!s(c))return;let P=!0;c.enabled!==void 0?P=c.enabled:w!==void 0&&(P=f.enabled),function(A,o,u){s(A[u])||(A[u]={});const l=o[u],d=A[u];for(const g in l)Object.prototype.hasOwnProperty.call(l,g)&&(d[g]=l[g])}(i,e,t),i[t].enabled=P}const I_={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>i*(2-i),easeInOutQuad:i=>i<.5?2*i*i:(4-2*i)*i-1,easeInCubic:i=>i*i*i,easeOutCubic:i=>--i*i*i+1,easeInOutCubic:i=>i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1,easeInQuart:i=>i*i*i*i,easeOutQuart:i=>1- --i*i*i*i,easeInOutQuart:i=>i<.5?8*i*i*i*i:1-8*--i*i*i*i,easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>1+--i*i*i*i*i,easeInOutQuint:i=>i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i};function ai(i,e){let t;zt(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(t!==void 0)break}return t}const aa={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let JS=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=i,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(i){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=i,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(i){if(typeof i!="function")throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=i}setCloseCallback(i){if(typeof i!="function")throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=i}_isColorString(i){if(typeof i=="string")return aa[i]}setColor(i){let e,t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(i==="none")return;const r=this._isColorString(i);if(r!==void 0&&(i=r),Hr(i)===!0){if(yu(i)===!0){const n=i.substr(4).substr(0,i.length-5).split(",");e={r:n[0],g:n[1],b:n[2],a:1}}else if(function(n){return cc.test(n)}(i)===!0){const n=i.substr(5).substr(0,i.length-6).split(",");e={r:n[0],g:n[1],b:n[2],a:n[3]}}else if(x_(i)===!0){const n=Bd(i);e={r:n.r,g:n.g,b:n.b,a:1}}}else if(i instanceof Object&&i.r!==void 0&&i.g!==void 0&&i.b!==void 0){const n=i.a!==void 0?i.a:"1.0";e={r:i.r,g:i.g,b:i.b,a:n}}if(e===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+er(i));this._setColor(e,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])===!0&&(this.previousColor=wt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(i){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])===!0&&(this.initialColor=wt({},i)),this.color=i;const e=sa(i.r,i.g,i.b),t=2*Math.PI,r=this.r*e.s,n=this.centerCoordinates.x+r*Math.sin(t*e.h),s=this.centerCoordinates.y+r*Math.cos(t*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(i)}_setOpacity(i){this.color.a=i/100,this._updatePicker(this.color)}_setBrightness(i){const e=sa(this.color.r,this.color.g,this.color.b);e.v=i/100;const t=dc(e.h,e.s,e.v);t.a=this.color.a,this.color=t,this._updatePicker()}_updatePicker(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const e=sa(i.r,i.g,i.b),t=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,r,n),t.putImageData(this.hueCircle,0,0),t.fillStyle="rgba(0,0,0,"+(1-e.v)+")",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Jl(t).call(t),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*i.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var i,e,t,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=de(i=this._hide).call(i,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=de(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=de(t=this._save).call(t,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=de(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Nt(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",i=>{i.isFirst&&this._moveSelector(i)}),this.hammer.on("tap",i=>{this._moveSelector(i)}),this.hammer.on("panstart",i=>{this._moveSelector(i)}),this.hammer.on("panmove",i=>{this._moveSelector(i)}),this.hammer.on("panend",i=>{this._moveSelector(i)})}_generateHueCircle(){if(this.generated===!1){const i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,t=this.colorPickerCanvas.clientHeight;let r,n,s,c;i.clearRect(0,0,e,t),this.centerCoordinates={x:.5*e,y:.5*t},this.r=.49*e;const f=2*Math.PI/360,w=1/360,P=1/this.r;let A;for(s=0;s<360;s++)for(c=0;c<this.r;c++)r=this.centerCoordinates.x+c*Math.sin(f*s),n=this.centerCoordinates.y+c*Math.cos(f*s),A=dc(s*w,c*P,1),i.fillStyle="rgb("+A.r+","+A.g+","+A.b+")",i.fillRect(r-.5,n-.5,2,2);i.strokeStyle="rgba(0,0,0,1)",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.stroke(),this.hueCircle=i.getImageData(0,0,e,t)}this.generated=!0}_moveSelector(i){const e=this.colorPickerDiv.getBoundingClientRect(),t=i.center.x-e.left,r=i.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,c=t-s,f=r-n,w=Math.atan2(c,f),P=.98*Math.min(Math.sqrt(c*c+f*f),s),A=Math.cos(w)*P+n,o=Math.sin(w)*P+s;this.colorPickerSelector.style.top=A-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px";let u=w/(2*Math.PI);u=u<0?u+1:u;const l=P/this.r,d=sa(this.color.r,this.color.g,this.color.b);d.h=u,d.s=l;const g=dc(d.h,d.s,d.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Vg(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(Vg(...Nr(e).call(e,1))),r}}let Kg,mu=!1;const fc="background: #FFeeee; color: #dd0000",pc=At,Yg=class{constructor(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=i,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=n,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},wt(this.options,this.defaultOptions),this.configureOptions=t,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new JS(r),this.wrapper=void 0}setOptions(i){if(i!==void 0){this.popupHistory={},this._removePopup();let e=!0;if(typeof i=="string")this.options.filter=i;else if(zt(i))this.options.filter=i.join();else if(typeof i=="object"){if(i==null)throw new TypeError("options cannot be null");i.container!==void 0&&(this.options.container=i.container),Fr(i)!==void 0&&(this.options.filter=Fr(i)),i.showButton!==void 0&&(this.options.showButton=i.showButton),i.enabled!==void 0&&(e=i.enabled)}else typeof i=="boolean"?(this.options.filter=!0,e=i):typeof i=="function"&&(this.options.filter=i,e=!0);Fr(this.options)===!1&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(i){this.moduleOptions=i,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const i=Fr(this.options);let e=0,t=!1;for(const r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,t=!1,typeof i=="function"?(t=i(r,[]),t=t||this._handleObject(this.configureOptions[r],[r],!0)):i!==!0&&mt(i).call(i,r)===-1||(t=!0),t!==!1&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let i=0;i<this.domElements.length;i++)this.wrapper.appendChild(this.domElements[i]);this._showPopupIfNeeded()}_clean(){for(let i=0;i<this.domElements.length;i++)this.wrapper.removeChild(this.domElements[i]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(i){let e=this.moduleOptions;for(let t=0;t<i.length;t++){if(e[i[t]]===void 0){e=void 0;break}e=e[i[t]]}return e}_makeItem(i){if(this.allowCreation===!0){const n=document.createElement("div");n.className="vis-configuration vis-config-item vis-config-s"+i.length;for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Et(t).call(t,s=>{n.appendChild(s)}),this.domElements.push(n),this.domElements.length}return 0}_makeHeader(i){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=i,this._makeItem([],e)}_makeLabel(i,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+e.length,t===!0){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(Vg("i","b",i))}else r.innerText=i+":";return r}_makeDropdown(i,e,t){const r=document.createElement("select");r.className="vis-configuration vis-config-select";let n=0;e!==void 0&&mt(i).call(i,e)!==-1&&(n=mt(i).call(i,e));for(let f=0;f<i.length;f++){const w=document.createElement("option");w.value=i[f],f===n&&(w.selected="selected"),w.innerText=i[f],r.appendChild(w)}const s=this;r.onchange=function(){s._update(this.value,t)};const c=this._makeLabel(t[t.length-1],t);this._makeItem(t,c,r)}_makeRange(i,e,t){const r=i[0],n=i[1],s=i[2],c=i[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=n,f.max=s}catch{}f.step=c;let w="",P=0;e!==void 0?(e<0&&e*1.2<n?(f.min=Math.ceil(e*1.2),P=f.min,w="range increased"):e/1.2<n&&(f.min=Math.ceil(e/1.2),P=f.min,w="range increased"),e*1.2>s&&s!==1&&(f.max=Math.ceil(e*1.2),P=f.max,w="range increased"),f.value=e):f.value=r;const A=document.createElement("input");A.className="vis-configuration vis-config-rangeinput",A.value=f.value;const o=this;f.onchange=function(){A.value=this.value,o._update(Number(this.value),t)},f.oninput=function(){A.value=this.value};const u=this._makeLabel(t[t.length-1],t),l=this._makeItem(t,u,f,A);w!==""&&this.popupHistory[l]!==P&&(this.popupHistory[l]=P,this._setupPopup(w,l))}_makeButton(){if(this.options.showButton===!0){const i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=()=>{this._printOptions()},i.onmouseover=()=>{i.className="vis-configuration vis-config-button hover"},i.onmouseout=()=>{i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}_setupPopup(i,e){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const t=document.createElement("div");t.id="vis-configuration-popup",t.className="vis-configuration-popup",t.innerText=i,t.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:t,index:e}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const i=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(i,e,t){const r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=i,e!==void 0&&(r.checked=e,e!==i&&(typeof i=="object"?e!==i.enabled&&this.changedOptions.push({path:t,value:e}):this.changedOptions.push({path:t,value:e})));const n=this;r.onchange=function(){n._update(this.checked,t)};const s=this._makeLabel(t[t.length-1],t);this._makeItem(t,s,r)}_makeTextInput(i,e,t){const r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=e,e!==i&&this.changedOptions.push({path:t,value:e});const n=this;r.onchange=function(){n._update(this.value,t)};const s=this._makeLabel(t[t.length-1],t);this._makeItem(t,s,r)}_makeColorField(i,e,t){const r=i[1],n=document.createElement("div");(e=e===void 0?r:e)!=="none"?(n.className="vis-configuration vis-config-colorBlock",n.style.backgroundColor=e):n.className="vis-configuration vis-config-colorBlock none",e=e===void 0?r:e,n.onclick=()=>{this._showColorPicker(e,n,t)};const s=this._makeLabel(t[t.length-1],t);this._makeItem(t,s,n)}_showColorPicker(i,e,t){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(i),this.colorPicker.setUpdateCallback(r=>{const n="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";e.style.backgroundColor=n,this._update(n,t)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(i,e,t)}})}_handleObject(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=!1;const n=Fr(this.options);let s=!1;for(const c in i)if(Object.prototype.hasOwnProperty.call(i,c)){r=!0;const f=i[c],w=Mn(e,c);if(typeof n=="function"&&(r=n(c,e),r===!1&&!zt(f)&&typeof f!="string"&&typeof f!="boolean"&&f instanceof Object&&(this.allowCreation=!1,r=this._handleObject(f,w,!0),this.allowCreation=t===!1)),r!==!1){s=!0;const P=this._getValue(w);if(zt(f))this._handleArray(f,P,w);else if(typeof f=="string")this._makeTextInput(f,P,w);else if(typeof f=="boolean")this._makeCheckbox(f,P,w);else if(f instanceof Object){if(!this.hideOption(e,c,this.moduleOptions))if(f.enabled!==void 0){const A=Mn(w,"enabled"),o=this._getValue(A);if(o===!0){const u=this._makeLabel(c,w,!0);this._makeItem(w,u),s=this._handleObject(f,w)||s}else this._makeCheckbox(f,o,w)}else{const A=this._makeLabel(c,w,!0);this._makeItem(w,A),s=this._handleObject(f,w)||s}}else console.error("dont know how to handle",f,c,w)}}return s}_handleArray(i,e,t){typeof i[0]=="string"&&i[0]==="color"?(this._makeColorField(i,e,t),i[1]!==e&&this.changedOptions.push({path:t,value:e})):typeof i[0]=="string"?(this._makeDropdown(i,e,t),i[0]!==e&&this.changedOptions.push({path:t,value:e})):typeof i[0]=="number"&&(this._makeRange(i,e,t),i[0]!==e&&this.changedOptions.push({path:t,value:Number(e)}))}_update(i,e){const t=this._constructOptions(i,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",t),this.initialized=!0,this.parent.setOptions(t)}_constructOptions(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t;i=(i=i==="true"||i)!=="false"&&i;for(let n=0;n<e.length;n++)e[n]!=="global"&&(r[e[n]]===void 0&&(r[e[n]]={}),n!==e.length-1?r=r[e[n]]:r[e[n]]=i);return t}_printOptions(){const i=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Vg("pre","const options = "+er(i,null,2)))}getOptions(){const i={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,i);return i}},bu=Nt,Xg=class{constructor(i,e){this.container=i,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(i,e){this.x=qt(i),this.y=qt(e)}setText(i){if(i instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(i)}else this.frame.innerText=i}show(i){if(i===void 0&&(i=!0),i===!0){const e=this.frame.clientHeight,t=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth;let s=0,c=0;if(this.overflowMethod=="flip"){let f=!1,w=!0;this.y-e<this.padding&&(w=!1),this.x+t>n-this.padding&&(f=!0),s=f?this.x-t:this.x,c=w?this.y-e:this.y}else c=this.y-e,c+e+this.padding>r&&(c=r-e-this.padding),c<this.padding&&(c=this.padding),s=this.x,s+t+this.padding>n&&(s=n-t-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=c+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},P_=fc,QS=class pr{static validate(e,t,r){mu=!1,Kg=t;let n=t;return r!==void 0&&(n=t[r]),pr.parse(e,n,[]),mu}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&pr.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0)return void pr.getSuggestion(e,r,n);let s=e,c=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",c=pr.getType(t[e])==="object");let f=r[s];c&&f.__type__!==void 0&&(f=f.__type__),pr.checkFields(e,t,r,s,f,n)}static checkFields(e,t,r,n,s,c){const f=function(A){console.error("%c"+A+pr.printLocation(c,e),fc)},w=pr.getType(t[e]),P=s[w];P!==void 0?pr.getType(P)==="array"&&mt(P).call(P,t[e])===-1?(f('Invalid option detected in "'+e+'". Allowed values are:'+pr.print(P)+' not "'+t[e]+'". '),mu=!0):w==="object"&&n!=="__any__"&&(c=Mn(c,e),pr.parse(t[e],r[n],c)):s.any===void 0&&(f('Invalid type received for "'+e+'". Expected: '+pr.print(jt(s))+". Received ["+w+'] "'+t[e]+'"'),mu=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":zt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=pr.findInOptions(e,t,r,!1),s=pr.findInOptions(e,Kg,[],!0);let c;c=n.indexMatch!==void 0?" in "+pr.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=4&&n.distance>s.distance?" in "+pr.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+pr.printLocation(s.path,s.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+pr.printLocation(n.path,e):". Did you mean one of these: "+pr.print(jt(t))+pr.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+c,fc),mu=!0}static findInOptions(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=1e9,c="",f=[];const w=e.toLowerCase();let P;for(const u in t){let l;if(t[u].__type__!==void 0&&n===!0){const d=pr.findInOptions(e,t[u],Mn(r,u));s>d.distance&&(c=d.closestMatch,f=d.path,s=d.distance,P=d.indexMatch)}else{var A;mt(A=u.toLowerCase()).call(A,w)!==-1&&(P=u),l=pr.levenshteinDistance(e,u),s>l&&(c=u,f=Nr(o=r).call(o),s=l)}}var o;return{closestMatch:c,path:f,distance:s,indexMatch:P}}static printLocation(e,t){let r=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let n=0;n<e.length;n++){for(let s=0;s<n+1;s++)r+="  ";r+=e[n]+`: {
`}for(let n=0;n<e.length+1;n++)r+="  ";r+=t+`
`;for(let n=0;n<e.length+1;n++){for(let s=0;s<e.length-n;s++)r+="  ";r+=`}
`}return r+`

`}static print(e){return er(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n,s;for(n=0;n<=t.length;n++)r[n]=[n];for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};function vc(i){return uo=i,function(){var e={};if(fn=0,Qe=uo.charAt(0),St(),Ge==="strict"&&(e.strict=!0,St()),Ge!=="graph"&&Ge!=="digraph"||(e.type=Ge,St()),br===Ur.IDENTIFIER&&(e.id=Ge,St()),Ge!="{")throw Gr("Angle bracket { expected");if(St(),Qg(e),Ge!="}")throw Gr("Angle bracket } expected");if(St(),Ge!=="")throw Gr("End of file expected");return St(),delete e.node,delete e.edge,delete e.graph,e}()}var C_={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},zd=Wo(C_);zd.color="color.color",zd.style="dashes";var Ur={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},A_={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},uo="",fn=0,Qe="",Ge="",br=Ur.NULL;function nr(){fn++,Qe=uo.charAt(fn)}function jn(){return uo.charAt(fn+1)}function qd(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123&&e>96}function bi(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Wd(i,e,t){for(var r=e.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=t}}function Hd(i,e){for(var t,r,n=null,s=[i],c=i;c.parent;)s.push(c.parent),c=c.parent;if(c.nodes){for(t=0,r=c.nodes.length;t<r;t++)if(e.id===c.nodes[t].id){n=c.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=bi(n.attr,i.node))),t=s.length-1;t>=0;t--){var f,w=s[t];w.nodes||(w.nodes=[]),mt(f=w.nodes).call(f,n)===-1&&w.nodes.push(n)}e.attr&&(n.attr=bi(n.attr,e.attr))}function R_(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=bi({},i.edge);e.attr=bi(t,e.attr)}}function Jg(i,e,t,r,n){var s={from:e,to:t,type:r};return i.edge&&(s.attr=bi({},i.edge)),s.attr=bi(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function St(){for(br=Ur.NULL,Ge="";Qe===" "||Qe==="	"||Qe===`
`||Qe==="\r";)nr();do{var i=!1;if(Qe==="#"){for(var e=fn-1;uo.charAt(e)===" "||uo.charAt(e)==="	";)e--;if(uo.charAt(e)===`
`||uo.charAt(e)===""){for(;Qe!=""&&Qe!=`
`;)nr();i=!0}}if(Qe==="/"&&jn()==="/"){for(;Qe!=""&&Qe!=`
`;)nr();i=!0}if(Qe==="/"&&jn()==="*"){for(;Qe!="";){if(Qe==="*"&&jn()==="/"){nr(),nr();break}nr()}i=!0}for(;Qe===" "||Qe==="	"||Qe===`
`||Qe==="\r";)nr()}while(i);if(Qe!==""){var t=Qe+jn();if(A_[t])return br=Ur.DELIMITER,Ge=t,nr(),void nr();if(A_[Qe])return br=Ur.DELIMITER,Ge=Qe,void nr();if(qd(Qe)||Qe==="-"){for(Ge+=Qe,nr();qd(Qe);)Ge+=Qe,nr();return Ge==="false"?Ge=!1:Ge==="true"?Ge=!0:isNaN(Number(Ge))||(Ge=Number(Ge)),void(br=Ur.IDENTIFIER)}if(Qe==='"'){for(nr();Qe!=""&&(Qe!='"'||Qe==='"'&&jn()==='"');)Qe==='"'?(Ge+=Qe,nr()):Qe==="\\"&&jn()==="n"?(Ge+=`
`,nr()):Ge+=Qe,nr();if(Qe!='"')throw Gr('End of string " expected');return nr(),void(br=Ur.IDENTIFIER)}for(br=Ur.UNKNOWN;Qe!="";)Ge+=Qe,nr();throw new SyntaxError('Syntax error in part "'+$_(Ge,30)+'"')}br=Ur.DELIMITER}function Qg(i){for(;Ge!==""&&Ge!="}";)k_(i),Ge===";"&&St()}function k_(i){var e=Zg(i);if(e)Ud(i,e);else{var t=function(n){return Ge==="node"?(St(),n.node=_u(),"node"):Ge==="edge"?(St(),n.edge=_u(),"edge"):Ge==="graph"?(St(),n.graph=_u(),"graph"):null}(i);if(!t){if(br!=Ur.IDENTIFIER)throw Gr("Identifier expected");var r=Ge;if(St(),Ge==="="){if(St(),br!=Ur.IDENTIFIER)throw Gr("Identifier expected");i[r]=Ge,St()}else(function(n,s){var c={id:s},f=_u();f&&(c.attr=f),Hd(n,c),Ud(n,s)})(i,r)}}}function Zg(i){var e=null;if(Ge==="subgraph"&&((e={}).type="subgraph",St(),br===Ur.IDENTIFIER&&(e.id=Ge,St())),Ge==="{"){if(St(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,Qg(e),Ge!="}")throw Gr("Angle bracket } expected");St(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function Ud(i,e){for(;Ge==="->"||Ge==="--";){var t,r=Ge;St();var n=Zg(i);if(n)t=n;else{if(br!=Ur.IDENTIFIER)throw Gr("Identifier or subgraph expected");Hd(i,{id:t=Ge}),St()}R_(i,Jg(i,e,t,r,_u())),e=t}}function _u(){for(var i,e,t=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=new Array,c=new Array;Ge==="[";){for(St(),t={};Ge!==""&&Ge!="]";){if(br!=Ur.IDENTIFIER)throw Gr("Attribute name expected");var f=Ge;if(St(),Ge!="=")throw Gr("Equal sign = expected");if(St(),br!=Ur.IDENTIFIER)throw Gr("Attribute value expected");var w=Ge;f==="style"&&(w=r[w]),f==="arrowhead"&&(f="arrows",w={to:{enabled:!0,type:n[w]}}),f==="arrowtail"&&(f="arrows",w={from:{enabled:!0,type:n[w]}}),s.push({attr:t,name:f,value:w}),c.push(f),St(),Ge==","&&St()}if(Ge!="]")throw Gr("Bracket ] expected");St()}if(Bo(c).call(c,"dir")){var P={arrows:{}};for(i=0;i<s.length;i++)if(s[i].name==="arrows")if(s[i].value.to!=null)P.arrows.to=i;else{if(s[i].value.from==null)throw Gr("Invalid value of arrows");P.arrows.from=i}else s[i].name==="dir"&&(P.dir=i);var A,o,u=s[P.dir].value;if(!Bo(c).call(c,"arrows"))if(u==="both")s.push({attr:s[P.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),P.arrows.to=s.length-1,s.push({attr:s[P.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),P.arrows.from=s.length-1;else if(u==="forward")s.push({attr:s[P.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),P.arrows.to=s.length-1;else if(u==="back")s.push({attr:s[P.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),P.arrows.from=s.length-1;else{if(u!=="none")throw Gr('Invalid dir type "'+u+'"');s.push({attr:s[P.dir].attr,name:"arrows",value:""}),P.arrows.to=s.length-1}if(u==="both")P.arrows.to&&P.arrows.from?(o=s[P.arrows.to].value.to.type,A=s[P.arrows.from].value.from.type,s[P.arrows.to]={attr:s[P.arrows.to].attr,name:s[P.arrows.to].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}},ro(s).call(s,P.arrows.from,1)):P.arrows.to?(o=s[P.arrows.to].value.to.type,A="arrow",s[P.arrows.to]={attr:s[P.arrows.to].attr,name:s[P.arrows.to].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}):P.arrows.from&&(o="arrow",A=s[P.arrows.from].value.from.type,s[P.arrows.from]={attr:s[P.arrows.from].attr,name:s[P.arrows.from].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}});else if(u==="back")P.arrows.to&&P.arrows.from?(o="",A=s[P.arrows.from].value.from.type,s[P.arrows.from]={attr:s[P.arrows.from].attr,name:s[P.arrows.from].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}):P.arrows.to?(o="",A="arrow",P.arrows.from=P.arrows.to,s[P.arrows.from]={attr:s[P.arrows.from].attr,name:s[P.arrows.from].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}):P.arrows.from&&(o="",A=s[P.arrows.from].value.from.type,s[P.arrows.to]={attr:s[P.arrows.from].attr,name:s[P.arrows.from].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}),s[P.arrows.from]={attr:s[P.arrows.from].attr,name:s[P.arrows.from].name,value:{from:{enabled:!0,type:s[P.arrows.from].value.from.type}}};else if(u==="none"){var l;s[l=P.arrows.to?P.arrows.to:P.arrows.from]={attr:s[l].attr,name:s[l].name,value:""}}else{if(u!=="forward")throw Gr('Invalid dir type "'+u+'"');P.arrows.to&&P.arrows.from||P.arrows.to?(o=s[P.arrows.to].value.to.type,A="",s[P.arrows.to]={attr:s[P.arrows.to].attr,name:s[P.arrows.to].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}):P.arrows.from&&(o="arrow",A="",P.arrows.to=P.arrows.from,s[P.arrows.to]={attr:s[P.arrows.to].attr,name:s[P.arrows.to].name,value:{to:{enabled:!0,type:o},from:{enabled:!0,type:A}}}),s[P.arrows.to]={attr:s[P.arrows.to].attr,name:s[P.arrows.to].name,value:{to:{enabled:!0,type:s[P.arrows.to].value.to.type}}}}ro(s).call(s,P.dir,1)}if(Bo(c).call(c,"penwidth")){var d=[];for(e=s.length,i=0;i<e;i++)s[i].name!=="width"&&(s[i].name==="penwidth"&&(s[i].name="width"),d.push(s[i]));s=d}for(e=s.length,i=0;i<e;i++)Wd(s[i].attr,s[i].name,s[i].value);return t}function Gr(i){return new SyntaxError(i+', got "'+$_(Ge,30)+'" (char '+fn+")")}function $_(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function ey(i,e,t){for(var r=e.split("."),n=r.pop(),s=i,c=0;c<r.length;c++){var f=r[c];f in s||(s[f]={}),s=s[f]}return s[n]=t,i}function ty(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];zt(n)?Et(n).call(n,function(s){ey(t,s,i[r])}):ey(t,typeof n=="string"?n:r,i[r])}return t}function Gd(i){var e,t=vc(i),r={nodes:[],edges:[],options:{}};if(t.nodes&&Et(e=t.nodes).call(e,function(c){var f={id:c.id,label:String(c.label||c.id)};bi(f,ty(c.attr,C_)),f.image&&(f.shape="image"),r.nodes.push(f)}),t.edges){var n,s=function(c){var f={from:c.from,to:c.to};return bi(f,ty(c.attr,zd)),f.arrows==null&&c.type==="->"&&(f.arrows="to"),f};Et(n=t.edges).call(n,function(c){var f,w,P,A,o,u,l;f=c.from instanceof Object?c.from.nodes:{id:c.from},w=c.to instanceof Object?c.to.nodes:{id:c.to},c.from instanceof Object&&c.from.edges&&Et(P=c.from.edges).call(P,function(d){var g=s(d);r.edges.push(g)}),o=w,u=function(d,g){var _=Jg(r,d.id,g.id,c.type,c.attr),I=s(_);r.edges.push(I)},zt(A=f)?Et(A).call(A,function(d){zt(o)?Et(o).call(o,function(g){u(d,g)}):u(d,o)}):zt(o)?Et(o).call(o,function(d){u(A,d)}):u(A,o),c.to instanceof Object&&c.to.edges&&Et(l=c.to.edges).call(l,function(d){var g=s(d);r.edges.push(g)})})}return t.attr&&(r.options=t.attr),r}var D_=Object.freeze({__proto__:null,DOTToGraph:Gd,parseDOT:vc});function ry(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,s=Ws(n).call(n,c=>{const f={from:c.source,id:c.id,to:c.target};return c.attributes!=null&&(f.attributes=c.attributes),c.label!=null&&(f.label=c.label),c.attributes!=null&&c.attributes.title!=null&&(f.title=c.attributes.title),c.type==="Directed"&&(f.arrows="to"),c.color&&r.edges.inheritColor===!1&&(f.color=c.color),f});return{nodes:Ws(t=i.nodes).call(t,c=>{const f={id:c.id,fixed:r.nodes.fixed&&c.x!=null&&c.y!=null};return c.attributes!=null&&(f.attributes=c.attributes),c.label!=null&&(f.label=c.label),c.size!=null&&(f.size=c.size),c.attributes!=null&&c.attributes.title!=null&&(f.title=c.attributes.title),c.title!=null&&(f.title=c.title),c.x!=null&&(f.x=c.x),c.y!=null&&(f.y=c.y),c.color!=null&&(r.nodes.parseColor===!0?f.color=c.color:f.color={background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}),f}),edges:s}}var M_=Object.freeze({__proto__:null,parseGephi:ry}),ZS=Object.freeze({__proto__:null,cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},cs:{addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"}});class j_{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),s=Math.floor(t/8),c=Math.floor(t/16),f=Math.floor(e/2),w=Math.floor(e/4),P=Math.floor(e/8),A=Math.floor(e/16);this.canvas.width=3*w,this.canvas.height=r,this.coordinates=[[0,0,f,r],[f,0,w,n],[f,n,P,s],[5*P,n,A,c]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,n,s,c){if(this.initialized())if(t>2){t*=.5;let f=0;for(;t>2&&f<this.NUM_ITERATIONS;)t*=.5,f+=1;f>=this.NUM_ITERATIONS&&(f=this.NUM_ITERATIONS-1);const w=this.coordinates[f];e.drawImage(this.canvas,w[0],w[1],w[2],w[3],r,n,s,c)}else e.drawImage(this.image,r,n,s,c)}}class iy{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){e!==void 0&&r!==void 0&&(t!==void 0?(r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t):console.warn("No broken url image defined"))}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new j_;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Vd={exports:{}},N_=j(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}}),Kd=j,Yd=pt,F_=ee,L_=N_,Gi=Object.isExtensible,eT=Kd(function(){Gi(1)})||L_?function(i){return!!Yd(i)&&(!L_||F_(i)!=="ArrayBuffer")&&(!Gi||Gi(i))}:Gi,B_=!j(function(){return Object.isExtensible(Object.preventExtensions({}))}),ny=Ne,z_=ie,tT=al,Xd=pt,oy=gr,q_=Vt.f,W_=wl,H_=Ph,Jd=eT,U_=B_,Qd=!1,lo=ih("meta"),rT=0,Zd=function(i){q_(i,lo,{value:{objectID:"O"+rT++,weakData:{}}})},G_=Vd.exports={enable:function(){G_.enable=function(){},Qd=!0;var i=W_.f,e=z_([].splice),t={};t[lo]=1,i(t).length&&(W_.f=function(r){for(var n=i(r),s=0,c=n.length;s<c;s++)if(n[s]===lo){e(n,s,1);break}return n},ny({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:H_.f}))},fastKey:function(i,e){if(!Xd(i))return typeof i=="symbol"?i:(typeof i=="string"?"S":"P")+i;if(!oy(i,lo)){if(!Jd(i))return"F";if(!e)return"E";Zd(i)}return i[lo].objectID},getWeakData:function(i,e){if(!oy(i,lo)){if(!Jd(i))return!0;if(!e)return!1;Zd(i)}return i[lo].weakData},onFreeze:function(i){return U_&&Qd&&Jd(i)&&!oy(i,lo)&&Zd(i),i}};tT[lo]=!0;var wu=Vd.exports,Nn=iu,sy=Gt("iterator"),V_=Array.prototype,ui=xs,K_=op,iT=vr,Y_=iu,Rr=Gt("iterator"),ay=function(i){if(!iT(i))return K_(i,Rr)||K_(i,"@@iterator")||Y_[ui(i)]},gc=dt,X_=xa,nT=Yn,oT=Zu,sT=ay,uy=TypeError,J_=dt,ly=Yn,aT=op,uT=ch,yc=dt,Q_=Yn,mc=Zu,lT=function(i){return i!==void 0&&(Nn.Array===i||V_[sy]===i)},Z_=Sn,Ou=tt,ew=function(i,e){var t=arguments.length<2?sT(i):e;if(X_(t))return nT(gc(t,i));throw new uy(oT(i)+" is not iterable")},cT=ay,cy=function(i,e,t){var r,n;ly(i);try{if(!(r=aT(i,"return"))){if(e==="throw")throw t;return t}r=J_(r,i)}catch(s){n=!0,r=s}if(e==="throw")throw t;if(n)throw r;return ly(r),t},bc=TypeError,_c=function(i,e){this.stopped=i,this.result=e},ef=_c.prototype,tf=function(i,e,t){var r,n,s,c,f,w,P,A=t&&t.that,o=!(!t||!t.AS_ENTRIES),u=!(!t||!t.IS_RECORD),l=!(!t||!t.IS_ITERATOR),d=!(!t||!t.INTERRUPTED),g=uT(e,A),_=function(C){return r&&cy(r,"normal",C),new _c(!0,C)},I=function(C){return o?(Q_(C),d?g(C[0],C[1],_):g(C[0],C[1])):d?g(C,_):g(C)};if(u)r=i.iterator;else if(l)r=i;else{if(!(n=cT(i)))throw new bc(mc(i)+" is not iterable");if(lT(n)){for(s=0,c=Z_(i);c>s;s++)if((f=I(i[s]))&&Ou(ef,f))return f;return new _c(!1)}r=ew(i,n)}for(w=u?i.next:r.next;!(P=yc(w,r)).done;){try{f=I(P.value)}catch(C){cy(r,"throw",C)}if(typeof f=="object"&&f&&Ou(ef,f))return f}return new _c(!1)},tw=tt,rw=TypeError,rf=function(i,e){if(tw(e,i))return i;throw new rw("Incorrect invocation")},Eu=Ne,hy=F,iw=wu,Vr=j,hT=_s,nw=tf,ow=rf,dT=Ze,fT=pt,pT=vr,vT=xn,sw=Vt.f,gT=Bt.forEach,yT=je,nf=ln.set,mT=ln.getterFor,dy=function(i,e,t){var r,n=i.indexOf("Map")!==-1,s=i.indexOf("Weak")!==-1,c=n?"set":"add",f=hy[i],w=f&&f.prototype,P={};if(yT&&dT(f)&&(s||w.forEach&&!Vr(function(){new f().entries().next()}))){var A=(r=e(function(u,l){nf(ow(u,A),{type:i,collection:new f}),pT(l)||nw(l,u[c],{that:u,AS_ENTRIES:n})})).prototype,o=mT(i);gT(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(u){var l=u==="add"||u==="set";!(u in w)||s&&u==="clear"||hT(A,u,function(d,g){var _=o(this).collection;if(!l&&s&&!fT(d))return u==="get"&&void 0;var I=_[u](d===0?0:d,g);return l?this:I})}),s||sw(A,"size",{configurable:!0,get:function(){return o(this).collection.size}})}else r=t.getConstructor(e,i,n,c),iw.enable();return vT(r,i,!1,!0),P[i]=r,Eu({global:!0,forced:!0},P),s||t.setStrong(r,i,n),r},bT=Co,fy=function(i,e,t){for(var r in e)t&&t.unsafe&&i[r]?i[r]=e[r]:bT(i,r,e[r],t);return i},_T=lt,aw=Ao,uw=je,lw=Gt("species"),wT=_l,OT=Ao,cw=fy,ET=ch,ST=rf,hw=vr,py=tf,TT=Bl,of=Dv,xT=function(i){var e=_T(i);uw&&e&&!e[lw]&&aw(e,lw,{configurable:!0,get:function(){return this}})},Kr=je,vy=wu.fastKey,Qo=ln.set,gy=ln.getterFor,dw={getConstructor:function(i,e,t,r){var n=i(function(P,A){ST(P,s),Qo(P,{type:e,index:wT(null),first:void 0,last:void 0,size:0}),Kr||(P.size=0),hw(A)||py(A,P[r],{that:P,AS_ENTRIES:t})}),s=n.prototype,c=gy(e),f=function(P,A,o){var u,l,d=c(P),g=w(P,A);return g?g.value=o:(d.last=g={index:l=vy(A,!0),key:A,value:o,previous:u=d.last,next:void 0,removed:!1},d.first||(d.first=g),u&&(u.next=g),Kr?d.size++:P.size++,l!=="F"&&(d.index[l]=g)),P},w=function(P,A){var o,u=c(P),l=vy(A);if(l!=="F")return u.index[l];for(o=u.first;o;o=o.next)if(o.key===A)return o};return cw(s,{clear:function(){for(var P=c(this),A=P.index,o=P.first;o;)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete A[o.index],o=o.next;P.first=P.last=void 0,Kr?P.size=0:this.size=0},delete:function(P){var A=this,o=c(A),u=w(A,P);if(u){var l=u.next,d=u.previous;delete o.index[u.index],u.removed=!0,d&&(d.next=l),l&&(l.previous=d),o.first===u&&(o.first=l),o.last===u&&(o.last=d),Kr?o.size--:A.size--}return!!u},forEach:function(P){for(var A,o=c(this),u=ET(P,arguments.length>1?arguments[1]:void 0);A=A?A.next:o.first;)for(u(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(P){return!!w(this,P)}}),cw(s,t?{get:function(P){var A=w(this,P);return A&&A.value},set:function(P,A){return f(this,P===0?0:P,A)}}:{add:function(P){return f(this,P=P===0?0:P,P)}}),Kr&&OT(s,"size",{configurable:!0,get:function(){return c(this).size}}),n},setStrong:function(i,e,t){var r=e+" Iterator",n=gy(e),s=gy(r);TT(i,e,function(c,f){Qo(this,{type:r,target:c,state:n(c),kind:f,last:void 0})},function(){for(var c=s(this),f=c.kind,w=c.last;w&&w.removed;)w=w.previous;return c.target&&(c.last=w=w?w.next:c.state.first)?of(f==="keys"?w.key:f==="values"?w.value:[w.key,w.value],!1):(c.target=void 0,of(void 0,!0))},t?"entries":"values",!t,!0),xT(e)}};dy("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},dw);var sf=ie,IT=Eo,af=an,PT=fe,fw=sf("".charAt),Su=sf("".charCodeAt),yy=sf("".slice),CT=function(i){return function(e,t){var r,n,s=af(PT(e)),c=IT(t),f=s.length;return c<0||c>=f?i?"":void 0:(r=Su(s,c))<55296||r>56319||c+1===f||(n=Su(s,c+1))<56320||n>57343?i?fw(s,c):r:i?yy(s,c,c+2):n-56320+(r-55296<<10)+65536}},pw={charAt:CT(!0)}.charAt,AT=an,vw=ln,gw=Bl,wc=Dv,my="String Iterator",Tu=vw.set,by=vw.getterFor(my);gw(String,"String",function(i){Tu(this,{type:my,string:AT(i),index:0})},function(){var i,e=by(this),t=e.string,r=e.index;return r>=t.length?wc(void 0,!0):(i=pw(t,r),e.index+=i.length,wc(i,!1))});var ua=T(Ie.Map);class xu{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},wt(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&mt(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new ua,this._groupNames=[]}get(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}Ne({target:"Number",stat:!0},{isNaN:function(i){return i!=i}});var uf=T(Ie.Number.isNaN),_y=F.isFinite,RT=Number.isFinite||function(i){return typeof i=="number"&&_y(i)};Ne({target:"Number",stat:!0},{isFinite:RT});var la=T(Ie.Number.isFinite),kT=Bt.some;Ne({target:"Array",proto:!0,forced:!Hs("some")},{some:function(i){return kT(this,i,arguments.length>1?arguments[1]:void 0)}});var lf=Qt("Array").some,yw=tt,$T=lf,wy=Array.prototype,Oy=function(i){var e=i.some;return i===wy||yw(wy,i)&&e===wy.some?$T:e},mw=T(Oy),bw={exports:{}},DT=Ne,MT=je,Oc=Vt.f;DT({target:"Object",stat:!0,forced:Object.defineProperty!==Oc,sham:!MT},{defineProperty:Oc});var Ey=Ie.Object,_i=bw.exports=function(i,e,t){return Ey.defineProperty(i,e,t)};Ey.defineProperty.sham&&(_i.sham=!0);var _w=bw.exports,jT=T(_w),Sy=Gt,ww=Vt.f,Ty=Sy("metadata"),xy=Function.prototype;xy[Ty]===void 0&&ww(xy,Ty,{value:null}),Mt("asyncDispose"),Mt("dispose"),Mt("metadata");var NT=ql,cf=ie,Iy=lt("Symbol"),FT=Iy.keyFor,LT=cf(Iy.prototype.valueOf),hf=Iy.isRegisteredSymbol||function(i){try{return FT(LT(i))!==void 0}catch{return!1}};Ne({target:"Symbol",stat:!0},{isRegisteredSymbol:hf});for(var ca=Kn,Py=lt,Cy=ie,BT=Ju,Ow=Gt,Ec=Py("Symbol"),df=Ec.isWellKnownSymbol,Iu=Py("Object","getOwnPropertyNames"),Ew=Cy(Ec.prototype.valueOf),ff=ca("wks"),Sc=0,pf=Iu(Ec),Sw=pf.length;Sc<Sw;Sc++)try{var Ay=pf[Sc];BT(Ec[Ay])&&Ow(Ay)}catch{}var Ry=function(i){if(df&&df(i))return!0;try{for(var e=Ew(i),t=0,r=Iu(ff),n=r.length;t<n;t++)if(ff[r[t]]==e)return!0}catch{}return!1};Ne({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Ry}),Mt("matcher"),Mt("observable"),Ne({target:"Symbol",stat:!0},{isRegistered:hf}),Ne({target:"Symbol",stat:!0,forced:!0},{isWellKnown:Ry}),Mt("metadataKey"),Mt("patternMatch"),Mt("replaceAll");var Fn=T(NT),ky=T(As.f("iterator"));function ha(i){return ha=typeof Fn=="function"&&typeof ky=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Fn=="function"&&e.constructor===Fn&&e!==Fn.prototype?"symbol":typeof e},ha(i)}var $y=T(As.f("toPrimitive"));function Tw(i){var e=function(t,r){if(ha(t)!=="object"||t===null)return t;var n=t[$y];if(n!==void 0){var s=n.call(t,r);if(ha(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return ha(e)==="symbol"?e:String(e)}function Tc(i,e,t){return(e=Tw(e))in i?jT(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var xw=F,zT=j,da=an,Iw=Od.trim,qT=wd,Dy=ie("".charAt),vf=xw.parseFloat,Pw=xw.Symbol,My=Pw&&Pw.iterator,Cw=1/vf(qT+"-0")!=-1/0||My&&!zT(function(){vf(Object(My))})?function(i){var e=Iw(da(i)),t=vf(e);return t===0&&Dy(e,0)==="-"?-0:t}:vf;Ne({global:!0,forced:parseFloat!==Cw},{parseFloat:Cw});var gf=T(Ie.parseFloat),yf=Ne,Aw=j,Rw=Ph.f;yf({target:"Object",stat:!0,forced:Aw(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:Rw});var mf=Ie.Object,kw=function(i){return mf.getOwnPropertyNames(i)},jy=T(kw),pn=T(Ie.Object.getOwnPropertySymbols),xc={exports:{}},WT=Ne,fa=j,Zo=$e,Ny=Fe.f,$w=je;WT({target:"Object",stat:!0,forced:!$w||fa(function(){Ny(1)}),sham:!$w},{getOwnPropertyDescriptor:function(i,e){return Ny(Zo(i),e)}});var Dw=Ie.Object,Ic=xc.exports=function(i,e){return Dw.getOwnPropertyDescriptor(i,e)};Dw.getOwnPropertyDescriptor.sham&&(Ic.sham=!0);var es=T(xc.exports),HT=S0,UT=$e,GT=Fe,Mw=To;Ne({target:"Object",stat:!0,sham:!je},{getOwnPropertyDescriptors:function(i){for(var e,t,r=UT(i),n=GT.f,s=HT(r),c={},f=0;s.length>f;)(t=n(r,e=s[f++]))!==void 0&&Mw(c,e,t);return c}});var ts=T(Ie.Object.getOwnPropertyDescriptors),Pc={exports:{}},jw=Ne,Nw=je,Fy=xh.f;jw({target:"Object",stat:!0,forced:Object.defineProperties!==Fy,sham:!Nw},{defineProperties:Fy});var Ly=Ie.Object,Cc=Pc.exports=function(i,e){return Ly.defineProperties(i,e)};Ly.defineProperties.sham&&(Cc.sham=!0);var li=T(Pc.exports),Ac=T(_w);function By(i,e){const t=["node","edge","label"];let r=!0;const n=ai(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(mt(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const s=ai(e,["chosen",i]);typeof s!="boolean"&&typeof s!="function"||(r=s)}return r}function zy(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const c=-t.angle;e={x:Math.cos(c)*s.x-Math.sin(c)*s.y,y:Math.sin(c)*s.x+Math.cos(c)*s.y}}else e=s}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function Pu(i){return typeof i=="string"&&i!==""}function bf(i,e,t,r){let n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const c=r.distanceToBorder(i,e),f=Math.sin(e)*c,w=Math.cos(e)*c;w===c?(n+=c,s=r.y):f===c?(n=r.x,s-=c):(n+=w,s-=f)}else r.shape.width>r.shape.height?(n=r.x+.5*r.shape.width,s=r.y-t):(n=r.x+t,s=r.y-.5*r.shape.height);return{x:n,y:s}}var VT=Qt("Array").values,_f=xs,fr=gr,kr=tt,wf=VT,Rc=Array.prototype,pa={DOMTokenList:!0,NodeList:!0},Fw=function(i){var e=i.values;return i===Rc||kr(Rc,i)&&e===Rc.values||fr(pa,_f(i))?wf:e},Of=T(Fw);class KT{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;t!==void 0&&t!==""||(n=" ");const s=this.measureText(n,r),c=wt({},Of(s));c.text=t,c.width=s.width,c.mod=r,t!==void 0&&t!==""||(c.width=0),this.lines[e].blocks.push(c),this.lines[e].width+=c.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const s=t.blocks[n];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};let s;wt(n,r),n.blocks=[];const c=[];for(let f=0;f<r.blocks.length;f++){const w=r.blocks[f];w.width!==0?c.push(w):s===void 0&&(s=w)}c.length===0&&s!==void 0&&c.push(s),n.blocks=c,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Cu={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class rs{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){return this.modStack.length===0?"normal":this.modStack[0]==="mono"?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}match(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const[r,n]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,n));return s&&t&&(this.position+=n-1),s}parseEndTag(e,t,r){let n=this.mod()===e;return n=e==="mono"?n&&this.mono:n&&!this.mono,!(!n||!this.match(t))&&(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}replace(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=Cu[e];r=n!==void 0?n:new RegExp(e),t=e.length}return[r,t]}}class Ef{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n,this.lines=new KT((s,c)=>{if(s===void 0)return 0;const f=this.parent.getFormattingValues(e,r,n,c);let w=0;return s!==""&&(w=this.ctx.measureText(s).width),{width:w,values:f}})}process(e){if(!Pu(e))return this.lines.finalize();const t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,`
`)).replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let s=0;s<n;s++){const c=this.splitBlocks(r[s],t.multi);if(c!==void 0)if(c.length!==0){if(t.maxWdt>0)for(let f=0;f<c.length;f++){const w=c[f].mod,P=c[f].text;this.splitStringIntoLines(P,w,!0)}else for(let f=0;f<c.length;f++){const w=c[f].mod,P=c[f].text;this.lines.append(P,w)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(let s=0;s<n;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<n;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":e!==!0&&e!=="html"||(t="html"),t}splitHtmlBlocks(e){const t=new rs(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new rs(e);let r=!0;const n=s=>!!/\\/.test(s)&&(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0);for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||n(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);return r==="none"?[{text:e,mod:"normal"}]:r==="markdown"?this.splitMarkdownBlocks(e):r==="html"?this.splitHtmlBlocks(e):void 0}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const n=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(n))break;t=n,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Nr(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);let n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;n.length>0;){let s=this.getLongestFit(n);if(s===0){const c=n[0],f=this.getLongestFitWord(c);this.lines.newLine(Nr(c).call(c,0,f),t),n[0]=Nr(c).call(c,f)}else{let c=s;n[s-1]===" "?s--:n[c]===" "&&c++;const f=Nr(n).call(n,0,s).join("");s==n.length&&r?this.lines.append(f,t):this.lines.newLine(f,t),n=Nr(n).call(n,c)}}}}const Ln=["bold","ital","boldital","mono"];class ci{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Pu(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){nt(Ln,t=>{this.fontOptions[t]={}}),ci.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:nt(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=ai(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=ai(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const c=ai(e,["widthConstraint","minimum"]);typeof c=="number"&&(t.minWdt=Number(c))}const n=ai(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const s=ai(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const c=ai(e,["heightConstraint","valign"]);typeof c=="string"&&(c!=="top"&&c!=="bottom"||(t.valign=c))}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),bt(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=By("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const s={};ci.parseFontString(s,n)&&(n=s),nt(n,(c,f)=>{c!==void 0&&(Object.prototype.hasOwnProperty.call(t,f)||(mt(Ln).call(Ln,f)!==-1?t[f]={}:t[f]=c))})}return t}getFontOption(e,t,r){let n;for(let s=0;s<e.length;++s){const c=e[s];if(Object.prototype.hasOwnProperty.call(c,t)){if(n=c[t],n==null)continue;const f={};if(ci.parseFontString(f,n)&&(n=f),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let s=0;s<n.length;++s){const c=n[s];r[c]=this.getFontOption(e,t,c)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Ln.length;++r){const n=Ln[r],s=this.fontOptions[n];nt(this.getFontOptions(t,n),(c,f)=>{s[f]=c}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,n,s){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let f=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&f<this.elementOptions.scaling.label.drawThreshold-1||(f>=this.elementOptions.scaling.label.maxVisible&&(f=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,s,t,r,c),this._drawBackground(e),this._drawText(e,t,this.size.yLine,c,f))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let c=0;c<this.lineCount;c++){const f=this.lines[c];if(f&&f.blocks){let w=0;this.isEdgeLabel||this.fontOptions.align==="center"?w+=(this.size.width-f.width)/2:this.fontOptions.align==="right"&&(w+=this.size.width-f.width);for(let P=0;P<f.blocks.length;P++){const A=f.blocks[P];e.font=A.font;const[o,u]=this._getColor(A.color,s,A.strokeColor);A.strokeWidth>0&&(e.lineWidth=A.strokeWidth,e.strokeStyle=u,e.lineJoin="round"),e.fillStyle=o,A.strokeWidth>0&&e.strokeText(A.text,t+w,r+A.vadjust),e.fillText(A.text,t+w,r+A.vadjust),w+=A.width}r+=f.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const c=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=mi(n,c),s=mi(s,c)}return[n,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){const r=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=r,t=.5*-this.size.height;break;case"top":e=r,t=-(this.size.height+2);break;case"bottom":e=r,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-.5*this.size.width,this.size.top=s-.5*this.size.height,this.size.yLine=s+.5*(1-this.lineCount)*this.fontOptions.size,c==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const s=function(w,P,A){return P==="normal"?A==="mod"?"":w[A]:w[P][A]!==void 0?w[P][A]:w[A]},c={color:s(this.fontOptions,n,"color"),size:s(this.fontOptions,n,"size"),face:s(this.fontOptions,n,"face"),mod:s(this.fontOptions,n,"mod"),vadjust:s(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?c.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(c,this.elementOptions.id,t,r));let f="";return c.mod!==void 0&&c.mod!==""&&(f+=c.mod+" "),f+=c.size+"px "+c.face,e.font=f.replace(/"/g,""),c.font=e.font,c.height=c.size,c}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new Ef(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return this.size.width===0||this.size.height===0||this.elementOptions.label===void 0?!1:!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class is{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Jl(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,s){r!==void 0&&this.resize(r,n,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,s=this.textSize.height;return n===0&&(n=14,s=14),{width:n,height:s}}}let Lw=class extends is{constructor(i,e,t){super(i,e,t),this._setMargins(t)}resize(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(e,t)){const r=this.getDimensionsFromLabel(i,e,t);this.width=r.width+this.margin.right+this.margin.left,this.height=r.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(i,e,t,r,n,s){this.resize(i,r,n),this.left=e-this.width/2,this.top=t-this.height/2,this.initContextForDraw(i,s),pb(i,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(i,s),this.updateBoundingBox(e,t,i,r,n),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,n)}updateBoundingBox(i,e,t,r,n){this._updateBoundingBox(i,e,t,r,n);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(i,e){i&&this.resize(i);const t=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+t}};class Sf extends is{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=2*this.options.size*r,t=2*this.options.size*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),wp(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),s=this.left+n.left,c=this.top+n.top,f=this.width-n.left-n.right,w=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,s,c,f,w),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,s){let c=0;if(this.height!==void 0){c=.5*this.height;const w=this.labelModule.getTextSize(e,n,s);w.lineCount>=1&&(c+=w.height/2)}const f=r+c;this.options.label&&(this.labelOffset=c),this.labelModule.draw(e,t,f,n,s,"hanging")}}let Tf=class extends Sf{constructor(i,e,t){super(i,e,t),this._setMargins(t)}resize(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(e,t)){const r=this.getDimensionsFromLabel(i,e,t),n=Math.max(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=n/2,this.width=n,this.height=n,this.radius=this.width/2}}draw(i,e,t,r,n,s){this.resize(i,r,n),this.left=e-this.width/2,this.top=t-this.height/2,this._drawRawCircle(i,e,t,s),this.updateBoundingBox(e,t),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,t,r,n)}updateBoundingBox(i,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(i){return i&&this.resize(i),.5*this.width}};class qy extends Sf{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,c){this.switchImages(n),this.resize();let f=t,w=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,f+=this.width/2,w+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,f,w,c),e.save(),e.clip(),this._drawImageAtPosition(e,c),e.restore(),this._drawImageLabel(e,f,w,n,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+2*this.options.size,this.boundingBox.bottom=t+2*this.options.size):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),.5*this.width}}class vn extends is{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,c;this.labelModule.getTextSize(e,t,r);const f=2*n.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:f,this.height=(c=this.customSizeHeight)!==null&&c!==void 0?c:f,this.radius=.5*this.width}}_drawShape(e,t,r,n,s,c,f,w){var P;return this.resize(e,c,f,w),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,w),(P=t,Object.prototype.hasOwnProperty.call(Ep,P)?Ep[P]:function(A){for(var o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];CanvasRenderingContext2D.prototype[P].call(A,u)})(e,n,s,w.size),this.performFill(e,w),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(c?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,c,f,n,s,"hanging");const A=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,A,c,f,"hanging")}this.updateBoundingBox(n,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function gn(i,e){var t=jt(i);if(pn){var r=pn(i);e&&(r=Fr(r).call(r,function(n){return es(i,n).enumerable})),t.push.apply(t,r)}return t}function Au(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Et(t=gn(Object(n),!0)).call(t,function(s){Tc(i,s,n[s])}):ts?li(i,ts(n)):Et(r=gn(Object(n))).call(r,function(s){Ac(i,s,es(n,s))})}return i}class kc extends vn{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,s,c){this.resize(e,n,s,c),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const f=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:s},style:Au({},c),label:this.options.label});if(f.drawNode!=null&&f.drawNode(),e.restore(),f.drawExternalLabel){const w=f.drawExternalLabel;f.drawExternalLabel=()=>{e.save(),w(),e.restore()}}return f.nodeDimensions&&(this.customSizeWidth=f.nodeDimensions.width,this.customSizeHeight=f.nodeDimensions.height),f}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Ru extends is{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}draw(e,t,r,n,s,c){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,c),vb(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,c),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let YT=class extends vn{constructor(i,e,t){super(i,e,t)}draw(i,e,t,r,n,s){return this._drawShape(i,"diamond",4,e,t,r,n,s)}distanceToBorder(i,e){return this._distanceToBorder(i,e)}};class Bw extends vn{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,c){return this._drawShape(e,"circle",2,t,r,n,s,c)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class $c extends is{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,s,c){this.resize(e,n,s),this.left=t-.5*this.width,this.top=r-.5*this.height,this.initContextForDraw(e,c),za(e,this.left,this.top,this.width,this.height),this.performFill(e,c),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,t,r,n,s)}distanceToBorder(e,t){e&&this.resize(e);const r=.5*this.width,n=.5*this.height,s=Math.sin(t)*r,c=Math.cos(t)*n;return r*n/Math.sqrt(s*s+c*c)}}class Wy extends is{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,c){return this.resize(e,n,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,s,c),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,s,c){const f=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+f+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,c),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,c)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let ku=class extends Sf{constructor(i,e,t,r,n){super(i,e,t),this.setImages(r,n)}resize(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(e,t)&&this._resizeImage()}draw(i,e,t,r,n,s){i.save(),this.switchImages(r),this.resize();let c=e,f=t;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t,c+=this.width/2,f+=this.height/2):(this.left=e-this.width/2,this.top=t-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const w=this.options.borderWidth,P=this.options.borderWidthSelected||2*this.options.borderWidth,A=(r?P:w)/this.body.view.scale;i.lineWidth=Math.min(this.width,A),i.beginPath();let o=r?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,u=r?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;s.opacity!==void 0&&(o=mi(o,s.opacity),u=mi(u,s.opacity)),i.strokeStyle=o,i.fillStyle=u,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Jl(i).call(i),this.performStroke(i,s),i.closePath()}this._drawImageAtPosition(i,s),this._drawImageLabel(i,c,f,r,n),this.updateBoundingBox(e,t),i.restore()}updateBoundingBox(i,e){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=e):(this.left=i-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(i,e){return this._distanceToBorder(i,e)}};class Hy extends vn{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,c){return this._drawShape(e,"square",2,t,r,n,s,c)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Dc extends vn{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,c){return this._drawShape(e,"hexagon",4,t,r,n,s,c)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Uy extends vn{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,c){return this._drawShape(e,"star",4,t,r,n,s,c)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class XT extends is{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,c){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,c),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(e,c),this.updateBoundingBox(t,r,e,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let Yr=class extends vn{constructor(i,e,t){super(i,e,t)}draw(i,e,t,r,n,s){return this._drawShape(i,"triangle",3,e,t,r,n,s)}distanceToBorder(i,e){return this._distanceToBorder(i,e)}};class ns extends vn{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,c){return this._drawShape(e,"triangleDown",3,t,r,n,s,c)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function Wt(i,e){var t=jt(i);if(pn){var r=pn(i);e&&(r=Fr(r).call(r,function(n){return es(i,n).enumerable})),t.push.apply(t,r)}return t}function $r(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Et(t=Wt(Object(n),!0)).call(t,function(s){Tc(i,s,n[s])}):ts?li(i,ts(n)):Et(r=Wt(Object(n))).call(r,function(s){Ac(i,s,es(n,s))})}return i}class Ot{constructor(e,t,r,n,s,c){this.options=Ui(s),this.globalOptions=s,this.defaultOptions=c,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new ci(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;mt(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=mt(t=this.edges).call(t,e);var n;r!=-1&&ro(n=this.edges).call(n,r,1)}setOptions(e){const t=this.options.shape;if(!e)return;if(e.color!==void 0&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Ot.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=qt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=qt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=gf(e.value)),Ot.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=By("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Ot.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const c=r.get(s);c.opacity!==void 0&&t.opacity===void 0&&(Ot.checkOpacity(c.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+c.opacity),c.opacity=void 0));const f=Fr(n=jy(t)).call(n,w=>t[w]!=null);f.push("font"),Hi(f,e,c),e.color=vu(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Hi(["color","fixed","shadow"],e,t,r),Ot.checkMass(t),e.opacity!==void 0&&(Ot.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(Ot.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!Ot.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Ar(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const c=vu(t.color);Gg(e.color,c)}else r===!0&&t.color===null&&(e.color=Ui(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Ui(n.font)),Ot.updateGroupOptions(e,t,s),t.scaling!==void 0&&Ar(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=mi(e.borderColor,t),e.color=mi(e.color,t),e.shadowColor=mi(e.shadowColor,t)}return e}updateLabelModule(e){this.options.label!==void 0&&this.options.label!==null||(this.options.label=""),Ot.updateGroupOptions(this.options,$r($r({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Lw(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Tf(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new qy(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new kc(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Ru(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new YT(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Bw(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new $c(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Wy(this.options,this.body,this.labelModule);break;case"image":this.shape=new ku(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Hy(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Dc(this.options,this.body,this.labelModule);break;case"star":this.shape=new Uy(this.options,this.body,this.labelModule);break;case"text":this.shape=new XT(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Yr(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ns(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const c=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*c}this.options.size=this.options.scaling.min+n*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&zy(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),zy(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",P_),e.mass=1}}}class $u{constructor(e,t,r,n){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=de(s=this.create).call(s,this),this.nodesListeners={add:(c,f)=>{this.add(f.items)},update:(c,f)=>{this.update(f.items,f.data,f.oldData)},remove:(c,f)=>{this.remove(f.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(c,f,w,P){if(f===c)return .5;{const A=1/(f-c);return Math.max(0,(P-c)*A)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Ui(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",de(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",de(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{nt(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Ot.parseOptions(this.options,e),e.opacity!==void 0&&(uf(e.opacity)||!la(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(e.font!==void 0||e.widthConstraint!==void 0||e.heightConstraint!==void 0)for(const t of jt(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();e.hidden===void 0&&e.physics===void 0||this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.body.data.nodes;if(O.isDataViewLike("id",e))this.body.data.nodes=e;else if(zt(e))this.body.data.nodes=new O.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new O.DataSet}if(r&&nt(this.nodesListeners,function(n,s){r.off(s,n)}),this.body.nodes={},this.body.data.nodes){const n=this;nt(this.nodesListeners,function(c,f){n.body.data.nodes.on(f,c)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=[];for(let s=0;s<e.length;s++){t=e[s];const c=this.body.data.nodes.get(t),f=this.create(c);n.push(f),this.body.nodes[t]=f}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let s=!1;for(let c=0;c<e.length;c++){const f=e[c];let w=n[f];const P=t[c];w!==void 0?w.setOptions(P)&&(s=!0):(s=!0,w=this.create(P),n[f]=w)}s||r===void 0||(s=mw(t).call(t,function(c,f){const w=r[f];return w&&w.level!==c.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++)delete t[e[r]];this.body.emitter.emit("_dataChanged")}create(e){return new(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];nt(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(zt(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,s=this.body.nodes[n],c=Math.round(s.x),f=Math.round(s.y);r.x===c&&r.y===f||e.push({id:n,x:c,y:f})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],s={};for(let c=0;c<n.edges.length;c++){const f=n.edges[c];t!=="to"&&f.toId==n.id?s[f.fromId]===void 0&&(r.push(f.fromId),s[f.fromId]=!0):t!=="from"&&f.fromId==n.id&&s[f.toId]===void 0&&(r.push(f.toId),s[f.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Bi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var Mc=Ne,va=Math.hypot,Du=Math.abs,Xr=Math.sqrt;Mc({target:"Math",stat:!0,forced:!!va&&va(1/0,NaN)!==1/0},{hypot:function(i,e){for(var t,r,n=0,s=0,c=arguments.length,f=0;s<c;)f<(t=Du(arguments[s++]))?(n=n*(r=f/t)*r+1,f=t):n+=t>0?(r=t/f)*r:t;return f===1/0?1/0:f*Xr(n)}});var Vi=T(Ie.Math.hypot);class Rt{static transform(e,t){zt(e)||(e=[e]);const r=t.point.x,n=t.point.y,s=t.angle,c=t.length;for(let f=0;f<e.length;++f){const w=e[f],P=w.x*Math.cos(s)-w.y*Math.sin(s),A=w.x*Math.sin(s)+w.y*Math.cos(s);w.x=r+c*P,w.y=n+c*A}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let jc,ga=class extends Rt{static draw(i,e){if(e.image){i.save(),i.translate(e.point.x,e.point.y),i.rotate(Math.PI/2+e.angle);const t=e.imageWidth!=null?e.imageWidth:e.image.width,r=e.imageHeight!=null?e.imageHeight:e.image.height;e.image.drawImageAtPosition(i,1,-t/2,0,t,r),i.restore()}return!1}};class co extends Rt{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class xf{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class ya{static draw(e,t){const r={x:-.4,y:0};Rt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle-n/2,c=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,s,c,!1),e.stroke(),!0}}class JT{static draw(e,t){const r={x:-.3,y:0};Rt.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle+n/2,c=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,.4*t.length,s,c,!1),e.stroke(),!0}}class zw{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class Gy{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class qw{static draw(e,t){const r={x:-.4,y:0};return Rt.transform(r,t),wp(e,r.x,r.y,.4*t.length),!0}}class Ww{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class If{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class Vy{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class Hw{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Rt.transform(r,t),Rt.drawPath(e,r),!0}}class Uw{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return ga.draw(e,t);case"circle":return qw.draw(e,t);case"box":return If.draw(e,t);case"crow":return xf.draw(e,t);case"curve":return ya.draw(e,t);case"diamond":return Vy.draw(e,t);case"inv_curve":return JT.draw(e,t);case"triangle":return zw.draw(e,t);case"inv_triangle":return Gy.draw(e,t);case"bar":return Ww.draw(e,t);case"vee":return Hw.draw(e,t);default:return co.draw(e,t)}}}function Ky(i,e){var t=jt(i);if(pn){var r=pn(i);e&&(r=Fr(r).call(r,function(n){return es(i,n).enumerable})),t.push.apply(t,r)}return t}function Gw(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Et(t=Ky(Object(n),!0)).call(t,function(s){Tc(i,s,n[s])}):ts?li(i,ts(n)):Et(r=Ky(Object(n))).call(r,function(s){Ac(i,s,es(n,s))})}return i}class Vw{constructor(e,t,r){this._body=t,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,n,s){if(this.from!=this.to)this._line(e,t,r,n,s);else{const[c,f,w]=this._getCircleData(e);this._circle(e,t,c,f,w)}}_drawDashedLine(e,t,r,n,s){e.lineCap="round";const c=zt(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(c),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[f,w,P]=this._getCircleData(e);this._circle(e,t,f,w,P)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Op(e,this.from.x,this.from.y,this.to.x,this.to.y,c);else{const[f,w,P]=this._getCircleData(e);this._circle(e,t,f,w,P)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Nr(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=bf(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const s=2*n*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const n=r.x,s=r.y;let c=r.low,f=r.high;const w=r.direction,P=this.options.selfReference.size;let A,o=.5*(c+f),u=0;this.options.arrowStrikethrough===!0&&(w===-1?u=this.options.endPointOffset.from:w===1&&(u=this.options.endPointOffset.to));let l=0;do{o=.5*(c+f),A=this._pointOnCircle(n,s,P,o);const d=Math.atan2(e.y-A.y,e.x-A.x),g=e.distanceToBorder(t,d)+u-Math.sqrt(Math.pow(A.x-e.x,2)+Math.pow(A.y-e.y,2));if(Math.abs(g)<.05)break;g>0?w>0?c=o:f=o:w>0?f=o:c=o,++l}while(c<=f&&l<10);return Gw(Gw({},A),{},{t:o})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=mi(this.from.options.color.border,t.opacity),s=mi(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,s),r}return t.inheritsColor==="to"?mi(this.to.options.color.border,t.opacity):mi(this.from.options.color.border,t.opacity)}return mi(t.color,t.opacity)}_circle(e,t,r,n,s){this.enableShadow(e,t);let c=0,f=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const w=this.options.selfReference.angle,P=this.options.selfReference.angle+Math.PI,A=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:w,high:P,direction:-1}),o=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:w,high:P,direction:1});c=Math.atan2(A.y-n,A.x-r),f=Math.atan2(o.y-n,o.x-r)}e.beginPath(),e.arc(r,n,s,c,f,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,s,c){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,s,c);{const[f,w,P]=this._getCircleData(void 0),A=f-s,o=w-c;return Math.abs(Math.sqrt(A*A+o*o)-P)}}_getDistanceToLine(e,t,r,n,s,c){const f=r-e,w=n-t;let P=((s-e)*f+(c-t)*w)/(f*f+w*w);P>1?P=1:P<0&&(P=0);const A=e+P*f-s,o=t+P*w-c;return Math.sqrt(A*A+o*o)}getArrowData(e,t,r,n,s,c){let f,w,P,A,o,u,l;const d=c.width;t==="from"?(P=this.from,A=this.to,o=c.fromArrowScale<0,u=Math.abs(c.fromArrowScale),l=c.fromArrowType):t==="to"?(P=this.to,A=this.from,o=c.toArrowScale<0,u=Math.abs(c.toArrowScale),l=c.toArrowType):(P=this.to,A=this.from,o=c.middleArrowScale<0,u=Math.abs(c.middleArrowScale),l=c.middleArrowType);const g=15*u+3*d;if(P!=A){const _=g/Vi(P.x-A.x,P.y-A.y);if(t!=="middle")if(this.options.smooth.enabled===!0){const I=this._findBorderPosition(P,e,{via:r}),C=this.getPoint(I.t+_*(t==="from"?1:-1),r);f=Math.atan2(I.y-C.y,I.x-C.x),w=I}else f=Math.atan2(P.y-A.y,P.x-A.x),w=this._findBorderPosition(P,e);else{const I=(o?-_:_)/2,C=this.getPoint(.5+I,r),k=this.getPoint(.5-I,r);f=Math.atan2(C.y-k.y,C.x-k.x),w=this.getPoint(.5,r)}}else{const[_,I,C]=this._getCircleData(e);if(t==="from"){const k=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:_,y:I,low:k,high:N,direction:-1});f=-2*z.t*Math.PI+1.5*Math.PI+.1*Math.PI,w=z}else if(t==="to"){const k=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:_,y:I,low:k,high:N,direction:1});f=-2*z.t*Math.PI+1.5*Math.PI-1.1*Math.PI,w=z}else{const k=this.options.selfReference.angle/(2*Math.PI);w=this._pointOnCircle(_,I,C,k),f=-2*k*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:w,core:{x:w.x-.9*g*Math.cos(f),y:w.y-.9*g*Math.sin(f)},angle:f,length:g,type:l}}drawArrowHead(e,t,r,n,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Uw.draw(e,s)&&(this.enableShadow(e,t),Jl(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=zt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function Kw(i,e){var t=jt(i);if(pn){var r=pn(i);e&&(r=Fr(r).call(r,function(n){return es(i,n).enumerable})),t.push.apply(t,r)}return t}function Yw(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Et(t=Kw(Object(n),!0)).call(t,function(s){Tc(i,s,n[s])}):ts?li(i,ts(n)):Et(r=Kw(Object(n))).call(r,function(s){Ac(i,s,es(n,s))})}return i}class Pf extends Vw{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),n,s,c=!1,f=1,w=0,P=this.to,A=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(P=this.from,c=!0,A=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(A=0);let o=0;do{s=.5*(w+f),n=this.getPoint(s,r);const u=Math.atan2(P.y-n.y,P.x-n.x),l=P.distanceToBorder(t,u)+A-Math.sqrt(Math.pow(n.x-P.x,2)+Math.pow(n.y-P.y,2));if(Math.abs(l)<.2)break;l<0?c===!1?w=s:f=s:c===!1?f=s:w=s,++o}while(w<=f&&o<10);return Yw(Yw({},n),{},{t:s})}_getDistanceToBezierEdge(e,t,r,n,s,c,f){let w,P,A,o,u,l=1e9,d=e,g=t;for(P=1;P<10;P++)A=.1*P,o=Math.pow(1-A,2)*e+2*A*(1-A)*f.x+Math.pow(A,2)*r,u=Math.pow(1-A,2)*t+2*A*(1-A)*f.y+Math.pow(A,2)*n,P>0&&(w=this._getDistanceToLine(d,g,o,u,s,c),l=w<l?w:l),d=o,g=u;return l}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class Mu extends Pf{constructor(e,t,r){super(e,t,r),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,s]=this._getCircleData(),c=2*Math.PI*(1-e);return{x:r+s*Math.sin(c),y:n+s-s*(1-Math.cos(c))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,s,c){return this._getDistanceToBezierEdge(e,t,r,n,s,c,this.via)}}class ju extends Pf{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,c;s=c=r<=n?e*n:e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(c=-c);let f=this.from.x+s,w=this.from.y+c;return t==="discrete"&&(r<=n?f=r<e*n?this.from.x:f:w=n<e*r?this.from.y:w),{x:f,y:w}}if(t==="straightCross"){let s=(1-e)*r,c=(1-e)*n;return r<=n?(s=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(s=-s),c=0),{x:this.to.x+s,y:this.to.y+c}}if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}if(t==="vertical"){let s=(1-e)*n;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),c=Math.PI,f=(Math.atan2(n,r)+(.5*e+.5)*c)%(2*c);return{x:this.from.x+(.5*e+.5)*s*Math.sin(f),y:this.from.y+(.5*e+.5)*s*Math.cos(f)}}if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),c=Math.PI,f=(Math.atan2(n,r)+(.5*-e+.5)*c)%(2*c);return{x:this.from.x+(.5*e+.5)*s*Math.sin(f),y:this.from.y+(.5*e+.5)*s*Math.cos(f)}}{let s,c;s=c=r<=n?e*n:e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(c=-c);let f=this.from.x+s,w=this.from.y+c;return r<=n?f=this.from.x<=this.to.x?this.to.x<f?this.to.x:f:this.to.x>f?this.to.x:f:w=this.from.y>=this.to.y?this.to.y>w?this.to.y:w:this.to.y<w?this.to.y:w,{x:f,y:w}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,s,c){let f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,s,c,f)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e;return{x:Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,y:Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y}}}class Nc extends Pf{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,s,c,f,w){let P=1e9,A=e,o=t;const u=[0,0,0,0];for(let l=1;l<10;l++){const d=.1*l;u[0]=Math.pow(1-d,3),u[1]=3*d*Math.pow(1-d,2),u[2]=3*Math.pow(d,2)*(1-d),u[3]=Math.pow(d,3);const g=u[0]*e+u[1]*f.x+u[2]*w.x+u[3]*r,_=u[0]*t+u[1]*f.y+u[2]*w.y+u[3]*n;if(l>0){const I=this._getDistanceToLine(A,o,g,_,s,c);P=I<P?I:P}A=g,o=_}return P}}class Yy extends Nc{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],s=r[1];this._bezierCurve(e,t,n,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,s,c;const f=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,c=this.to.y,r=this.from.x-f*e,s=this.to.x+f*e):(n=this.from.y-f*t,c=this.to.y+f*t,r=this.from.x,s=this.to.x),[{x:r,y:n},{x:s,y:c}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,s,c){let[f,w]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,s,c,f,w)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,s=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)];return{x:s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,y:s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y}}}class ma extends Vw{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const s=Math.atan2(r.y-n.y,r.x-n.x),c=r.x-n.x,f=r.y-n.y,w=Math.sqrt(c*c+f*f),P=(w-e.distanceToBorder(t,s))/w;return{x:(1-P)*n.x+P*r.x,y:(1-P)*n.y+P*r.y,t:0}}_getDistanceToEdge(e,t,r,n,s,c){return this._getDistanceToLine(e,t,r,n,s,c)}}class hi{constructor(e,t,r,n,s){if(t===void 0)throw new Error("No body provided");this.options=Ui(n),this.globalOptions=n,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new ci(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=e.physics!==void 0&&this.options.physics!==e.physics||e.hidden!==void 0&&(this.options.hidden||!1)!==(e.hidden||!1)||e.from!==void 0&&this.options.from!==e.from||e.to!==void 0&&this.options.to!==e.to;hi.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=gf(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=By("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Wi(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(la(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(la(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Pu(t.label)?e.label=t.label:Pu(e.label)||(e.label=void 0),Ar(e,t,"smooth",n),Ar(e,t,"shadow",n),Ar(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Wo(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),Ar(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=Wo(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const c=t.arrows.toLowerCase();e.arrows.to.enabled=mt(c).call(c,"to")!=-1,e.arrows.middle.enabled=mt(c).call(c,"middle")!=-1,e.arrows.from.enabled=mt(c).call(c,"from")!=-1}else{if(typeof t.arrows!="object")throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+er(t.arrows));Ar(e.arrows,t.arrows,"to",n.arrows),Ar(e.arrows,t.arrows,"middle",n.arrows),Ar(e.arrows,t.arrows,"from",n.arrows)}else r===!0&&t.arrows===null&&(e.arrows=Wo(n.arrows));if(t.color!==void 0&&t.color!==null){const c=Hr(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,f=e.color;if(s)bt(f,n.color,!1,r);else for(const w in f)Object.prototype.hasOwnProperty.call(f,w)&&delete f[w];if(Hr(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,c.opacity===void 0&&(f.opacity=1);else{let w=!1;c.color!==void 0&&(f.color=c.color,w=!0),c.highlight!==void 0&&(f.highlight=c.highlight,w=!0),c.hover!==void 0&&(f.hover=c.hover,w=!0),c.inherit!==void 0&&(f.inherit=c.inherit),c.opacity!==void 0&&(f.opacity=Math.min(1,Math.max(0,c.opacity))),w===!0?f.inherit=!1:f.inherit===void 0&&(f.inherit="from")}}else r===!0&&t.color===null&&(e.color=Ui(n.color));r===!0&&t.font===null&&(e.font=Ui(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const c=this.options.selectionWidth;typeof c=="function"?s.width=c(s.width):typeof c=="number"&&(s.width+=c),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const c=this.options.hoverWidth;typeof c=="function"?s.width=c(s.width):typeof c=="number"&&(s.width+=c),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor===this.options.shadow.color&&s.shadowSize===this.options.shadow.size&&s.shadowX===this.options.shadow.x&&s.shadowY===this.options.shadow.y||(s.shadow=!0)));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Mu&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof Yy&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof ju&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof ma&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new Mu(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new Yy(this.options,this.body,this.labelModule):this.edgeType=new ju(this.options,this.body,this.labelModule):this.edgeType=new ma(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const c=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*c}this.options.width=this.options.scaling.min+n*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;let s;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),r.id!=n.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const c=this._getRotation(e);c.angle!=0&&(e.translate(c.x,c.y),e.rotate(c.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const c=bf(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(c.x,c.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();zy(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,s=this.to.x,c=this.to.y,f=e.left,w=e.top;return this.edgeType.getDistanceToEdge(r,n,s,c,f,w)<10}return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const s=this.from.y-this.to.y,c=this.from.x-this.to.x;let f=Math.atan2(s,c);return(f<-1&&c<0||f>0&&c<0)&&(f+=Math.PI),n.angle=f,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class QT{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=de(n=this.create).call(n,this),this.edgesListeners={add:(s,c)=>{this.add(c.items)},update:(s,c)=>{this.update(c.items)},remove:(s,c)=>{this.remove(c.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,c,f,w){if(c===s)return .5;{const P=1/(c-s);return Math.max(0,(w-s)*P)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},bt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t,r=this;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];n==="dynamic"&&(n="continuous");let c=!1;for(const f in r.body.edges)if(Object.prototype.hasOwnProperty.call(r.body.edges,f)){const w=r.body.edges[f],P=r.body.data.edges.get(f);if(P!=null){const A=P.smooth;A!==void 0&&A.enabled===!0&&A.type==="dynamic"&&(n===void 0?w.setOptions({smooth:!1}):w.setOptions({smooth:{type:n}}),c=!0)}}s===!0&&c===!0&&r.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",de(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",de(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{nt(this.edgesListeners,(n,s)=>{this.body.data.edges&&this.body.data.edges.off(s,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){hi.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();e.hidden===void 0&&e.physics===void 0&&t!==!0||this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.body.data.edges;if(O.isDataViewLike("id",e))this.body.data.edges=e;else if(zt(e))this.body.data.edges=new O.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new O.DataSet}if(r&&nt(this.edgesListeners,(n,s)=>{r.off(s,n)}),this.body.edges={},this.body.data.edges){nt(this.edgesListeners,(s,c)=>{this.body.data.edges.on(c,s)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.body.edges,n=this.body.data.edges;for(let s=0;s<e.length;s++){const c=e[s],f=r[c];f&&f.disconnect();const w=n.get(c,{showInternalIds:!0});r[c]=this.create(w)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let s=0;s<e.length;s++){const c=e[s],f=r.get(c),w=t[c];w!==void 0?(w.disconnect(),n=w.setOptions(f)||n,w.connect()):(this.body.edges[c]=this.create(f),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.length===0)return;const r=this.body.edges;nt(e,n=>{const s=r[n];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){nt(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new hi(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];nt(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||s!==void 0&&s.isCluster===!0||n!==void 0&&s!==void 0||e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];Et(e).call(e,(n,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}class Xw{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=dr("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let c=0;c<n;c++)e=t[r[c]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+n*n);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,n,t,e)}}_calculateForces(e,t,r,n,s){e===0&&(t=e=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const c=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),f=t*c,w=r*c;this.physicsBody.forces[n.id].x+=f,this.physicsBody.forces[n.id].y+=w}_formBarnesHutTree(e,t){let r;const n=t.length;let s=e[t[0]].x,c=e[t[0]].y,f=e[t[0]].x,w=e[t[0]].y;for(let g=1;g<n;g++){const _=e[t[g]],I=_.x,C=_.y;_.options.mass>0&&(I<s&&(s=I),I>f&&(f=I),C<c&&(c=C),C>w&&(w=C))}const P=Math.abs(f-s)-Math.abs(w-c);P>0?(c-=.5*P,w+=.5*P):(s+=.5*P,f-=.5*P);const A=Math.max(1e-5,Math.abs(f-s)),o=.5*A,u=.5*(s+f),l=.5*(c+w),d={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:u-o,maxX:u+o,minY:l-o,maxY:l+o},size:A,calcSize:1/A,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(d.root);for(let g=0;g<n;g++)r=e[t[g]],r.options.mass>0&&this._placeInTree(d.root,r);return d}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,s=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=n;const c=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<c?c:e.maxWidth}_placeInTree(e,t,r){r==1&&r!==void 0||this._updateBranchMass(e,t);const n=e.children.NW.range;let s;s=n.maxX>t.x?n.maxY>t.y?"NW":"SW":n.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t)}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,s,c;const f=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+f,s=e.range.minY,c=e.range.minY+f;break;case"NE":r=e.range.minX+f,n=e.range.maxX,s=e.range.minY,c=e.range.minY+f;break;case"SW":r=e.range.minX,n=e.range.minX+f,s=e.range.minY+f,c=e.range.maxY;break;case"SE":r=e.range.minX+f,n=e.range.maxX,s=e.range.minY+f,c=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:s,maxY:c},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class Jw{constructor(e,t,r){this._rng=dr("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,c,f,w;const P=this.body.nodes,A=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,u=this.options.nodeDistance,l=-2/3/u;for(let d=0;d<A.length-1;d++){f=P[A[d]];for(let g=d+1;g<A.length;g++)w=P[A[g]],e=w.x-f.x,t=w.y-f.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*u&&(c=r<.5*u?1:l*r+1.3333333333333333,c/=r,n=e*c,s=t*c,o[f.id].x-=n,o[f.id].y-=s,o[w.id].x+=n,o[w.id].y+=s)}}}class Qw{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const c=e[t[s]];for(let f=s+1;f<t.length;f++){const w=e[t[f]];if(c.level===w.level){const P=n+this.overlapAvoidanceFactor*((c.shape.radius||0)/2+(w.shape.radius||0)/2),A=w.x-c.x,o=w.y-c.y,u=Math.sqrt(A*A+o*o),l=.05;let d;d=u<P?-Math.pow(l*u,2)+Math.pow(l*P,2):0,u!==0&&(d/=u);const g=A*d,_=o*d;r[c.id].x-=g,r[c.id].y-=_,r[w.id].x+=g,r[w.id].y+=_}}}}}class Cf{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let s,c,f;for(let w=0;w<r.length;w++)t=n[r[w]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,c=t.edgeType.via,f=t.from,this._calculateSpringForce(s,c,.5*e),this._calculateSpringForce(c,f,.5*e)):(e=t.options.length===void 0?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,s=e.y-t.y,c=Math.max(Math.sqrt(n*n+s*s),.01),f=this.options.springConstant*(r-c)/c,w=n*f,P=s*f;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=w,this.physicsBody.forces[e.id].y+=P),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=w,this.physicsBody.forces[t.id].y-=P)}}class Fc{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,c,f,w;const P=this.body.edges,A=.5,o=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces;for(let N=0;N<u.length;N++){const z=u[N];l[z].springFx=0,l[z].springFy=0}for(let N=0;N<o.length;N++)t=P[o[N]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,w=Math.sqrt(r*r+n*n),w=w===0?.01:w,f=this.options.springConstant*(e-w)/w,s=r*f,c=n*f,t.to.level!=t.from.level?(l[t.toId]!==void 0&&(l[t.toId].springFx-=s,l[t.toId].springFy-=c),l[t.fromId]!==void 0&&(l[t.fromId].springFx+=s,l[t.fromId].springFy+=c)):(l[t.toId]!==void 0&&(l[t.toId].x-=A*s,l[t.toId].y-=A*c),l[t.fromId]!==void 0&&(l[t.fromId].x+=A*s,l[t.fromId].y+=A*c)));let d,g;f=1;for(let N=0;N<u.length;N++){const z=u[N];d=Math.min(f,Math.max(-f,l[z].springFx)),g=Math.min(f,Math.max(-f,l[z].springFy)),l[z].x+=d,l[z].y+=g}let _=0,I=0;for(let N=0;N<u.length;N++){const z=u[N];_+=l[z].x,I+=l[z].y}const C=_/u.length,k=I/u.length;for(let N=0;N<u.length;N++){const z=u[N];l[z].x-=C,l[z].y-=k}}}class Nu{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const s=this.body.nodes,c=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let w=0;w<c.length;w++)n=s[c[w]],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,f,n)}_calculateForces(e,t,r,n,s){const c=e===0?0:this.options.centralGravity/e;n[s.id].x=t*c,n[s.id].y=r*c}}class ZT extends Xw{constructor(e,t,r){super(e,t,r),this._rng=dr("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,s){e===0&&(t=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const c=n.edges.length+1,f=this.options.gravitationalConstant*s.mass*n.options.mass*c/Math.pow(e,2),w=t*f,P=r*f;this.physicsBody.forces[n.id].x+=w,this.physicsBody.forces[n.id].y+=P}}class ex extends Nu{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,s){if(e>0){const c=s.edges.length+1,f=this.options.centralGravity*c*s.options.mass;n[s.id].x=t*f,n[s.id].y=r*f}}}class Xy{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},wt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Hi(["stabilization"],this.options,e),Ar(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||uf(t.x))&&(t.x=0),(typeof t.y!="number"||uf(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new ZT(this.body,this.physicsBody,e),this.edgesSolver=new Cf(this.body,this.physicsBody,e),this.gravitySolver=new ex(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Jw(this.body,this.physicsBody,e),this.edgesSolver=new Cf(this.body,this.physicsBody,e),this.gravitySolver=new Nu(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Qw(this.body,this.physicsBody,e),this.edgesSolver=new Fc(this.body,this.physicsBody,e),this.gravitySolver=new Nu(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Xw(this.body,this.physicsBody,e),this.edgesSolver=new Cf(this.body,this.physicsBody,e),this.gravitySolver=new Nu(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){var e;this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=de(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(){let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Hl();this.physicsTick(),(Hl()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Bi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=jt(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const s=e[n];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,s=this.referenceState;for(const c in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,c)&&n[c]!==void 0&&(e=n[c].x-s[c].positions.x,t=n[c].y-s[c].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>.3))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],c=this._performStep(s);t=Math.max(t,c),r+=c}this.adaptiveTimestepEnabled=r/e.length<5,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){e+=(t-this.modelOptions.damping*e)/r*this.timestep;const n=this.options.maxVelocity||1e9;return Math.abs(e)>n&&(e=e>0?n:-n),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length!==0?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Bi(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return this.startedStabilization!==!0&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;var n;t(),e()?Bi(de(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],s=this.physicsBody.forces[r],c=20,f=.03,w=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),P=Math.min(Math.max(5,w),15),A=3*P,o=gu((180-180*Math.min(1,Math.max(0,f*w)))/360,1,1),u={x:n.x+c*s.x,y:n.y+c*s.y};e.lineWidth=P,e.strokeStyle=o,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(u.x,u.y),e.stroke();const l=Math.atan2(s.y,s.x);e.fillStyle=o,Uw.draw(e,{type:"arrow",point:u,angle:l,length:A}),Jl(e).call(e)}}}const tx=new Uint8Array(16);function Zw(){if(!jc&&(jc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jc(tx)}const _r=[];for(let i=0;i<256;++i)_r.push((i+256).toString(16).slice(1));var Af={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ba(i,e,t){if(Af.randomUUID&&!i)return Af.randomUUID();const r=(i=i||{}).random||(i.rng||Zw)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(n,s=0){return _r[n[s+0]]+_r[n[s+1]]+_r[n[s+2]]+_r[n[s+3]]+"-"+_r[n[s+4]]+_r[n[s+5]]+"-"+_r[n[s+6]]+_r[n[s+7]]+"-"+_r[n[s+8]]+_r[n[s+9]]+"-"+_r[n[s+10]]+_r[n[s+11]]+_r[n[s+12]]+_r[n[s+13]]+_r[n[s+14]]+_r[n[s+15]]}(r)}class Jr{constructor(){}static getRange(e){let t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,s=-1e9,c=1e9,f=-1e9;if(r.length>0)for(let w=0;w<r.length;w++)t=e[r[w]],c>t.shape.boundingBox.left&&(c=t.shape.boundingBox.left),f<t.shape.boundingBox.right&&(f=t.shape.boundingBox.right),n>t.shape.boundingBox.top&&(n=t.shape.boundingBox.top),s<t.shape.boundingBox.bottom&&(s=t.shape.boundingBox.bottom);return c===1e9&&f===-1e9&&n===1e9&&s===-1e9&&(n=0,s=0,c=0,f=0),{minX:c,maxX:f,minY:n,maxY:s}}static getRangeCore(e){let t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,s=-1e9,c=1e9,f=-1e9;if(r.length>0)for(let w=0;w<r.length;w++)t=e[r[w]],c>t.x&&(c=t.x),f<t.x&&(f=t.x),n>t.y&&(n=t.y),s<t.y&&(s=t.y);return c===1e9&&f===-1e9&&n===1e9&&s===-1e9&&(n=0,s=0,c=0,f=0),{minX:c,maxX:f,minY:n,maxY:s}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(bt(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):bt(r,e.options,!0),r}}class e1 extends Ot{constructor(e,t,r,n,s,c){super(e,t,r,n,s,c),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],nt(t.edges,r=>{delete this.containedEdges[r.id]}),nt(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},nt(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},nt(t.edges,r=>{nt(this.edges,n=>{var s,c;const f=mt(s=n.clusteringEdgeReplacingIds).call(s,r.id);f!==-1&&(nt(r.clusteringEdgeReplacingIds,w=>{n.clusteringEdgeReplacingIds.push(w),this.body.edges[w].edgeReplacedById=n.id}),ro(c=n.clusteringEdgeReplacingIds).call(c,f,1))})}),t.edges=[]}}class t1{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},wt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=e&&r.push(s.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};nt(this.body.nodes,(s,c)=>{s.options&&e.joinCondition(s.options)===!0&&(r[c]=s,nt(s.edges,f=>{this.clusteredEdges[f.id]===void 0&&(n[f.id]=f)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t=this._checkOptions(t);const n=[],s={};let c,f,w;for(let P=0;P<this.body.nodeIndices.length;P++){const A={},o={},u=this.body.nodeIndices[P],l=this.body.nodes[u];if(s[u]===void 0){w=0,f=[];for(let d=0;d<l.edges.length;d++)c=l.edges[d],this.clusteredEdges[c.id]===void 0&&(c.toId!==c.fromId&&w++,f.push(c));if(w===e){const d=function(_){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const I=Jr.cloneOptions(_);return t.joinCondition(I)};let g=!0;for(let _=0;_<f.length;_++){c=f[_];const I=this._getConnectedId(c,u);if(!d(l)){g=!1;break}o[c.id]=c,A[u]=l,A[I]=this.body.nodes[I],s[u]=!0}if(jt(A).length>0&&jt(o).length>0&&g===!0){const _=function(){for(let I=0;I<n.length;++I)for(const C in A)if(n[I].nodes[C]!==void 0)return n[I]}();if(_!==void 0){for(const I in A)_.nodes[I]===void 0&&(_.nodes[I]=A[I]);for(const I in o)_.edges[I]===void 0&&(_.edges[I]=o[I])}else n.push({nodes:A,edges:o})}}}}for(let P=0;P<n.length;P++)this._cluster(n[P].nodes,n[P].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];(t=this._checkOptions(t,s)).clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const c={},f={},w=s.id,P=Jr.cloneOptions(s);c[w]=s;for(let o=0;o<s.edges.length;o++){const u=s.edges[o];if(this.clusteredEdges[u.id]===void 0){const l=this._getConnectedId(u,w);if(this.clusteredNodes[l]===void 0)if(l!==w)if(t.joinCondition===void 0)f[u.id]=u,c[l]=this.body.nodes[l];else{const d=Jr.cloneOptions(this.body.nodes[l]);t.joinCondition(P,d)===!0&&(f[u.id]=u,c[l]=this.body.nodes[l])}else f[u.id]=u}}const A=Ws(r=jt(c)).call(r,function(o){return c[o].id});for(const o in c){if(!Object.prototype.hasOwnProperty.call(c,o))continue;const u=c[o];for(let l=0;l<u.edges.length;l++){const d=u.edges[l];mt(A).call(A,this._getConnectedId(d,u.id))>-1&&(f[d.id]=d)}}this._cluster(c,f,t,n)}_createClusterEdges(e,t,r,n){let s,c,f,w,P,A;const o=jt(e),u=[];for(let g=0;g<o.length;g++){c=o[g],f=e[c];for(let _=0;_<f.edges.length;_++)s=f.edges[_],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==c?(w=r.id,P=s.fromId,A=P):(w=s.toId,P=r.id,A=w),e[A]===void 0&&u.push({edge:s,fromId:P,toId:w}))}const l=[],d=function(g){for(let _=0;_<l.length;_++){const I=l[_],C=g.fromId===I.fromId&&g.toId===I.toId,k=g.fromId===I.toId&&g.toId===I.fromId;if(C||k)return I}return null};for(let g=0;g<u.length;g++){const _=u[g],I=_.edge;let C=d(_);C===null?(C=this._createClusteredEdge(_.fromId,_.toId,I,n),l.push(C)):C.clusteringEdgeReplacingIds.push(I.id),this.body.edges[I.id].edgeReplacedById=C.id,this._backupEdgeOptions(I),I.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=[];for(const A in e)Object.prototype.hasOwnProperty.call(e,A)&&this.clusteredNodes[A]!==void 0&&s.push(A);for(let A=0;A<s.length;++A)delete e[s[A]];if(jt(e).length==0||jt(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=1)return;let c=bt({},r.clusterNodeProperties);if(r.processProperties!==void 0){const A=[];for(const u in e)if(Object.prototype.hasOwnProperty.call(e,u)){const l=Jr.cloneOptions(e[u]);A.push(l)}const o=[];for(const u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&u.substr(0,12)!=="clusterEdge:"){const l=Jr.cloneOptions(t[u],"edge");o.push(l)}if(c=r.processProperties(c,A,o),!c)throw new Error("The processProperties function does not return properties!")}c.id===void 0&&(c.id="cluster:"+ba());const f=c.id;let w;c.label===void 0&&(c.label="cluster"),c.x===void 0&&(w=this._getClusterPosition(e),c.x=w.x),c.y===void 0&&(w===void 0&&(w=this._getClusterPosition(e)),c.y=w.y),c.id=f;const P=this.body.functions.createNode(c,e1);P.containedNodes=e,P.containedEdges=t,P.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[c.id]=P,this._clusterEdges(e,t,c,r.clusterEdgeProperties),c.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=jt(e);let r,n=e[t[0]].x,s=e[t[0]].x,c=e[t[0]].y,f=e[t[0]].y;for(let w=1;w<t.length;w++)r=e[t[w]],n=r.x<n?r.x:n,s=r.x>s?r.x:s,c=r.y<c?r.y:c,f=r.y>f?r.y:f;return{x:.5*(n+s),y:.5*(c+f)}}openCluster(e,t){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),c=mt(s).call(s,e)-1;if(c>=0){const A=s[c];return this.body.nodes[A]._openChildCluster(e),delete this.body.nodes[e],void(r===!0&&this.body.emitter.emit("_dataChanged"))}const f=n.containedNodes,w=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const A={},o={x:n.x,y:n.y};for(const l in f)if(Object.prototype.hasOwnProperty.call(f,l)){const d=this.body.nodes[l];A[l]={x:d.x,y:d.y}}const u=t.releaseFunction(o,A);for(const l in f)if(Object.prototype.hasOwnProperty.call(f,l)){const d=this.body.nodes[l];u[l]!==void 0&&(d.x=u[l].x===void 0?n.x:u[l].x,d.y=u[l].y===void 0?n.y:u[l].y)}}else nt(f,function(A){A.options.fixed.x===!1&&(A.x=n.x),A.options.fixed.y===!1&&(A.y=n.y)});for(const A in f)if(Object.prototype.hasOwnProperty.call(f,A)){const o=this.body.nodes[A];o.vx=n.vx,o.vy=n.vy,o.setOptions({physics:!0}),delete this.clusteredNodes[A]}const P=[];for(let A=0;A<n.edges.length;A++)P.push(n.edges[A]);for(let A=0;A<P.length;A++){const o=P[A],u=this._getConnectedId(o,e),l=this.clusteredNodes[u];for(let d=0;d<o.clusteringEdgeReplacingIds.length;d++){const g=o.clusteringEdgeReplacingIds[d],_=this.body.edges[g];if(_!==void 0)if(l!==void 0){const I=this.body.nodes[l.clusterId];I.containedEdges[_.id]=_,delete w[_.id];let C=_.fromId,k=_.toId;_.toId==u?k=l.clusterId:C=l.clusterId,this._createClusteredEdge(C,k,_,I.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(_)}o.remove()}for(const A in w)Object.prototype.hasOwnProperty.call(w,A)&&this._restoreEdge(w[A]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let r,n=0;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(r=this.body.nodes[e],r===void 0)return[];t.push(r.id),e=this.clusteredNodes[e].clusterId,n++}return r=this.body.nodes[e],r===void 0?[]:(t.push(r.id),Us(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let r=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&r<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,r++;return Us(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[];let s=0;for(;t.length>0&&s<100;){const c=t.pop();if(c===void 0)continue;const f=this.body.edges[c];if(f===void 0)continue;s++;const w=f.clusteringEdgeReplacingIds;if(w===void 0)n.push(c);else for(let P=0;P<w.length;++P){const A=w[P];mt(t).call(t,w)===-1&&mt(r).call(r,w)===-1&&t.push(A)}r.push(c)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let w=0;w<this.body.nodeIndices.length;w++){const P=this.body.nodes[this.body.nodeIndices[w]];P.edges.length>n&&(n=P.edges.length),e+=P.edges.length,t+=Math.pow(P.edges.length,2),r+=1}e/=r,t/=r;const s=t-Math.pow(e,2),c=Math.sqrt(s);let f=Math.floor(e+2*c);return f>n&&(f=n),f}_createClusteredEdge(e,t,r,n,s){const c=Jr.cloneOptions(r,"edge");bt(c,n),c.from=e,c.to=t,c.id="clusterEdge:"+ba(),s!==void 0&&bt(c,s);const f=this.body.functions.createEdge(c);return f.clusteringEdgeReplacingIds=[r.id],f.connect(),this.body.edges[f.id]=f,f}_clusterEdges(e,t,r,n){if(t instanceof hi){const s=t,c={};c[s.id]=s,t=c}if(e instanceof Ot){const s=e,c={};c[s.id]=s,e=c}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const c=this.body.edges[s];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;return r!==void 0?this.body.nodes[r]:void 0}_filter(e,t){const r=[];return nt(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=f=>{nt(this.body.nodes,w=>{w.isCluster===!0&&f(w)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&this.body.nodes[e]===void 0&&t.push(e);n(function(f){for(let w=0;w<t.length;w++)delete f.containedNodes[t[w]]});for(let f=0;f<t.length;f++)delete this.clusteredNodes[t[f]];nt(this.clusteredEdges,f=>{const w=this.body.edges[f];w!==void 0&&w.endPointsValid()||(r[f]=f)}),n(function(f){nt(f.containedEdges,(w,P)=>{w.endPointsValid()||r[P]||(r[P]=P)})}),nt(this.body.edges,(f,w)=>{let P=!0;const A=f.clusteringEdgeReplacingIds;if(A!==void 0){let o=0;nt(A,u=>{const l=this.body.edges[u];l!==void 0&&l.endPointsValid()&&(o+=1)}),P=o>0}f.endPointsValid()&&P||(r[w]=w)}),n(f=>{nt(r,w=>{delete f.containedEdges[w],nt(f.edges,(P,A)=>{P.id!==w?P.clusteringEdgeReplacingIds=this._filter(P.clusteringEdgeReplacingIds,function(o){return!r[o]}):f.edges[A]=null}),f.edges=this._filter(f.edges,function(P){return P!==null})})}),nt(r,f=>{delete this.clusteredEdges[f]}),nt(r,f=>{delete this.body.edges[f]}),nt(jt(this.body.edges),f=>{const w=this.body.edges[f],P=this._isClusteredNode(w.fromId)||this._isClusteredNode(w.toId);if(P!==this._isClusteredEdge(w.id))if(P){const A=this._getClusterNodeForNode(w.fromId);A!==void 0&&this._clusterEdges(this.body.nodes[w.fromId],w,A);const o=this._getClusterNodeForNode(w.toId);o!==void 0&&this._clusterEdges(this.body.nodes[w.toId],w,o)}else delete this._clusterEdges[f],this._restoreEdge(w)});let s=!1,c=!0;for(;c;){const f=[];n(function(w){const P=jt(w.containedNodes).length,A=w.options.allowSingleNodeCluster===!0;(A&&P<1||!A&&P<2)&&f.push(w.id)});for(let w=0;w<f.length;++w)this.openCluster(f[w],{},!1);c=f.length>0,s=s||c}s&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class r1{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},wt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Bi(()=>{var t;this.zooming=!1,de(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",de(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Wi(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){var e;this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0&&(this.requestAnimationFrameRequestId=window.requestAnimationFrame(de(e=this._renderStep).call(e,this),this.simulationInterval))}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};this.canvas.frame.canvas.width!==0&&this.canvas.frame.canvas.height!==0||this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:c}=this._drawNodes(r,e);t.drawExternalLabels=c}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.body.nodes,n=this.body.nodeIndices;let s;const c=[],f=[],w=this.canvas.DOMtoCanvas({x:-20,y:-20}),P=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),A={top:w.y,left:w.x,bottom:P.y,right:P.x},o=[];for(let g=0;g<n.length;g++)if(s=r[n[g]],s.hover)f.push(n[g]);else if(s.isSelected())c.push(n[g]);else if(t===!0){const _=s.draw(e);_.drawExternalLabel!=null&&o.push(_.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(A)===!0){const _=s.draw(e);_.drawExternalLabel!=null&&o.push(_.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let u;const l=c.length,d=f.length;for(u=0;u<l;u++){s=r[c[u]];const g=s.draw(e);g.drawExternalLabel!=null&&o.push(g.drawExternalLabel)}for(u=0;u<d;u++){s=r[f[u]];const g=s.draw(e);g.drawExternalLabel!=null&&o.push(g.drawExternalLabel)}return{drawExternalLabels:()=>{for(const g of o)g()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var rx=T(Ie.setInterval);function Lc(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function i1(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class Fu{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},wt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=.5*t.width),t.height!==0&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",de(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Wi(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;n.observe(s),this._cleanupCallbacks.push(()=>{n.unobserve(s)})}else{const n=rx(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=de(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;Et(e=Us(t=ro(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=.5*this.cameraState.scale*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(mt(e).call(e,"%")!==-1||mt(e).call(e,"px")!==-1)return e;if(mt(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new bu(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:bu.DIRECTION_ALL}),Lc(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new bu(this.frame),i1(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,s=this.frame.canvas.height,c=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(c),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const f=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),w=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===f&&this.frame.canvas.height===w||this._getCameraState(c),this.frame.canvas.width!==f&&(this.frame.canvas.width=f,r=!0),this.frame.canvas.height!==w&&(this.frame.canvas.height=w,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}class Rf{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",de(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",de(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];e=function(w,P){const A=wt({nodes:P,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},w??{});if(!zt(A.nodes))throw new TypeError("Nodes has to be an array of ids.");if(A.nodes.length===0&&(A.nodes=P),!(typeof A.minZoomLevel=="number"&&A.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof A.maxZoomLevel=="number"&&A.minZoomLevel<=A.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return A}(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let s,c;if(r===0||n===0)c=1,s=Jr.getRange(this.body.nodes,e.nodes);else if(t===!0){let w=0;for(const P in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,P)&&this.body.nodes[P].predefinedPosition===!0&&(w+=1);if(w>.5*this.body.nodeIndices.length)return void this.fit(e,!1);s=Jr.getRange(this.body.nodes,e.nodes),c=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,c*=Math.min(r/600,n/600)}else{this.body.emitter.emit("_resizeNodes"),s=Jr.getRange(this.body.nodes,e.nodes);const w=r/(1.1*Math.abs(s.maxX-s.minX)),P=n/(1.1*Math.abs(s.maxY-s.minY));c=w<=P?w:P}c>e.maxZoomLevel?c=e.maxZoomLevel:c<e.minZoomLevel&&(c=e.minZoomLevel);const f={position:Jr.findCenter(s),scale:c,animation:e.animation};this.moveTo(f)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e!==void 0){if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!la(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!la(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!la(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!la(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=t.x-e.position.x,n=t.y-e.position.y;var s,c;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n*this.targetScale+e.offset.y},e.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=de(s=this._lockedRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=de(c=this._transitionRedraw).call(c,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=r.x-e,s=r.y-t,c=this.body.view.translation,f={x:c.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:c.y+s*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=f}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=I_[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var r;this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=de(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function wi(i){var e,t=i&&i.preventDefault||!1,r=i&&i.container||window,n={},s={keydown:{},keyup:{}},c={};for(e=97;e<=122;e++)c[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)c[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)c[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)c["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)c["num"+e]={code:96+e,shift:!1};c["num*"]={code:106,shift:!1},c["num+"]={code:107,shift:!1},c["num-"]={code:109,shift:!1},c["num/"]={code:111,shift:!1},c["num."]={code:110,shift:!1},c.left={code:37,shift:!1},c.up={code:38,shift:!1},c.right={code:39,shift:!1},c.down={code:40,shift:!1},c.space={code:32,shift:!1},c.enter={code:13,shift:!1},c.shift={code:16,shift:void 0},c.esc={code:27,shift:!1},c.backspace={code:8,shift:!1},c.tab={code:9,shift:!1},c.ctrl={code:17,shift:!1},c.alt={code:18,shift:!1},c.delete={code:46,shift:!1},c.pageup={code:33,shift:!1},c.pagedown={code:34,shift:!1},c["="]={code:187,shift:!1},c["-"]={code:189,shift:!1},c["]"]={code:221,shift:!1},c["["]={code:219,shift:!1};var f=function(A){P(A,"keydown")},w=function(A){P(A,"keyup")},P=function(A,o){if(s[o][A.keyCode]!==void 0){for(var u=s[o][A.keyCode],l=0;l<u.length;l++)(u[l].shift===void 0||u[l].shift==1&&A.shiftKey==1||u[l].shift==0&&A.shiftKey==0)&&u[l].fn(A);t==1&&A.preventDefault()}};return n.bind=function(A,o,u){if(u===void 0&&(u="keydown"),c[A]===void 0)throw new Error("unsupported key: "+A);s[u][c[A].code]===void 0&&(s[u][c[A].code]=[]),s[u][c[A].code].push({fn:o,shift:c[A].shift})},n.bindAll=function(A,o){for(var u in o===void 0&&(o="keydown"),c)c.hasOwnProperty(u)&&n.bind(u,A,o)},n.getKey=function(A){for(var o in c)if(c.hasOwnProperty(o)&&(A.shiftKey==1&&c[o].shift==1&&A.keyCode==c[o].code||A.shiftKey==0&&c[o].shift==0&&A.keyCode==c[o].code||A.keyCode==c[o].code&&o=="shift"))return o;return"unknown key, currently not supported"},n.unbind=function(A,o,u){if(u===void 0&&(u="keydown"),c[A]===void 0)throw new Error("unsupported key: "+A);if(o!==void 0){var l=[],d=s[u][c[A].code];if(d!==void 0)for(var g=0;g<d.length;g++)d[g].fn==o&&d[g].shift==c[A].shift||l.push(s[u][c[A].code][g]);s[u][c[A].code]=l}else s[u][c[A].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},r.removeEventListener("keydown",f,!0),r.removeEventListener("keyup",w,!0)},r.addEventListener("keydown",f,!0),r.addEventListener("keyup",w,!0),n}class Lu{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let c=0;c<e.length;c++){this.navigationDOM[e[c]]=document.createElement("div"),this.navigationDOM[e[c]].className="vis-button vis-"+e[c],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[c]]);const f=new bu(this.navigationDOM[e[c]]);var r,n;t[c]==="_fit"?Lc(f,de(r=this._fit).call(r,this)):Lc(f,de(n=this.bindToRedraw).call(n,this,t[c])),this.navigationHammers.push(f)}const s=new bu(this.canvas.frame);i1(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){var t;this.boundFunctions[e]===void 0&&(this.boundFunctions[e]=de(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,c=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:c},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,c=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:c},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){var e,t,r,n,s,c,f,w,P,A,o,u,l,d,g,_,I,C,k,N,z,W,Q,re;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=wi({container:window,preventDefault:!0}):this.keycharm=wi({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(de(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),de(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),de(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),de(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),de(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),de(c=this.keycharm).call(c,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),de(f=this.keycharm).call(f,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),de(w=this.keycharm).call(w,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),de(P=this.keycharm).call(P,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),de(A=this.keycharm).call(A,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),de(o=this.keycharm).call(o,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),de(u=this.keycharm).call(u,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),de(l=this.keycharm).call(l,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),de(d=this.keycharm).call(d,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),de(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),de(_=this.keycharm).call(_,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),de(I=this.keycharm).call(I,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),de(C=this.keycharm).call(C,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),de(k=this.keycharm).call(k,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),de(N=this.keycharm).call(N,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),de(z=this.keycharm).call(z,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),de(W=this.keycharm).call(W,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),de(Q=this.keycharm).call(Q,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),de(re=this.keycharm).call(re,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class os{constructor(e,t,r){var n,s,c,f,w,P,A,o,u,l,d,g,_;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new Lu(e,t),this.body.eventListeners.onTap=de(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=de(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=de(c=this.onDoubleTap).call(c,this),this.body.eventListeners.onHold=de(f=this.onHold).call(f,this),this.body.eventListeners.onDragStart=de(w=this.onDragStart).call(w,this),this.body.eventListeners.onDrag=de(P=this.onDrag).call(P,this),this.body.eventListeners.onDragEnd=de(A=this.onDragEnd).call(A,this),this.body.eventListeners.onMouseWheel=de(o=this.onMouseWheel).call(o,this),this.body.eventListeners.onPinch=de(u=this.onPinch).call(u,this),this.body.eventListeners.onMouseMove=de(l=this.onMouseMove).call(l,this),this.body.eventListeners.onRelease=de(d=this.onRelease).call(d,this),this.body.eventListeners.onContext=de(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=de(_=this.getPointer).call(_,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},wt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Hi(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Ar(this.options,e,"keyboard"),e.tooltip&&(wt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=vu(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-T_(this.canvas.frame.canvas)};var t}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0&&arguments[1])===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,s){const c=[];for(let f=0;f<n.length;f++){const w=n[f];mt(s).call(s,w)===-1&&c.push(w)}return c};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=wt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;Et(r).call(r,c=>{const f=c.node;c.xFixed===!1&&(f.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(c.x)+n)),c.yFixed===!1&&(f.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(c.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0)return void this.onDragStart(e);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=Fr(t=this.body.nodeIndices).call(t,f=>{const w=this.body.nodes[f];return w.x>=n.minX&&w.x<=n.maxX&&w.y>=n.minY&&w.y<=n.maxY});Et(s).call(s,f=>this.selectionHandler.selectObject(this.body.nodes[f]));const c=this.getPointer(e.center);this.selectionHandler.commitAndEmit(c,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(Et(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;let n;e<1e-5&&(e=1e-5),e>10&&(e=10),this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,c=e/r,f=(1-c)*t.x+s.x*c,w=(1-c)*t.y+s.y*c;if(this.body.view.scale=e,this.body.view.translation={x:f,y:w},n!=null){const P=this.canvas.canvasToDOM(n);this.drag.pointer.x=P.x,this.drag.pointer.y=P.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bi(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let c=!1,f="node";if(this.popupObj===void 0){const w=this.body.nodeIndices,P=this.body.nodes;let A;const o=[];for(let u=0;u<w.length;u++)A=P[w[u]],A.isOverlappingWith(n)===!0&&(c=!0,A.getTitle()!==void 0&&o.push(w[u]));o.length>0&&(this.popupObj=P[o[o.length-1]],c=!0)}if(this.popupObj===void 0&&c===!1){const w=this.body.edgeIndices,P=this.body.edges;let A;const o=[];for(let u=0;u<w.length;u++)A=P[w[u]],A.isOverlappingWith(n)===!0&&A.connected===!0&&A.getTitle()!==void 0&&o.push(w[u]);o.length>0&&(this.popupObj=P[o[o.length-1]],f="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Xg(this.canvas.frame)),this.popup.popupTargetType=f,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n!==void 0&&n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}dy("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},dw);var or=T(Ie.Set),Bc=ie,kt=fy,zc=wu.getWeakData,ix=rf,kf=Yn,n1=vr,_a=pt,$f=tf,Bn=gr,o1=ln.set,Jy=ln.getterFor,s1=Bt.find,a1=Bt.findIndex,u1=Bc([].splice),l1=0,wa=function(i){return i.frozen||(i.frozen=new Qy)},Qy=function(){this.entries=[]},Df=function(i,e){return s1(i.entries,function(t){return t[0]===e})};Qy.prototype={get:function(i){var e=Df(this,i);if(e)return e[1]},has:function(i){return!!Df(this,i)},set:function(i,e){var t=Df(this,i);t?t[1]=e:this.entries.push([i,e])},delete:function(i){var e=a1(this.entries,function(t){return t[0]===i});return~e&&u1(this.entries,e,1),!!~e}};var Bu,Mf={getConstructor:function(i,e,t,r){var n=i(function(w,P){ix(w,s),o1(w,{type:e,id:l1++,frozen:void 0}),n1(P)||$f(P,w[r],{that:w,AS_ENTRIES:t})}),s=n.prototype,c=Jy(e),f=function(w,P,A){var o=c(w),u=zc(kf(P),!0);return u===!0?wa(o).set(P,A):u[o.id]=A,w};return kt(s,{delete:function(w){var P=c(this);if(!_a(w))return!1;var A=zc(w);return A===!0?wa(P).delete(w):A&&Bn(A,P.id)&&delete A[P.id]},has:function(w){var P=c(this);if(!_a(w))return!1;var A=zc(w);return A===!0?wa(P).has(w):A&&Bn(A,P.id)}}),kt(s,t?{get:function(w){var P=c(this);if(_a(w)){var A=zc(w);return A===!0?wa(P).get(w):A?A[P.id]:void 0}},set:function(w,P){return f(this,w,P)}}:{add:function(w){return f(this,w,!0)}}),n}},nx=B_,jf=F,Ki=ie,c1=fy,Zy=wu,ox=dy,em=Mf,qc=pt,Wc=ln.enforce,sx=j,ax=Dh,zu=Object,ux=Array.isArray,Nf=zu.isExtensible,tm=zu.isFrozen,lx=zu.isSealed,rm=zu.freeze,im=zu.seal,h1={},nm={},Ff=!jf.ActiveXObject&&"ActiveXObject"in jf,om=function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},sm=ox("WeakMap",om,em),Oa=sm.prototype,Lf=Ki(Oa.set);if(ax)if(Ff){Bu=em.getConstructor(om,"WeakMap",!0),Zy.enable();var zn=Ki(Oa.delete),Bf=Ki(Oa.has),am=Ki(Oa.get);c1(Oa,{delete:function(i){if(qc(i)&&!Nf(i)){var e=Wc(this);return e.frozen||(e.frozen=new Bu),zn(this,i)||e.frozen.delete(i)}return zn(this,i)},has:function(i){if(qc(i)&&!Nf(i)){var e=Wc(this);return e.frozen||(e.frozen=new Bu),Bf(this,i)||e.frozen.has(i)}return Bf(this,i)},get:function(i){if(qc(i)&&!Nf(i)){var e=Wc(this);return e.frozen||(e.frozen=new Bu),Bf(this,i)?am(this,i):e.frozen.get(i)}return am(this,i)},set:function(i,e){if(qc(i)&&!Nf(i)){var t=Wc(this);t.frozen||(t.frozen=new Bu),Bf(this,i)?Lf(this,i,e):t.frozen.set(i,e)}else Lf(this,i,e);return this}})}else nx&&sx(function(){var i=rm([]);return Lf(new sm,i,1),!tm(i)})&&c1(Oa,{set:function(i,e){var t;return ux(i)&&(tm(i)?t=h1:lx(i)&&(t=nm)),Lf(this,i,e),t===h1&&rm(i),t===nm&&im(i),this}});var Ea,Yi,ho,ss,zf,as=T(Ie.WeakMap);function It(i,e,t,r){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)}function us(i,e,t,r,n){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,t),t}function um(i,e){const t=new or;for(const r of e)i.has(r)||t.add(r);return t}typeof SuppressedError=="function"&&SuppressedError;class qf{constructor(){Ea.set(this,new or),Yi.set(this,new or)}get size(){return It(this,Yi,"f").size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)It(this,Yi,"f").add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)It(this,Yi,"f").delete(n)}clear(){It(this,Yi,"f").clear()}getSelection(){return[...It(this,Yi,"f")]}getChanges(){return{added:[...um(It(this,Ea,"f"),It(this,Yi,"f"))],deleted:[...um(It(this,Yi,"f"),It(this,Ea,"f"))],previous:[...new or(It(this,Ea,"f"))],current:[...new or(It(this,Yi,"f"))]}}commit(){const e=this.getChanges();us(this,Ea,It(this,Yi,"f")),us(this,Yi,new or(It(this,Ea,"f")));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}Ea=new as,Yi=new as;class lm{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};ho.set(this,new qf),ss.set(this,new qf),zf.set(this,void 0),us(this,zf,e)}get sizeNodes(){return It(this,ho,"f").size}get sizeEdges(){return It(this,ss,"f").size}getNodes(){return It(this,ho,"f").getSelection()}getEdges(){return It(this,ss,"f").getSelection()}addNodes(){It(this,ho,"f").add(...arguments)}addEdges(){It(this,ss,"f").add(...arguments)}deleteNodes(e){It(this,ho,"f").delete(e)}deleteEdges(e){It(this,ss,"f").delete(e)}clear(){It(this,ho,"f").clear(),It(this,ss,"f").clear()}commit(){const e={nodes:It(this,ho,"f").commit(),edges:It(this,ss,"f").commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return It(this,zf,"f").call(this,e,...r),e}}ho=new as,ss=new as,zf=new as;class cm{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new lm,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},wt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Wi(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const c=this._initBaseEvent(t,r);if(s===!0)c.nodes=[],c.edges=[];else{const f=this.getSelection();c.nodes=f.nodes,c.edges=f.edges}n!==void 0&&(c.previousSelection=n),e=="click"&&(c.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(c.controlEdge=t.controlEdge),this.body.emitter.emit(e,c)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0&&(e instanceof Ot?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);return n.length>0?t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const s=this.body.edgeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.canvas.DOMtoCanvas(e);let n=10,s=null;const c=this.body.edges;for(let f=0;f<this.body.edgeIndices.length;f++){const w=this.body.edgeIndices[f],P=c[w];if(P.connected){const A=P.from.x,o=P.from.y,u=P.to.x,l=P.to.y,d=P.edgeType.getDistanceToEdge(A,o,u,l,r.x,r.y);d<n&&(s=w,n=d)}}return s!==null?t===!0?this.body.edges[s]:s:void 0}_addToHover(e){e instanceof Ot?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Ot?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof Ot?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof Ot?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof Ot&&r.id!=s||r instanceof hi)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],n=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof hi&&r.id!=s||r instanceof Ot&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){const s=jt(this.hoverObj.edges).length,c=jt(this.hoverObj.nodes).length;(n||r instanceof hi&&s===0&&c===0||r instanceof Ot&&s===0&&c===0)&&(n=this.emitHoverEvent(e,t,r)),r instanceof Ot&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),s={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Ws(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return Ws(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,s=this.body.nodes;for(let w=n.length-1;w>=0;w--){const P=s[n[w]].getItemsOnPoint(t);r.push.apply(r,P)}const c=this.body.edgeIndices,f=this.body.edges;for(let w=c.length-1;w>=0;w--){const P=f[c[w]].getItemsOnPoint(t);r.push.apply(r,P)}return r}}var Hc=Ol,cx=Math.floor,hm=function(i,e){var t=i.length,r=cx(t/2);return t<8?d1(i,e):f1(i,hm(Hc(i,0,r),e),hm(Hc(i,r),e),e)},d1=function(i,e){for(var t,r,n=i.length,s=1;s<n;){for(r=s,t=i[s];r&&e(i[r-1],t)>0;)i[r]=i[--r];r!==s++&&(i[r]=t)}return i},f1=function(i,e,t,r){for(var n=e.length,s=t.length,c=0,f=0;c<n||f<s;)i[c+f]=c<n&&f<s?r(e[c],t[f])<=0?e[c++]:t[f++]:c<n?e[c++]:t[f++];return i},Wf=hm,p1=yt.match(/firefox\/(\d+)/i),hx=!!p1&&+p1[1],dx=/MSIE|Trident/.test(yt),v1=yt.match(/AppleWebKit\/(\d+)\./),fx=!!v1&&+v1[1],ls=Ne,Hf=ie,px=xa,Sa=Ai,dm=Sn,vx=gd,Uc=an,Uf=j,gx=Wf,yx=Hs,fm=hx,g1=dx,pm=go,vm=fx,cs=[],gm=Hf(cs.sort),y1=Hf(cs.push),mx=Uf(function(){cs.sort(void 0)}),bx=Uf(function(){cs.sort(null)}),m1=yx("sort"),b1=!Uf(function(){if(pm)return pm<70;if(!(fm&&fm>3)){if(g1)return!0;if(vm)return vm<603;var i,e,t,r,n="";for(i=65;i<76;i++){switch(e=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)cs.push({k:e+r,v:t})}for(cs.sort(function(s,c){return c.v-s.v}),r=0;r<cs.length;r++)e=cs[r].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return n!=="DGBEFHACIJK"}});ls({target:"Array",proto:!0,forced:mx||!bx||!m1||!b1},{sort:function(i){i!==void 0&&px(i);var e=Sa(this);if(b1)return i===void 0?gm(e):gm(e,i);var t,r,n=[],s=dm(e);for(r=0;r<s;r++)r in e&&y1(n,e[r]);for(gx(n,function(c){return function(f,w){return w===void 0?-1:f===void 0?1:c!==void 0?+c(f,w)||0:Uc(f)>Uc(w)?1:-1}}(i)),t=dm(n),r=0;r<t;)e[r]=n[r++];for(;r<s;)vx(e,r++);return e}});var ym=Qt("Array").sort,mm=tt,_x=ym,bm=Array.prototype,_1=function(i){var e=i.sort;return i===bm||mm(bm,i)&&e===bm.sort?_x:e},qu=T(_1),w1=xa,O1=Ai,hs=Ti,E1=Sn,wx=TypeError,Ox=function(i){return function(e,t,r,n){w1(t);var s=O1(e),c=hs(s),f=E1(s),w=i?f-1:0,P=i?-1:1;if(r<2)for(;;){if(w in c){n=c[w],w+=P;break}if(w+=P,i?w<0:f<=w)throw new wx("Reduce of empty array with no initial value")}for(;i?w>=0:f>w;w+=P)w in c&&(n=t(n,c[w],w,s));return n}},S1={left:Ox(!1)},T1=ee(F.process)==="process",x1=S1.left;Ne({target:"Array",proto:!0,forced:!T1&&go>79&&go<83||!Hs("reduce")},{reduce:function(i){var e=arguments.length;return x1(this,i,e,e>1?arguments[1]:void 0)}});var Ex=Qt("Array").reduce,I1=tt,Sx=Ex,Wu=Array.prototype,_m=function(i){var e=i.reduce;return i===Wu||I1(Wu,i)&&e===Wu.reduce?Sx:e},P1=T(_m);class C1{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class Tx extends C1{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){qu(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class xx extends C1{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){qu(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var Ix=Bt.every;Ne({target:"Array",proto:!0,forced:!Hs("every")},{every:function(i){return Ix(this,i,arguments.length>1?arguments[1]:void 0)}});var wm=Qt("Array").every,A1=tt,Hu=wm,fo=Array.prototype,Px=function(i){var e=i.every;return i===fo||A1(fo,i)&&e===fo.every?Hu:e},R1=T(Px);function Cx(i,e){const t=new or;return Et(i).call(i,r=>{var n;Et(n=r.edges).call(n,s=>{s.connected&&t.add(s)})}),Et(t).call(t,r=>{const n=r.from.id,s=r.to.id;e[n]==null&&(e[n]=0),(e[s]==null||e[n]>=e[s])&&(e[s]=e[n]+1)}),e}function Om(i,e,t,r){var n;const s=Wo(null),c=P1(n=[...Of(r).call(r)]).call(n,(o,u)=>o+1+u.edges.length,0),f=t+"Id",w=t==="to"?1:-1;for(const[o,u]of r){if(!r.has(o)||!i(u))continue;s[o]=0;const l=[u];let d,g=0;for(;d=l.pop();){var P,A;if(!r.has(o))continue;const _=s[d.id]+w;if(Et(P=Fr(A=d.edges).call(A,I=>I.connected&&I.to!==I.from&&I[t]!==d&&r.has(I.toId)&&r.has(I.fromId))).call(P,I=>{const C=I[f],k=s[C];(k==null||e(_,k))&&(s[C]=_,l.push(I[t]))}),g>c)return Cx(r,s);++g}}return s}class Ax{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let s=this.levels[n];if(this.childrenReference[n]){const c=this.childrenReference[n];if(c.length>0)for(let f=0;f<c.length;f++)s=Math.max(s,r(c[f]))}return t[n]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new ua;let r=0;const n=qu(e=[...new or(Y0(this.levels))]).call(e,(s,c)=>s-c);for(const s of n)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,n=-1e9,s=1e9,c=-1e9;for(const f in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,f)&&this.trees[f]===t){const w=e[f];r=Math.min(w.x,r),n=Math.max(w.x,n),s=Math.min(w.y,s),c=Math.max(w.y,c)}return{min_x:r,max_x:n,min_y:s,max_y:c}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let s=0;s<r.length;s++)for(let c=0;c<n.length;c++)if(r[s]==n[c])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return jt(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const s in n)if(n[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class Em{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Hl()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},wt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if(Wi(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Ar(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),bt(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=dr(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0||t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0||n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0||n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection!==void 0&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],s=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(s)),n.y===void 0&&(n.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const s=this.options.clusterThreshold,c={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const w=e.length;for(;e.length>s&&n<=10;){n+=1;const P=e.length;if(n%3==0?this.body.modules.clustering.clusterBridges(c):this.body.modules.clustering.clusterOutliers(c),P==e.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*w)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const f=70;for(let w=0;w<e.length;w++){const P=this.body.nodes[e[w]];P.predefinedPosition===!1&&(P.x+=(.5-this._rng())*f,P.y+=(.5-this._rng())*f)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Jr.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Jr.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new Ax,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const c=this.options.hierarchical.sortMethod;c==="hubsize"?this._determineLevelsByHubsize():c==="directed"?this._determineLevelsDirected():c==="custom"&&this._determineLevelsCustomCallback()}for(const c in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,c)&&this.hierarchical.ensureLevel(c);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=(_,I)=>{const C=this.hierarchical.trees;for(const k in C)Object.prototype.hasOwnProperty.call(C,k)&&C[k]===_&&this.direction.shift(k,I)},s=()=>{const _=[];for(let I=0;I<this.hierarchical.numTrees();I++)_.push(this.direction.getTreeSize(I));return _},c=(_,I)=>{if(!I[_.id]&&(I[_.id]=!0,this.hierarchical.childrenReference[_.id])){const C=this.hierarchical.childrenReference[_.id];if(C.length>0)for(let k=0;k<C.length;k++)c(this.body.nodes[C[k]],I)}},f=function(_){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,C=1e9,k=1e9,N=1e9,z=-1e9;for(const W in _)if(Object.prototype.hasOwnProperty.call(_,W)){const Q=e.body.nodes[W],re=e.hierarchical.levels[Q.id],pe=e.direction.getPosition(Q),[Se,Re]=e._getSpaceAroundNode(Q,_);C=Math.min(Se,C),k=Math.min(Re,k),re<=I&&(N=Math.min(pe,N),z=Math.max(pe,z))}return[N,z,C,k]},w=(_,I)=>{const C=this.hierarchical.getMaxLevel(_.id),k=this.hierarchical.getMaxLevel(I.id);return Math.min(C,k)},P=(_,I,C)=>{const k=this.hierarchical;for(let N=0;N<I.length;N++){const z=I[N],W=k.distributionOrdering[z];if(W.length>1)for(let Q=0;Q<W.length-1;Q++){const re=W[Q],pe=W[Q+1];k.hasSameParent(re,pe)&&k.inSameSubNetwork(re,pe)&&_(re,pe,C)}}},A=function(_,I){let C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=e.direction.getPosition(_),N=e.direction.getPosition(I),z=Math.abs(N-k),W=e.options.hierarchical.nodeSpacing;if(z>W){const Q={},re={};c(_,Q),c(I,re);const pe=w(_,I),Se=f(Q,pe),Re=f(re,pe),De=Se[1],Oe=Re[0],Ke=Re[2];if(Math.abs(De-Oe)>W){let Xe=De-Oe+W;Xe<-Ke+W&&(Xe=-Ke+W),Xe<0&&(e._shiftBlock(I.id,Xe),t=!0,C===!0&&e._centerParent(I))}}},o=(_,I)=>{const C=I.id,k=I.edges,N=this.hierarchical.levels[I.id],z=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,W={},Q=[];for(let De=0;De<k.length;De++){const Oe=k[De];if(Oe.toId!=Oe.fromId){const Ke=Oe.toId==C?Oe.from:Oe.to;W[k[De].id]=Ke,this.hierarchical.levels[Ke.id]<N&&Q.push(Oe)}}const re=(De,Oe)=>{let Ke=0;for(let Xe=0;Xe<Oe.length;Xe++)if(W[Oe[Xe].id]!==void 0){const ot=this.direction.getPosition(W[Oe[Xe].id])-De;Ke+=ot/Math.sqrt(ot*ot+z)}return Ke},pe=(De,Oe)=>{let Ke=0;for(let Xe=0;Xe<Oe.length;Xe++)if(W[Oe[Xe].id]!==void 0){const ot=this.direction.getPosition(W[Oe[Xe].id])-De;Ke-=z*Math.pow(ot*ot+z,-1.5)}return Ke},Se=(De,Oe)=>{let Ke=this.direction.getPosition(I);const Xe={};for(let ot=0;ot<De;ot++){const Tt=re(Ke,Oe),Qr=pe(Ke,Oe);if(Ke-=Math.max(-40,Math.min(40,Math.round(Tt/Qr))),Xe[Ke]!==void 0)break;Xe[Ke]=ot}return Ke};let Re=Se(_,Q);(De=>{const Oe=this.direction.getPosition(I);if(r[I.id]===void 0){const Dr={};c(I,Dr),r[I.id]=Dr}const Ke=f(r[I.id]),Xe=Ke[2],ot=Ke[3],Tt=De-Oe;let Qr=0;Tt>0?Qr=Math.min(Tt,ot-this.options.hierarchical.nodeSpacing):Tt<0&&(Qr=-Math.min(-Tt,Xe-this.options.hierarchical.nodeSpacing)),Qr!=0&&(this._shiftBlock(I.id,Qr),t=!0)})(Re),Re=Se(_,k),(De=>{const Oe=this.direction.getPosition(I),[Ke,Xe]=this._getSpaceAroundNode(I),ot=De-Oe;let Tt=Oe;ot>0?Tt=Math.min(Oe+(Xe-this.options.hierarchical.nodeSpacing),De):ot<0&&(Tt=Math.max(Oe-(Ke-this.options.hierarchical.nodeSpacing),De)),Tt!==Oe&&(this.direction.setPosition(I,Tt),t=!0)})(Re)},u=_=>{let I=this.hierarchical.getLevels();I=Us(I).call(I);for(let C=0;C<_;C++){t=!1;for(let k=0;k<I.length;k++){const N=I[k],z=this.hierarchical.distributionOrdering[N];for(let W=0;W<z.length;W++)o(1e3,z[W])}if(t!==!0)break}},l=_=>{let I=this.hierarchical.getLevels();I=Us(I).call(I);for(let C=0;C<_&&(t=!1,P(A,I,!0),t===!0);C++);},d=()=>{for(const _ in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,_)&&this._centerParent(this.body.nodes[_])},g=()=>{let _=this.hierarchical.getLevels();_=Us(_).call(_);for(let I=0;I<_.length;I++){const C=_[I],k=this.hierarchical.distributionOrdering[C];for(let N=0;N<k.length;N++)this._centerParent(k[N])}};this.options.hierarchical.blockShifting===!0&&(l(5),d()),this.options.hierarchical.edgeMinimization===!0&&u(20),this.options.hierarchical.parentCentralization===!0&&g(),(()=>{const _=s();let I=0;for(let C=0;C<_.length-1;C++)I+=_[C].max-_[C+1].min+this.options.hierarchical.treeSpacing,n(C+1,I)})()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const s=this.hierarchical.distributionIndex[e.id],c=this.direction.getPosition(e),f=this.hierarchical.distributionOrdering[n];let w=1e9,P=1e9;if(s!==0){const A=f[s-1];(r===!0&&t[A.id]===void 0||r===!1)&&(w=c-this.direction.getPosition(A))}if(s!=f.length-1){const A=f[s+1];if(r===!0&&t[A.id]===void 0||r===!1){const o=this.direction.getPosition(A);P=Math.min(P,o-c)}}return[w,P]}return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],s=this.body.nodes[n],c=this.hierarchical.childrenReference[n];if(c!==void 0){const f=this._getCenterPosition(c),w=this.direction.getPosition(s),[P,A]=this._getSpaceAroundNode(s),o=w-f;(o<0&&Math.abs(o)<A-this.options.hierarchical.nodeSpacing||o>0&&Math.abs(o)<P-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,f)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=jt(e[r]);n=this._indexArrayToNodes(n),qu(t=this.direction).call(t,n);let s=0;for(let c=0;c<n.length;c++){const f=n[c];if(this.positionedNodes[f.id]===void 0){const w=this.options.hierarchical.nodeSpacing;let P=w*s;s>0&&(P=this.direction.getPosition(n[c-1])+w),this.direction.setPosition(f,P,r),this._validatePositionAndContinue(f,r,P),s++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const s=[];for(let f=0;f<n.length;f++)s.push(this.body.nodes[n[f]]);qu(r=this.direction).call(r,s);for(let f=0;f<s.length;f++){const w=s[f],P=this.hierarchical.levels[w.id];if(!(P>t&&this.positionedNodes[w.id]===void 0))return;{const A=this.options.hierarchical.nodeSpacing;let o;o=f===0?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(s[f-1])+A,this.direction.setPosition(w,o,P),this._validatePositionAndContinue(w,P,o)}}const c=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],c,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const s=n+this.options.hierarchical.nodeSpacing-r,c=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(c.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return nt(e.edges,r=>{var n;mt(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={};nt(this.body.nodeIndices,r=>{const n=this.body.nodes[r],s=this._getActiveEdges(n).length;e[s]=!0});const t=[];return nt(e,r=>{t.push(Number(r))}),qu(t).call(t,function(r,n){return n-r}),t}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;nt(this.body.nodeIndices,s=>{const c=this.body.nodes[s];n===this._getActiveEdges(c).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){this._crawlNetwork((e,t,r)=>{let n=this.hierarchical.levels[e.id];n===void 0&&(n=this.hierarchical.levels[e.id]=1e5);const s=(Jr.cloneOptions(e,"node"),Jr.cloneOptions(t,"node"),void Jr.cloneOptions(r,"edge"));this.hierarchical.levels[t.id]=n+s}),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=P1(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new ua);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=function(r){return Om(n=>{var s,c;return R1(s=Fr(c=n.edges).call(c,f=>r.has(f.toId))).call(s,f=>f.from===n)},(n,s)=>s<n,"to",r)}(t):this.hierarchical.levels=function(r){return Om(n=>{var s,c;return R1(s=Fr(c=n.edges).call(c,f=>r.has(f.toId))).call(s,f=>f.to===n)},(n,s)=>s>n,"from",r)}(t),this.hierarchical.setMinLevelToZero()}_generateMap(){this._crawlNetwork((e,t)=>{this.hierarchical.levels[t.id]>this.hierarchical.levels[e.id]&&this.hierarchical.addRelation(e.id,t.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(s,c)=>{if(r[s.id]===void 0){let f;this.hierarchical.setTreeIndex(s,c),r[s.id]=!0;const w=this._getActiveEdges(s);for(let P=0;P<w.length;P++){const A=w[P];A.connected===!0&&(f=A.toId==s.id?A.from:A.to,s.id!=f.id&&(e(s,f,A),n(f,c)))}}};if(t===void 0){let s=0;for(let c=0;c<this.body.nodeIndices.length;c++){const f=this.body.nodeIndices[c];if(r[f]===void 0){const w=this.body.nodes[f];n(w,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0)return void console.error("Node not found:",t);n(s)}}_shiftBlock(e,t){const r={},n=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const c=this.hierarchical.childrenReference[s];if(c!==void 0)for(let f=0;f<c.length;f++)n(c[f])};n(e)}_findCommonParent(e,t){const r={},n=(c,f)=>{const w=this.hierarchical.parentReference[f];if(w!==void 0)for(let P=0;P<w.length;P++){const A=w[P];c[A]=!0,n(c,A)}},s=(c,f)=>{const w=this.hierarchical.parentReference[f];if(w!==void 0)for(let P=0;P<w.length;P++){const A=w[P];if(c[A]!==void 0)return{foundParent:A,withChild:f};const o=s(c,A);if(o.foundParent!==null)return o}return{foundParent:null,withChild:f}};return n(r,e),s(r,t)}setDirectionStrategy(){const e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";this.direction=e?new Tx(this):new xx(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let s;if(e[n].id!==void 0)s=e[n];else{const f=e[n];s=this.body.nodes[f]}const c=this.direction.getPosition(s);t=Math.min(t,c),r=Math.max(r,c)}return .5*(t+r)}}class Rx{constructor(e,t,r,n){var s,c;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},wt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",de(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",de(c=this._restore).call(c,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,bt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),s=r+n,c=this.options.locales[this.options.locale];let f=!1;this.options.addNode!==!1&&(this._createAddNodeButton(c),f=!0),this.options.addEdge!==!1&&(f===!0?this._createSeperator(1):f=!0,this._createAddEdgeButton(c)),r===1&&typeof this.options.editNode=="function"?(f===!0?this._createSeperator(2):f=!0,this._createEditNodeButton(c)):n===1&&r===0&&this.options.editEdge!==!1&&(f===!0?this._createSeperator(3):f=!0,this._createEditEdgeButton(c)),s!==0&&(r>0&&this.options.deleteNode!==!1||r===0&&this.options.deleteEdge!==!1)&&(f===!0&&this._createSeperator(4),this._createDeleteButton(c)),this._bindElementEvents(this.closeDiv,de(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",de(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,de(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",de(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0){if(this.inMode="editNode",typeof this.options.editNode!="function")throw new Error("No function has been configured to handle the editing of nodes.");if(e.isCluster!==!0){const t=bt({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var c;const f=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(f),this._createSeperator(),this._createDescription(f.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,de(c=this.toggleEditMode).call(c,this))}this._temporaryBindUI("onTouch",de(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",de(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",de(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",de(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",de(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge!="object"||typeof this.options.editEdge.editWithoutDrag!="function"||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId===void 0)){if(this.guiEnabled===!0){var e;const c=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(c),this._createSeperator(),this._createDescription(c.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,de(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,s;const c=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(c.from.x,c.from.y),w=this._getNewTargetNode(c.to.x,c.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(w.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[w.id]=w,this.body.nodeIndices.push(w.id),this._temporaryBindUI("onTouch",de(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",de(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",de(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",de(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",P=>{const A=c.edgeType.findBorderPositions(P);f.selected===!1&&(f.x=A.from.x,f.y=A.from.y),w.selected===!1&&(w.x=A.to.x,w.y=A.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{const c=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(c.from.id,c.to.id)}}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length!==2)throw new Error("The function for delete does not support two arguments (data, callback)");r(n,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var e,t;this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(e,t){const r=bt({},this.options.controlNodeStyle);r.id="targetNode"+ba(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},yi(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,de(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(yi(this.editModeDiv),yi(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of ro(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),yi(this.manipulationDiv),yi(this.editModeDiv),yi(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,de(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,de(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,de(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,de(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;r=this.options.rtl?"vis-delete-rtl":"vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,de(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,de(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]===void 0)throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+er(jt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new bu(e,{});Lc(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=s=>{let{keyCode:c,key:f}=s;f!=="Enter"&&f!==" "&&c!==13&&c!==32||t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const c=mt(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);var t;c!==-1&&ro(t=this.body.edgeIndices).call(t,c,1)}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const c=mt(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);var n;c!==-1&&ro(n=this.body.nodeIndices).call(n,c,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=wt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const c=r.isOverlappingWith(t),f=n.isOverlappingWith(t);c===!0?(this.selectedControlNode=r,s.edgeType.from=r):f===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let c;for(let f=s.length-1;f>=0;f--)if(s[f]!==this.selectedControlNode.id){c=this.body.nodes[s[f]];break}if(c!==void 0&&this.selectedControlNode!==void 0)if(c.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const f=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===f.id?this._performEditEdge(c.id,n.to.id):this._performEditEdge(n.from.id,c.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=wt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ba(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let c;for(let w=s.length-1;w>=0;w--){var f;if(mt(f=this.temporaryIds.nodes).call(f,s[w])===-1){c=this.body.nodes[s[w]];break}}if(e.controlEdge={from:n,to:c?c.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const w=this.body.nodes[this.temporaryIds.nodes[0]];w.x=this.canvas._XconvertDOMtoCanvas(t.x),w.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let c;for(let w=s.length-1;w>=0;w--){var f;if(mt(f=this.temporaryIds.nodes).call(f,s[w])===-1){c=this.body.nodes[s[w]];break}}this._cleanupTemporaryNodesAndEdges(),c!==void 0&&(c.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[c.id]!==void 0&&this._performAddEdge(n,c.id)),e.controlEdge={from:n,to:c?c.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:ba(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function"){if(this.options.addNode.length!==2)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function"){if(this.options.addEdge.length!==2)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function"){if(n.length!==2)throw new Error("The function for edit does not support two arguments (data, callback)");n(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const be="string",ue="boolean",J="number",Gc="array",Pe="object",Gf=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Sm={borderWidth:{number:J},borderWidthSelected:{number:J,undefined:"undefined"},brokenImage:{string:be,undefined:"undefined"},chosen:{label:{boolean:ue,function:"function"},node:{boolean:ue,function:"function"},__type__:{object:Pe,boolean:ue}},color:{border:{string:be},background:{string:be},highlight:{border:{string:be},background:{string:be},__type__:{object:Pe,string:be}},hover:{border:{string:be},background:{string:be},__type__:{object:Pe,string:be}},__type__:{object:Pe,string:be}},opacity:{number:J,undefined:"undefined"},fixed:{x:{boolean:ue},y:{boolean:ue},__type__:{object:Pe,boolean:ue}},font:{align:{string:be},color:{string:be},size:{number:J},face:{string:be},background:{string:be},strokeWidth:{number:J},strokeColor:{string:be},vadjust:{number:J},multi:{boolean:ue,string:be},bold:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},boldital:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},ital:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},mono:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},__type__:{object:Pe,string:be}},group:{string:be,number:J,undefined:"undefined"},heightConstraint:{minimum:{number:J},valign:{string:be},__type__:{object:Pe,boolean:ue,number:J}},hidden:{boolean:ue},icon:{face:{string:be},code:{string:be},size:{number:J},color:{string:be},weight:{string:be,number:J},__type__:{object:Pe}},id:{string:be,number:J},image:{selected:{string:be,undefined:"undefined"},unselected:{string:be,undefined:"undefined"},__type__:{object:Pe,string:be}},imagePadding:{top:{number:J},right:{number:J},bottom:{number:J},left:{number:J},__type__:{object:Pe,number:J}},label:{string:be,undefined:"undefined"},labelHighlightBold:{boolean:ue},level:{number:J,undefined:"undefined"},margin:{top:{number:J},right:{number:J},bottom:{number:J},left:{number:J},__type__:{object:Pe,number:J}},mass:{number:J},physics:{boolean:ue},scaling:{min:{number:J},max:{number:J},label:{enabled:{boolean:ue},min:{number:J},max:{number:J},maxVisible:{number:J},drawThreshold:{number:J},__type__:{object:Pe,boolean:ue}},customScalingFunction:{function:"function"},__type__:{object:Pe}},shadow:{enabled:{boolean:ue},color:{string:be},size:{number:J},x:{number:J},y:{number:J},__type__:{object:Pe,boolean:ue}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ue,array:Gc},borderRadius:{number:J},interpolation:{boolean:ue},useImageSize:{boolean:ue},useBorderWithImage:{boolean:ue},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Pe}},size:{number:J},title:{string:be,dom:"dom",undefined:"undefined"},value:{number:J,undefined:"undefined"},widthConstraint:{minimum:{number:J},maximum:{number:J},__type__:{object:Pe,boolean:ue,number:J}},x:{number:J},y:{number:J},__type__:{object:Pe}},Vf={configure:{enabled:{boolean:ue},filter:{boolean:ue,string:be,array:Gc,function:"function"},container:{dom:"dom"},showButton:{boolean:ue},__type__:{object:Pe,boolean:ue,string:be,array:Gc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ue},scaleFactor:{number:J},type:{string:Gf},imageHeight:{number:J},imageWidth:{number:J},src:{string:be},__type__:{object:Pe,boolean:ue}},middle:{enabled:{boolean:ue},scaleFactor:{number:J},type:{string:Gf},imageWidth:{number:J},imageHeight:{number:J},src:{string:be},__type__:{object:Pe,boolean:ue}},from:{enabled:{boolean:ue},scaleFactor:{number:J},type:{string:Gf},imageWidth:{number:J},imageHeight:{number:J},src:{string:be},__type__:{object:Pe,boolean:ue}},__type__:{string:["from","to","middle"],object:Pe}},endPointOffset:{from:{number:J},to:{number:J},__type__:{object:Pe,number:J}},arrowStrikethrough:{boolean:ue},background:{enabled:{boolean:ue},color:{string:be},size:{number:J},dashes:{boolean:ue,array:Gc},__type__:{object:Pe,boolean:ue}},chosen:{label:{boolean:ue,function:"function"},edge:{boolean:ue,function:"function"},__type__:{object:Pe,boolean:ue}},color:{color:{string:be},highlight:{string:be},hover:{string:be},inherit:{string:["from","to","both"],boolean:ue},opacity:{number:J},__type__:{object:Pe,string:be}},dashes:{boolean:ue,array:Gc},font:{color:{string:be},size:{number:J},face:{string:be},background:{string:be},strokeWidth:{number:J},strokeColor:{string:be},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:J},multi:{boolean:ue,string:be},bold:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},boldital:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},ital:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},mono:{color:{string:be},size:{number:J},face:{string:be},mod:{string:be},vadjust:{number:J},__type__:{object:Pe,string:be}},__type__:{object:Pe,string:be}},hidden:{boolean:ue},hoverWidth:{function:"function",number:J},label:{string:be,undefined:"undefined"},labelHighlightBold:{boolean:ue},length:{number:J,undefined:"undefined"},physics:{boolean:ue},scaling:{min:{number:J},max:{number:J},label:{enabled:{boolean:ue},min:{number:J},max:{number:J},maxVisible:{number:J},drawThreshold:{number:J},__type__:{object:Pe,boolean:ue}},customScalingFunction:{function:"function"},__type__:{object:Pe}},selectionWidth:{function:"function",number:J},selfReferenceSize:{number:J},selfReference:{size:{number:J},angle:{number:J},renderBehindTheNode:{boolean:ue},__type__:{object:Pe}},shadow:{enabled:{boolean:ue},color:{string:be},size:{number:J},x:{number:J},y:{number:J},__type__:{object:Pe,boolean:ue}},smooth:{enabled:{boolean:ue},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:J},forceDirection:{string:["horizontal","vertical","none"],boolean:ue},__type__:{object:Pe,boolean:ue}},title:{string:be,undefined:"undefined"},width:{number:J},widthConstraint:{maximum:{number:J},__type__:{object:Pe,boolean:ue,number:J}},value:{number:J,undefined:"undefined"},__type__:{object:Pe}},groups:{useDefaultGroups:{boolean:ue},__any__:Sm,__type__:{object:Pe}},interaction:{dragNodes:{boolean:ue},dragView:{boolean:ue},hideEdgesOnDrag:{boolean:ue},hideEdgesOnZoom:{boolean:ue},hideNodesOnDrag:{boolean:ue},hover:{boolean:ue},keyboard:{enabled:{boolean:ue},speed:{x:{number:J},y:{number:J},zoom:{number:J},__type__:{object:Pe}},bindToWindow:{boolean:ue},autoFocus:{boolean:ue},__type__:{object:Pe,boolean:ue}},multiselect:{boolean:ue},navigationButtons:{boolean:ue},selectable:{boolean:ue},selectConnectedEdges:{boolean:ue},hoverConnectedEdges:{boolean:ue},tooltipDelay:{number:J},zoomView:{boolean:ue},zoomSpeed:{number:J},__type__:{object:Pe}},layout:{randomSeed:{undefined:"undefined",number:J,string:be},improvedLayout:{boolean:ue},clusterThreshold:{number:J},hierarchical:{enabled:{boolean:ue},levelSeparation:{number:J},nodeSpacing:{number:J},treeSpacing:{number:J},blockShifting:{boolean:ue},edgeMinimization:{boolean:ue},parentCentralization:{boolean:ue},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Pe,boolean:ue}},__type__:{object:Pe}},manipulation:{enabled:{boolean:ue},initiallyActive:{boolean:ue},addNode:{boolean:ue,function:"function"},addEdge:{boolean:ue,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Pe,boolean:ue,function:"function"}},deleteNode:{boolean:ue,function:"function"},deleteEdge:{boolean:ue,function:"function"},controlNodeStyle:Sm,__type__:{object:Pe,boolean:ue}},nodes:Sm,physics:{enabled:{boolean:ue},barnesHut:{theta:{number:J},gravitationalConstant:{number:J},centralGravity:{number:J},springLength:{number:J},springConstant:{number:J},damping:{number:J},avoidOverlap:{number:J},__type__:{object:Pe}},forceAtlas2Based:{theta:{number:J},gravitationalConstant:{number:J},centralGravity:{number:J},springLength:{number:J},springConstant:{number:J},damping:{number:J},avoidOverlap:{number:J},__type__:{object:Pe}},repulsion:{centralGravity:{number:J},springLength:{number:J},springConstant:{number:J},nodeDistance:{number:J},damping:{number:J},__type__:{object:Pe}},hierarchicalRepulsion:{centralGravity:{number:J},springLength:{number:J},springConstant:{number:J},nodeDistance:{number:J},damping:{number:J},avoidOverlap:{number:J},__type__:{object:Pe}},maxVelocity:{number:J},minVelocity:{number:J},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ue},iterations:{number:J},updateInterval:{number:J},onlyDynamicEdges:{boolean:ue},fit:{boolean:ue},__type__:{object:Pe,boolean:ue}},timestep:{number:J},adaptiveTimestep:{boolean:ue},wind:{x:{number:J},y:{number:J},__type__:{object:Pe}},__type__:{object:Pe,boolean:ue}},autoResize:{boolean:ue},clickToUse:{boolean:ue},locale:{string:be},locales:{__any__:{any:"any"},__type__:{object:Pe}},height:{string:be},width:{string:be},__type__:{object:Pe}},Vc={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Kc=(i,e,t)=>{var r;return!(!Bo(i).call(i,"physics")||!Bo(r=Vc.physics.solver).call(r,e)||t.physics.solver===e||e==="wind")};var Kf=Object.freeze({__proto__:null,allOptions:Vf,configuratorHideOption:Kc,configureOptions:Vc});class Tm{constructor(){}getDistances(e,t,r){const n={},s=e.edges;for(let f=0;f<t.length;f++){const w={};n[t[f]]=w;for(let P=0;P<t.length;P++)w[t[P]]=f==P?0:1e9}for(let f=0;f<r.length;f++){const w=s[r[f]];w.connected===!0&&n[w.fromId]!==void 0&&n[w.toId]!==void 0&&(n[w.fromId][w.toId]=1,n[w.toId][w.fromId]=1)}const c=t.length;for(let f=0;f<c;f++){const w=t[f],P=n[w];for(let A=0;A<c-1;A++){const o=t[A],u=n[o];for(let l=A+1;l<c;l++){const d=t[l],g=n[d],_=Math.min(u[d],u[w]+P[d]);u[d]=_,g[o]=_}}}return n}}class qn{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new Tm}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();let s=0;const c=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));let f=1e9,w=0,P=0,A=0,o=0,u=0;for(;f>.01&&s<c;)for(s+=1,[w,f,P,A]=this._getHighestEnergyNode(r),o=f,u=0;o>1&&u<5;)u+=1,this._moveNode(w,P,A),[o,P,A]=this._getEnergy(w)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,s=t[0],c=0,f=0;for(let w=0;w<t.length;w++){const P=t[w];if(r[P].predefinedPosition!==!0||r[P].isCluster===!0&&e===!0||r[P].options.fixed.x!==!0||r[P].options.fixed.y!==!0){const[A,o,u]=this._getEnergy(P);n<A&&(n=A,s=P,c=o,f=u)}}return[s,n,c,f]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,s=this.body.nodes;let c=0,f=0,w=0;const P=s[e].x,A=s[e].y,o=this.K_matrix[e],u=this.L_matrix[e];for(let g=0;g<n.length;g++){const _=n[g];if(_!==e){const I=s[_].x,C=s[_].y,k=o[_],N=u[_],z=1/((P-I)**2+(A-C)**2)**1.5;c+=k*(1-N*(A-C)**2*z),f+=k*(N*(P-I)*(A-C)*z),w+=k*(1-N*(P-I)**2*z)}}const l=(t/c+r/f)/(f/c-w/f),d=-(f*l+t)/c;s[e].x+=d,s[e].y+=l,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],s=t[n].x,c=t[n].y;let f=0,w=0;for(let P=r;P<e.length;P++){const A=e[P];if(A!==n){const o=t[A].x,u=t[A].y,l=1/Math.sqrt((s-o)**2+(c-u)**2);this.E_matrix[n][P]=[this.K_matrix[n][A]*(s-o-this.L_matrix[n][A]*(s-o)*l),this.K_matrix[n][A]*(c-u-this.L_matrix[n][A]*(c-u)*l)],this.E_matrix[A][r]=this.E_matrix[n][P],f+=this.E_matrix[n][P][0],w+=this.E_matrix[n][P][1]}}this.E_sums[n]=[f,w]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],s=this.K_matrix[e],c=this.L_matrix[e],f=r[e].x,w=r[e].y;let P=0,A=0;for(let o=0;o<t.length;o++){const u=t[o];if(u!==e){const l=n[o],d=l[0],g=l[1],_=r[u].x,I=r[u].y,C=1/Math.sqrt((f-_)**2+(w-I)**2),k=s[u]*(f-_-c[u]*(f-_)*C),N=s[u]*(w-I-c[u]*(w-I)*C);n[o]=[k,N],P+=k,A+=N;const z=this.E_sums[u];z[0]+=k-d,z[1]+=N-g}}this.E_sums[e]=[P,A]}}function Me(i,e,t){var r,n,s,c;if(!(this instanceof Me))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:ZS,clickToUse:!1},wt(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:de(r=this.on).call(r,this),off:de(n=this.off).call(n,this),emit:de(s=this.emit).call(s,this),once:de(c=this.once).call(c,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new iy(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new xu,this.canvas=new Fu(this.body),this.selectionHandler=new cm(this.body,this.canvas),this.interactionHandler=new os(this.body,this.canvas,this.selectionHandler),this.view=new Rf(this.body,this.canvas),this.renderer=new r1(this.body,this.canvas),this.physics=new Xy(this.body),this.layoutEngine=new Em(this.body),this.clustering=new t1(this.body),this.manipulation=new Rx(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new $u(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new QT(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new qn(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}yb(Me.prototype),Me.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(QS.validate(i,Vf)===!0&&console.error("%cErrors have been found in the supplied options object.",P_),Wi(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=function(e,t){try{const[n,s]=t.split(/[-_ /]/,2),c=n!=null?n.toLowerCase():null,f=s!=null?s.toUpperCase():null;if(c&&f){const w=c+"-"+f;if(Object.prototype.hasOwnProperty.call(e,w))return w;var r;console.warn(bS(r="Unknown variant ".concat(f," of language ")).call(r,c,"."))}if(c){const w=c;if(Object.prototype.hasOwnProperty.call(e,w))return w;console.warn("Unknown language ".concat(c))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new Yg(this,this.body.container,Vc,this.canvas.pixelRatio,Kc)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const e={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};bt(e.nodes,this.nodesHandler.options),bt(e.edges,this.edgesHandler.options),bt(e.layout,this.layoutEngine.options),bt(e.interaction,this.selectionHandler.options),bt(e.interaction,this.renderer.options),bt(e.interaction,this.interactionHandler.options),bt(e.manipulation,this.manipulation.options),bt(e.physics,this.physics.options),bt(e.global,this.canvas.options),bt(e.global,this.options),this.configurator.setModuleOptions(e)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new pc(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Me.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(this.clustering._isClusteredNode(t)||i[t].options.hidden!==!1||this.body.nodeIndices.push(i[t].id));for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],s=i[r.toId],c=n!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&c&&n.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}},Me.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},Me.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Gd(i.dot);this.setData(e)}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=ry(i.gephi);this.setData(e)}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Me.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];yi(this.body.container)},Me.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),n+=s)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)},Me.prototype.isActive=function(){return!this.activator||this.activator.active},Me.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Me.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Me.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Me.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Me.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Me.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Me.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Me.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Me.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Me.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Me.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Me.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Me.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Me.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Me.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Me.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Me.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Me.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Me.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Me.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Me.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Me.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Me.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Me.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Me.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Me.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Me.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Me.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Me.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Me.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Me.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Me.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Me.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Me.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Me.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Me.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Me.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Me.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Me.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Me.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},Me.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i},Me.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Me.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Me.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Me.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Me.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Me.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Me.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Me.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Me.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Me.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Me.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};const xm=Gd;m.Network=Me,m.NetworkImages=iy,m.networkDOTParser=D_,m.networkGephiParser=M_,m.networkOptions=Kf,m.parseDOTNetwork=xm,m.parseGephiNetwork=ry})}(Ux,Ux.exports)),Ux.exports}var EI,QH=new Uint8Array(16);function mL(){if(!EI&&(EI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!EI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return EI(QH)}const ZH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function BI(b){return typeof b=="string"&&ZH.test(b)}var Si=[];for(var Qk=0;Qk<256;++Qk)Si.push((Qk+256).toString(16).substr(1));function zI(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=(Si[b[S+0]]+Si[b[S+1]]+Si[b[S+2]]+Si[b[S+3]]+"-"+Si[b[S+4]]+Si[b[S+5]]+"-"+Si[b[S+6]]+Si[b[S+7]]+"-"+Si[b[S+8]]+Si[b[S+9]]+"-"+Si[b[S+10]]+Si[b[S+11]]+Si[b[S+12]]+Si[b[S+13]]+Si[b[S+14]]+Si[b[S+15]]).toLowerCase();if(!BI(m))throw TypeError("Stringified UUID is invalid");return m}var EF,Zk,e$=0,t$=0;function e6(b,S,m){var O=S&&m||0,E=S||new Array(16);b=b||{};var T=b.node||EF,$=b.clockseq!==void 0?b.clockseq:Zk;if(T==null||$==null){var F=b.random||(b.rng||mL)();T==null&&(T=EF=[F[0]|1,F[1],F[2],F[3],F[4],F[5]]),$==null&&($=Zk=(F[6]<<8|F[7])&16383)}var j=b.msecs!==void 0?b.msecs:Date.now(),B=b.nsecs!==void 0?b.nsecs:t$+1,U=j-e$+(B-t$)/1e4;if(U<0&&b.clockseq===void 0&&($=$+1&16383),(U<0||j>e$)&&b.nsecs===void 0&&(B=0),B>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");e$=j,t$=B,Zk=$,j+=122192928e5;var K=((j&268435455)*1e4+B)%4294967296;E[O++]=K>>>24&255,E[O++]=K>>>16&255,E[O++]=K>>>8&255,E[O++]=K&255;var V=j/4294967296*1e4&268435455;E[O++]=V>>>8&255,E[O++]=V&255,E[O++]=V>>>24&15|16,E[O++]=V>>>16&255,E[O++]=$>>>8|128,E[O++]=$&255;for(var Y=0;Y<6;++Y)E[O+Y]=T[Y];return S||zI(E)}function bL(b){if(!BI(b))throw TypeError("Invalid UUID");var S,m=new Uint8Array(16);return m[0]=(S=parseInt(b.slice(0,8),16))>>>24,m[1]=S>>>16&255,m[2]=S>>>8&255,m[3]=S&255,m[4]=(S=parseInt(b.slice(9,13),16))>>>8,m[5]=S&255,m[6]=(S=parseInt(b.slice(14,18),16))>>>8,m[7]=S&255,m[8]=(S=parseInt(b.slice(19,23),16))>>>8,m[9]=S&255,m[10]=(S=parseInt(b.slice(24,36),16))/1099511627776&255,m[11]=S/4294967296&255,m[12]=S>>>24&255,m[13]=S>>>16&255,m[14]=S>>>8&255,m[15]=S&255,m}function t6(b){b=unescape(encodeURIComponent(b));for(var S=[],m=0;m<b.length;++m)S.push(b.charCodeAt(m));return S}var r6="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i6="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _L(b,S,m){function O(E,T,$,F){if(typeof E=="string"&&(E=t6(E)),typeof T=="string"&&(T=bL(T)),T.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var j=new Uint8Array(16+E.length);if(j.set(T),j.set(E,T.length),j=m(j),j[6]=j[6]&15|S,j[8]=j[8]&63|128,$){F=F||0;for(var B=0;B<16;++B)$[F+B]=j[B];return $}return zI(j)}try{O.name=b}catch{}return O.DNS=r6,O.URL=i6,O}function n6(b){if(typeof b=="string"){var S=unescape(encodeURIComponent(b));b=new Uint8Array(S.length);for(var m=0;m<S.length;++m)b[m]=S.charCodeAt(m)}return o6(s6(a6(b),b.length*8))}function o6(b){for(var S=[],m=b.length*32,O="0123456789abcdef",E=0;E<m;E+=8){var T=b[E>>5]>>>E%32&255,$=parseInt(O.charAt(T>>>4&15)+O.charAt(T&15),16);S.push($)}return S}function wL(b){return(b+64>>>9<<4)+14+1}function s6(b,S){b[S>>5]|=128<<S%32,b[wL(S)-1]=S;for(var m=1732584193,O=-271733879,E=-1732584194,T=271733878,$=0;$<b.length;$+=16){var F=m,j=O,B=E,U=T;m=Qi(m,O,E,T,b[$],7,-680876936),T=Qi(T,m,O,E,b[$+1],12,-389564586),E=Qi(E,T,m,O,b[$+2],17,606105819),O=Qi(O,E,T,m,b[$+3],22,-1044525330),m=Qi(m,O,E,T,b[$+4],7,-176418897),T=Qi(T,m,O,E,b[$+5],12,1200080426),E=Qi(E,T,m,O,b[$+6],17,-1473231341),O=Qi(O,E,T,m,b[$+7],22,-45705983),m=Qi(m,O,E,T,b[$+8],7,1770035416),T=Qi(T,m,O,E,b[$+9],12,-1958414417),E=Qi(E,T,m,O,b[$+10],17,-42063),O=Qi(O,E,T,m,b[$+11],22,-1990404162),m=Qi(m,O,E,T,b[$+12],7,1804603682),T=Qi(T,m,O,E,b[$+13],12,-40341101),E=Qi(E,T,m,O,b[$+14],17,-1502002290),O=Qi(O,E,T,m,b[$+15],22,1236535329),m=Zi(m,O,E,T,b[$+1],5,-165796510),T=Zi(T,m,O,E,b[$+6],9,-1069501632),E=Zi(E,T,m,O,b[$+11],14,643717713),O=Zi(O,E,T,m,b[$],20,-373897302),m=Zi(m,O,E,T,b[$+5],5,-701558691),T=Zi(T,m,O,E,b[$+10],9,38016083),E=Zi(E,T,m,O,b[$+15],14,-660478335),O=Zi(O,E,T,m,b[$+4],20,-405537848),m=Zi(m,O,E,T,b[$+9],5,568446438),T=Zi(T,m,O,E,b[$+14],9,-1019803690),E=Zi(E,T,m,O,b[$+3],14,-187363961),O=Zi(O,E,T,m,b[$+8],20,1163531501),m=Zi(m,O,E,T,b[$+13],5,-1444681467),T=Zi(T,m,O,E,b[$+2],9,-51403784),E=Zi(E,T,m,O,b[$+7],14,1735328473),O=Zi(O,E,T,m,b[$+12],20,-1926607734),m=en(m,O,E,T,b[$+5],4,-378558),T=en(T,m,O,E,b[$+8],11,-2022574463),E=en(E,T,m,O,b[$+11],16,1839030562),O=en(O,E,T,m,b[$+14],23,-35309556),m=en(m,O,E,T,b[$+1],4,-1530992060),T=en(T,m,O,E,b[$+4],11,1272893353),E=en(E,T,m,O,b[$+7],16,-155497632),O=en(O,E,T,m,b[$+10],23,-1094730640),m=en(m,O,E,T,b[$+13],4,681279174),T=en(T,m,O,E,b[$],11,-358537222),E=en(E,T,m,O,b[$+3],16,-722521979),O=en(O,E,T,m,b[$+6],23,76029189),m=en(m,O,E,T,b[$+9],4,-640364487),T=en(T,m,O,E,b[$+12],11,-421815835),E=en(E,T,m,O,b[$+15],16,530742520),O=en(O,E,T,m,b[$+2],23,-995338651),m=tn(m,O,E,T,b[$],6,-198630844),T=tn(T,m,O,E,b[$+7],10,1126891415),E=tn(E,T,m,O,b[$+14],15,-1416354905),O=tn(O,E,T,m,b[$+5],21,-57434055),m=tn(m,O,E,T,b[$+12],6,1700485571),T=tn(T,m,O,E,b[$+3],10,-1894986606),E=tn(E,T,m,O,b[$+10],15,-1051523),O=tn(O,E,T,m,b[$+1],21,-2054922799),m=tn(m,O,E,T,b[$+8],6,1873313359),T=tn(T,m,O,E,b[$+15],10,-30611744),E=tn(E,T,m,O,b[$+6],15,-1560198380),O=tn(O,E,T,m,b[$+13],21,1309151649),m=tn(m,O,E,T,b[$+4],6,-145523070),T=tn(T,m,O,E,b[$+11],10,-1120210379),E=tn(E,T,m,O,b[$+2],15,718787259),O=tn(O,E,T,m,b[$+9],21,-343485551),m=ip(m,F),O=ip(O,j),E=ip(E,B),T=ip(T,U)}return[m,O,E,T]}function a6(b){if(b.length===0)return[];for(var S=b.length*8,m=new Uint32Array(wL(S)),O=0;O<S;O+=8)m[O>>5]|=(b[O/8]&255)<<O%32;return m}function ip(b,S){var m=(b&65535)+(S&65535),O=(b>>16)+(S>>16)+(m>>16);return O<<16|m&65535}function u6(b,S){return b<<S|b>>>32-S}function qI(b,S,m,O,E,T){return ip(u6(ip(ip(S,b),ip(O,T)),E),m)}function Qi(b,S,m,O,E,T,$){return qI(S&m|~S&O,b,S,E,T,$)}function Zi(b,S,m,O,E,T,$){return qI(S&O|m&~O,b,S,E,T,$)}function en(b,S,m,O,E,T,$){return qI(S^m^O,b,S,E,T,$)}function tn(b,S,m,O,E,T,$){return qI(m^(S|~O),b,S,E,T,$)}var l6=_L("v3",48,n6);function c6(b,S,m){b=b||{};var O=b.random||(b.rng||mL)();if(O[6]=O[6]&15|64,O[8]=O[8]&63|128,S){m=m||0;for(var E=0;E<16;++E)S[m+E]=O[E];return S}return zI(O)}function h6(b,S,m,O){switch(b){case 0:return S&m^~S&O;case 1:return S^m^O;case 2:return S&m^S&O^m&O;case 3:return S^m^O}}function r$(b,S){return b<<S|b>>>32-S}function d6(b){var S=[1518500249,1859775393,2400959708,3395469782],m=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof b=="string"){var O=unescape(encodeURIComponent(b));b=[];for(var E=0;E<O.length;++E)b.push(O.charCodeAt(E))}else Array.isArray(b)||(b=Array.prototype.slice.call(b));b.push(128);for(var T=b.length/4+2,$=Math.ceil(T/16),F=new Array($),j=0;j<$;++j){for(var B=new Uint32Array(16),U=0;U<16;++U)B[U]=b[j*64+U*4]<<24|b[j*64+U*4+1]<<16|b[j*64+U*4+2]<<8|b[j*64+U*4+3];F[j]=B}F[$-1][14]=(b.length-1)*8/Math.pow(2,32),F[$-1][14]=Math.floor(F[$-1][14]),F[$-1][15]=(b.length-1)*8&4294967295;for(var K=0;K<$;++K){for(var V=new Uint32Array(80),Y=0;Y<16;++Y)V[Y]=F[K][Y];for(var Z=16;Z<80;++Z)V[Z]=r$(V[Z-3]^V[Z-8]^V[Z-14]^V[Z-16],1);for(var se=m[0],ne=m[1],_e=m[2],le=m[3],ie=m[4],te=0;te<80;++te){var we=Math.floor(te/20),oe=r$(se,5)+h6(we,ne,_e,le)+ie+S[we]+V[te]>>>0;ie=le,le=_e,_e=r$(ne,30)>>>0,ne=se,se=oe}m[0]=m[0]+se>>>0,m[1]=m[1]+ne>>>0,m[2]=m[2]+_e>>>0,m[3]=m[3]+le>>>0,m[4]=m[4]+ie>>>0}return[m[0]>>24&255,m[0]>>16&255,m[0]>>8&255,m[0]&255,m[1]>>24&255,m[1]>>16&255,m[1]>>8&255,m[1]&255,m[2]>>24&255,m[2]>>16&255,m[2]>>8&255,m[2]&255,m[3]>>24&255,m[3]>>16&255,m[3]>>8&255,m[3]&255,m[4]>>24&255,m[4]>>16&255,m[4]>>8&255,m[4]&255]}var f6=_L("v5",80,d6);const p6="00000000-0000-0000-0000-000000000000";function v6(b){if(!BI(b))throw TypeError("Invalid UUID");return parseInt(b.substr(14,1),16)}const g6=Object.freeze(Object.defineProperty({__proto__:null,NIL:p6,parse:bL,stringify:zI,v1:e6,v3:l6,v4:c6,v5:f6,validate:BI,version:v6},Symbol.toStringTag,{value:"Module"})),y6=mW(g6);var SF;function m6(){if(SF)return OI;SF=1,Object.defineProperty(OI,"__esModule",{value:!0});var b=function(){function oe(ee,Te){for(var he=0;he<Te.length;he++){var Ae=Te[he];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(ee,Ae.key,Ae)}}return function(ee,Te,he){return Te&&oe(ee.prototype,Te),he&&oe(ee,he),ee}}(),S=bW(),m=ne(S),O=LH(),E=ne(O),T=BH(),$=ne(T),F=qH(),j=ne(F),B=UH(),U=ne(B),K=VH(),V=JH(),Y=y6,Z=OW(),se=ne(Z);function ne(oe){return oe&&oe.__esModule?oe:{default:oe}}function _e(oe,ee){if(!(oe instanceof ee))throw new TypeError("Cannot call a class as a function")}function le(oe,ee){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:oe}function ie(oe,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);oe.prototype=Object.create(ee&&ee.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ee):oe.__proto__=ee)}var te=function(ee,Te){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"id",Ae=new Set(Te.map(function(Fe){return Fe[he]})),xe=ee.filter(function(Fe){return!Ae.has(Fe[he])}),Ve=(0,U.default)(Te,ee,$.default),it=(0,j.default)((0,U.default)(Te,ee,function(Fe,je){return Fe[he]===je[he]}),Ve,$.default),Ze=(0,j.default)((0,j.default)(Te,ee,$.default),it,$.default);return{removed:xe,unchanged:Ve,updated:it,added:Ze}},we=function(oe){ie(ee,oe);function ee(Te){_e(this,ee);var he=le(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,Te)),Ae=Te.identifier;return he.updateGraph=he.updateGraph.bind(he),he.state={identifier:Ae!==void 0?Ae:(0,Y.v4)()},he.container=m.default.createRef(),he}return b(ee,[{key:"componentDidMount",value:function(){this.edges=new K.DataSet,this.edges.add(this.props.graph.edges),this.nodes=new K.DataSet,this.nodes.add(this.props.graph.nodes),this.updateGraph()}},{key:"shouldComponentUpdate",value:function(he,Ae){var xe=!(0,$.default)(this.props.graph.nodes,he.graph.nodes),Ve=!(0,$.default)(this.props.graph.edges,he.graph.edges),it=!(0,$.default)(this.props.options,he.options),Ze=!(0,$.default)(this.props.events,he.events);if(xe){var Fe=function(ae,$e){return ae.id===$e.id},je=(0,j.default)(this.props.graph.nodes,he.graph.nodes,Fe),et=(0,j.default)(he.graph.nodes,this.props.graph.nodes,Fe),Ue=(0,j.default)((0,j.default)(he.graph.nodes,this.props.graph.nodes,$.default),et);this.patchNodes({nodesRemoved:je,nodesAdded:et,nodesChanged:Ue})}if(Ve){var dt=te(this.props.graph.edges,he.graph.edges),ft=dt.removed,gt=dt.added,rn=dt.updated;this.patchEdges({edgesRemoved:ft,edgesAdded:gt,edgesChanged:rn})}if(it&&this.Network.setOptions(he.options),Ze){var ur=this.props.events||{},ut=!0,Ft=!1,Or=void 0;try{for(var Er=Object.keys(ur)[Symbol.iterator](),Vn;!(ut=(Vn=Er.next()).done);ut=!0){var Sr=Vn.value;this.Network.off(Sr,ur[Sr])}}catch(ve){Ft=!0,Or=ve}finally{try{!ut&&Er.return&&Er.return()}finally{if(Ft)throw Or}}ur=he.events||{};var nn=!0,Ti=!1,vr=void 0;try{for(var _t=Object.keys(ur)[Symbol.iterator](),xi;!(nn=(xi=_t.next()).done);nn=!0){var fe=xi.value;this.Network.on(fe,ur[fe])}}catch(ve){Ti=!0,vr=ve}finally{try{!nn&&_t.return&&_t.return()}finally{if(Ti)throw vr}}}return!1}},{key:"componentDidUpdate",value:function(){this.updateGraph()}},{key:"patchEdges",value:function(he){var Ae=he.edgesRemoved,xe=he.edgesAdded,Ve=he.edgesChanged;this.edges.remove(Ae),this.edges.add(xe),this.edges.update(Ve)}},{key:"patchNodes",value:function(he){var Ae=he.nodesRemoved,xe=he.nodesAdded,Ve=he.nodesChanged;this.nodes.remove(Ae),this.nodes.add(xe),this.nodes.update(Ve)}},{key:"updateGraph",value:function(){var he={physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}},Ae=(0,E.default)(he,this.props.options);this.Network=new V.Network(this.container.current,Object.assign({},this.props.graph,{edges:this.edges,nodes:this.nodes}),Ae),this.props.getNetwork&&this.props.getNetwork(this.Network),this.props.getNodes&&this.props.getNodes(this.nodes),this.props.getEdges&&this.props.getEdges(this.edges);var xe=this.props.events||{},Ve=!0,it=!1,Ze=void 0;try{for(var Fe=Object.keys(xe)[Symbol.iterator](),je;!(Ve=(je=Fe.next()).done);Ve=!0){var et=je.value;this.Network.on(et,xe[et])}}catch(Ue){it=!0,Ze=Ue}finally{try{!Ve&&Fe.return&&Fe.return()}finally{if(it)throw Ze}}}},{key:"render",value:function(){var he=this.state.identifier,Ae=this.props.style;return m.default.createElement("div",{id:he,ref:this.container,style:Ae},he)}}]),ee}(S.Component);return we.defaultProps={graph:{},style:{width:"100%",height:"100%"}},we.propTypes={graph:se.default.object,style:se.default.object,getNetwork:se.default.func,getNodes:se.default.func,getEdges:se.default.func},OI.default=we,OI}var b6=m6();const _6=_W(b6),S6=({setGraphReady:b,graphReady:S,width:m,height:O,graphData:E,openView:T})=>{wW.useEffect(()=>{S||b(!0)},[S]);function $(U){const K={},V=U.nodes.map(Z=>(K[Z.id]=Z.id,{id:Z.id,label:Z.entity_name,title:`${Z.label}: ${Z.entity_name}`})),Y=[];return U.links.forEach(Z=>{const se=K[Z.source],ne=K[Z.target],_e=[],le=[];Z.relations.forEach(ie=>{_e.push(`${ie.type||""}${ie.effect?" ("+ie.effect+")":""}`),le.push(`${ie.study_name||""}${ie.effect?" ("+ie.effect+")":""}`)}),Y.push({from:se,to:ne,title:_e.join(", "),label:le.join(", ")})}),{nodes:V,edges:Y}}const F=$(E);console.log(F);const j={layout:{hierarchical:!1},edges:{color:"#000000"},height:`${O}px`,width:`${m}px`},B={select:function(U){var{nodes:K,edges:V}=U},selectNode:U=>{console.log(U),T("details",{id:U.nodes[0]})}};return NP.jsx(NP.Fragment,{children:NP.jsx(_6,{graph:F,options:j,events:B,getNetwork:U=>{}})})};export{S6 as default};
