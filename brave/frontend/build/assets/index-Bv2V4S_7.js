import{r as c,af as ee,f as $,Y as U,ag as Oe,ae as me,O as Ae,a$ as Xt,b0 as Yt,aP as et,b1 as Kt,b2 as ut,b3 as Nn,_ as Ze,b4 as Ut,b5 as Bn,b6 as ke,b7 as Ct,b8 as st,b9 as An,ba as mt,e as Ke,ai as Qt,bb as ie,q as _n,bc as vt,W as Ee,as as Tn,U as Ln,aB as Nt,t as zn,aV as Gn,Q as at,a5 as Jt,a6 as Zt,a7 as Wn,a8 as z,av as Bt,an as qn,aO as en,bd as tn,be as Be,bf as ct,bg as Vn,aU as Xn,aQ as nn,a4 as Yn,bh as Kn,a3 as Un,bi as Qn,bj as Jn,ao as Zn,bk as er,bl as tr,p as nr,bm as rr,bn as ar,k as or,j as E,d as T,F as bt,I as St,T as lr,B as rn,a as sr}from"./main-yPEfeT9f.js";import{S as ir}from"./index-CmYnMcha.js";import{T as an}from"./index-BN-A2AYH.js";import{S as cr}from"./index-g3jGqZdZ.js";function ur(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function on(e){var t=e.targetRef,n=e.containerRef,r=e.direction,a=e.onDragChange,o=e.onDragChangeComplete,l=e.calculate,s=e.color,i=e.disabledDrag,u=c.useState({x:0,y:0}),d=ee(u,2),m=d[0],x=d[1],p=c.useRef(null),C=c.useRef(null);c.useEffect(function(){x(l())},[s]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",p.current),document.removeEventListener("touchend",C.current),p.current=null,C.current=null}},[]);var v=function(b){var S=ur(b),O=S.pageX,j=S.pageY,F=n.current.getBoundingClientRect(),M=F.x,k=F.y,P=F.width,w=F.height,L=t.current.getBoundingClientRect(),D=L.width,N=L.height,A=D/2,B=N/2,X=Math.max(0,Math.min(O-M,P))-A,I=Math.max(0,Math.min(j-k,w))-B,Z={x:X,y:r==="x"?m.y:I};if(D===0&&N===0||D!==N)return!1;a==null||a(Z)},g=function(b){b.preventDefault(),v(b)},h=function(b){b.preventDefault(),document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",p.current),document.removeEventListener("touchend",C.current),p.current=null,C.current=null,o==null||o()},f=function(b){document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",C.current),!i&&(v(b),document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h),p.current=g,C.current=h)};return[m,f]}var ln=function(t){var n=t.size,r=n===void 0?"default":n,a=t.color,o=t.prefixCls;return $.createElement("div",{className:U("".concat(o,"-handler"),Oe({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:a}})},sn=function(t){var n=t.children,r=t.style,a=t.prefixCls;return $.createElement("div",{className:"".concat(a,"-palette"),style:me({position:"relative"},r)},n)},cn=c.forwardRef(function(e,t){var n=e.children,r=e.x,a=e.y;return $.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),dr=function(t){var n=t.color,r=t.onChange,a=t.prefixCls,o=t.onChangeComplete,l=t.disabled,s=c.useRef(),i=c.useRef(),u=c.useRef(n),d=Ae(function(v){var g=Xt({offset:v,targetRef:i,containerRef:s,color:n});u.current=g,r(g)}),m=on({color:n,containerRef:s,targetRef:i,calculate:function(){return Yt(n)},onDragChange:d,onDragChangeComplete:function(){return o==null?void 0:o(u.current)},disabledDrag:l}),x=ee(m,2),p=x[0],C=x[1];return $.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:C,onTouchStart:C},$.createElement(sn,{prefixCls:a},$.createElement(cn,{x:p.x,y:p.y,ref:i},$.createElement(ln,{color:n.toRgbString(),prefixCls:a})),$.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},gr=function(t,n){var r=et(t,{value:n}),a=ee(r,2),o=a[0],l=a[1],s=c.useMemo(function(){return Kt(o)},[o]);return[s,l]},mr=function(t){var n=t.colors,r=t.children,a=t.direction,o=a===void 0?"to right":a,l=t.type,s=t.prefixCls,i=c.useMemo(function(){return n.map(function(u,d){var m=Kt(u);return l==="alpha"&&d===n.length-1&&(m=new ut(m.setA(1))),m.toRgbString()}).join(",")},[n,l]);return $.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(i,")")}},r)},fr=function(t){var n=t.prefixCls,r=t.colors,a=t.disabled,o=t.onChange,l=t.onChangeComplete,s=t.color,i=t.type,u=c.useRef(),d=c.useRef(),m=c.useRef(s),x=function(S){return i==="hue"?S.getHue():S.a*100},p=Ae(function(b){var S=Xt({offset:b,targetRef:d,containerRef:u,color:s,type:i});m.current=S,o(x(S))}),C=on({color:s,targetRef:d,containerRef:u,calculate:function(){return Yt(s,i)},onDragChange:p,onDragChangeComplete:function(){l(x(m.current))},direction:"x",disabledDrag:a}),v=ee(C,2),g=v[0],h=v[1],f=$.useMemo(function(){if(i==="hue"){var b=s.toHsb();b.s=1,b.b=1,b.a=1;var S=new ut(b);return S}return s},[s,i]),y=$.useMemo(function(){return r.map(function(b){return"".concat(b.color," ").concat(b.percent,"%")})},[r]);return $.createElement("div",{ref:u,className:U("".concat(n,"-slider"),"".concat(n,"-slider-").concat(i)),onMouseDown:h,onTouchStart:h},$.createElement(sn,{prefixCls:n},$.createElement(cn,{x:g.x,y:g.y,ref:d},$.createElement(ln,{size:"small",color:f.toHexString(),prefixCls:n})),$.createElement(mr,{colors:y,type:i,prefixCls:n})))};function vr(e){return c.useMemo(function(){var t=e||{},n=t.slider;return[n||fr]},[e])}var hr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],pr=c.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,a=e.prefixCls,o=a===void 0?Nn:a,l=e.onChange,s=e.onChangeComplete,i=e.className,u=e.style,d=e.panelRender,m=e.disabledAlpha,x=m===void 0?!1:m,p=e.disabled,C=p===void 0?!1:p,v=e.components,g=vr(v),h=ee(g,1),f=h[0],y=gr(r||Bn,n),b=ee(y,2),S=b[0],O=b[1],j=c.useMemo(function(){return S.setA(1).toRgbString()},[S]),F=function(I,Z){n||O(I),l==null||l(I,Z)},M=function(I){return new ut(S.setHue(I))},k=function(I){return new ut(S.setA(I/100))},P=function(I){F(M(I),{type:"hue",value:I})},w=function(I){F(k(I),{type:"alpha",value:I})},L=function(I){s&&s(M(I))},D=function(I){s&&s(k(I))},N=U("".concat(o,"-panel"),i,Oe({},"".concat(o,"-panel-disabled"),C)),A={prefixCls:o,disabled:C,color:S},B=$.createElement($.Fragment,null,$.createElement(dr,Ze({onChange:F},A,{onChangeComplete:s})),$.createElement("div",{className:"".concat(o,"-slider-container")},$.createElement("div",{className:U("".concat(o,"-slider-group"),Oe({},"".concat(o,"-slider-group-disabled-alpha"),x))},$.createElement(f,Ze({},A,{type:"hue",colors:hr,min:0,max:359,value:S.getHue(),onChange:P,onChangeComplete:L})),!x&&$.createElement(f,Ze({},A,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:j}],min:0,max:100,value:S.a*100,onChange:w,onChangeComplete:D}))),$.createElement(Ut,{color:S.toRgbString(),prefixCls:o})));return $.createElement("div",{className:N,style:u,ref:t},typeof d=="function"?d(B):B)});const un=$.createContext({}),dn=$.createContext({}),gn=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=()=>{if(r&&n&&!n.cleared){const o=n.toHsb();o.a=0;const l=ke(o);l.cleared=!0,r(l)}};return $.createElement("div",{className:`${t}-clear`,onClick:a})},mn="hex",fn="rgb",vn="hsb",Ye=e=>{let{prefixCls:t,min:n=0,max:r=100,value:a,onChange:o,className:l,formatter:s}=e;const i=`${t}-steppers`,[u,d]=c.useState(a);return c.useEffect(()=>{Number.isNaN(a)||d(a)},[a]),$.createElement(an,{className:U(i,l),min:n,max:r,value:u,formatter:s,size:"small",onChange:m=>{a||d(m||0),o==null||o(m)}})},Cr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-alpha-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=i=>{const u=o.toHsb();u.a=(i||0)/100;const d=ke(u);n||l(d),r==null||r(d)};return $.createElement(Ye,{value:Ct(o),prefixCls:t,formatter:i=>`${i}%`,className:a,onChange:s})},br=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Sr=e=>br.test(`#${e}`),xr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hex-input`,[o,l]=c.useState(()=>n?st(n.toHexString()):void 0);c.useEffect(()=>{n&&l(st(n.toHexString()))},[n]);const s=i=>{const u=i.target.value;l(st(u)),Sr(st(u,!0))&&(r==null||r(ke(u)))};return $.createElement(An,{className:a,value:o,prefix:"#",onChange:s,size:"small"})},yr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hsb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toHsb();d[u]=u==="h"?i:(i||0)/100;const m=ke(d);n||l(m),r==null||r(m)};return $.createElement("div",{className:a},$.createElement(Ye,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:t,className:a,formatter:i=>mt(i||0).toString(),onChange:i=>s(Number(i),"h")}),$.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"s")}),$.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"b")}))},$r=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-rgb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toRgb();d[u]=i||0;const m=ke(d);n||l(m),r==null||r(m)};return $.createElement("div",{className:a},$.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:t,className:a,onChange:i=>s(Number(i),"r")}),$.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:t,className:a,onChange:i=>s(Number(i),"g")}),$.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:t,className:a,onChange:i=>s(Number(i),"b")}))},Er=[mn,vn,fn].map(e=>({value:e,label:e.toUpperCase()})),Or=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:a,onFormatChange:o,onChange:l,disabledFormat:s}=e,[i,u]=et(mn,{value:n,onChange:o}),d=`${t}-input`,m=p=>{u(p)},x=c.useMemo(()=>{const p={value:r,prefixCls:t,onChange:l};switch(i){case vn:return $.createElement(yr,Object.assign({},p));case fn:return $.createElement($r,Object.assign({},p));default:return $.createElement(xr,Object.assign({},p))}},[i,t,r,l]);return $.createElement("div",{className:`${d}-container`},!s&&$.createElement(Ke,{value:i,variant:"borderless",getPopupContainer:p=>p,popupMatchSelectWidth:68,placement:"bottomRight",onChange:m,className:`${t}-format-select`,size:"small",options:Er}),$.createElement("div",{className:d},x),!a&&$.createElement(Cr,{prefixCls:t,value:r,onChange:l}))};function ht(e,t,n){return(e-t)/(n-t)}function xt(e,t,n,r){var a=ht(t,n,r),o={};switch(e){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(e,t){return Array.isArray(e)?e[t]:e}var Ue=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),hn=c.createContext({}),Pr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],At=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,a=e.valueIndex,o=e.onStartMove,l=e.onDelete,s=e.style,i=e.render,u=e.dragging,d=e.draggingDelete,m=e.onOffsetChange,x=e.onChangeComplete,p=e.onFocus,C=e.onMouseEnter,v=Qt(e,Pr),g=c.useContext(Ue),h=g.min,f=g.max,y=g.direction,b=g.disabled,S=g.keyboard,O=g.range,j=g.tabIndex,F=g.ariaLabelForHandle,M=g.ariaLabelledByForHandle,k=g.ariaRequired,P=g.ariaValueTextFormatterForHandle,w=g.styles,L=g.classNames,D="".concat(n,"-handle"),N=function(W){b||o(W,a)},A=function(W){p==null||p(W,a)},B=function(W){C(W,a)},X=function(W){if(!b&&S){var H=null;switch(W.which||W.keyCode){case ie.LEFT:H=y==="ltr"||y==="btt"?-1:1;break;case ie.RIGHT:H=y==="ltr"||y==="btt"?1:-1;break;case ie.UP:H=y!=="ttb"?1:-1;break;case ie.DOWN:H=y!=="ttb"?-1:1;break;case ie.HOME:H="min";break;case ie.END:H="max";break;case ie.PAGE_UP:H=2;break;case ie.PAGE_DOWN:H=-2;break;case ie.BACKSPACE:case ie.DELETE:l(a);break}H!==null&&(W.preventDefault(),m(H,a))}},I=function(W){switch(W.which||W.keyCode){case ie.LEFT:case ie.RIGHT:case ie.UP:case ie.DOWN:case ie.HOME:case ie.END:case ie.PAGE_UP:case ie.PAGE_DOWN:x==null||x();break}},Z=xt(y,r,h,f),ce={};if(a!==null){var te;ce={tabIndex:b?null:Xe(j,a),role:"slider","aria-valuemin":h,"aria-valuemax":f,"aria-valuenow":r,"aria-disabled":b,"aria-label":Xe(F,a),"aria-labelledby":Xe(M,a),"aria-required":Xe(k,a),"aria-valuetext":(te=Xe(P,a))===null||te===void 0?void 0:te(r),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:N,onTouchStart:N,onFocus:A,onMouseEnter:B,onKeyDown:X,onKeyUp:I}}var we=c.createElement("div",Ze({ref:t,className:U(D,Oe(Oe(Oe({},"".concat(D,"-").concat(a+1),a!==null&&O),"".concat(D,"-dragging"),u),"".concat(D,"-dragging-delete"),d),L.handle),style:me(me(me({},Z),s),w.handle)},ce,v));return i&&(we=i(we,{index:a,prefixCls:n,value:r,dragging:u,draggingDelete:d})),we}),Rr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],jr=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,l=e.values,s=e.handleRender,i=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,m=e.onFocus,x=Qt(e,Rr),p=c.useRef({}),C=c.useState(!1),v=ee(C,2),g=v[0],h=v[1],f=c.useState(-1),y=ee(f,2),b=y[0],S=y[1],O=function(P){S(P),h(!0)},j=function(P,w){O(w),m==null||m(P)},F=function(P,w){O(w)};c.useImperativeHandle(t,function(){return{focus:function(P){var w;(w=p.current[P])===null||w===void 0||w.focus()},hideHelp:function(){_n.flushSync(function(){h(!1)})}}});var M=me({prefixCls:n,onStartMove:a,onOffsetChange:o,render:s,onFocus:j,onMouseEnter:F},x);return c.createElement(c.Fragment,null,l.map(function(k,P){var w=u===P;return c.createElement(At,Ze({ref:function(D){D?p.current[P]=D:delete p.current[P]},dragging:w,draggingDelete:w&&d,style:Xe(r,P),key:P,value:k,valueIndex:P},M))}),i&&g&&c.createElement(At,Ze({key:"a11y"},M,{value:l[b],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),wr=function(t){var n=t.prefixCls,r=t.style,a=t.children,o=t.value,l=t.onClick,s=c.useContext(Ue),i=s.min,u=s.max,d=s.direction,m=s.includedStart,x=s.includedEnd,p=s.included,C="".concat(n,"-text"),v=xt(d,o,i,u);return c.createElement("span",{className:U(C,Oe({},"".concat(C,"-active"),p&&m<=o&&o<=x)),style:me(me({},v),r),onMouseDown:function(h){h.stopPropagation()},onClick:function(){l(o)}},a)},Mr=function(t){var n=t.prefixCls,r=t.marks,a=t.onClick,o="".concat(n,"-mark");return r.length?c.createElement("div",{className:o},r.map(function(l){var s=l.value,i=l.style,u=l.label;return c.createElement(wr,{key:s,prefixCls:o,style:i,value:s,onClick:a},u)})):null},Dr=function(t){var n=t.prefixCls,r=t.value,a=t.style,o=t.activeStyle,l=c.useContext(Ue),s=l.min,i=l.max,u=l.direction,d=l.included,m=l.includedStart,x=l.includedEnd,p="".concat(n,"-dot"),C=d&&m<=r&&r<=x,v=me(me({},xt(u,r,s,i)),typeof a=="function"?a(r):a);return C&&(v=me(me({},v),typeof o=="function"?o(r):o)),c.createElement("span",{className:U(p,Oe({},"".concat(p,"-active"),C)),style:v})},kr=function(t){var n=t.prefixCls,r=t.marks,a=t.dots,o=t.style,l=t.activeStyle,s=c.useContext(Ue),i=s.min,u=s.max,d=s.step,m=c.useMemo(function(){var x=new Set;if(r.forEach(function(C){x.add(C.value)}),a&&d!==null)for(var p=i;p<=u;)x.add(p),p+=d;return Array.from(x)},[i,u,d,a,r]);return c.createElement("div",{className:"".concat(n,"-step")},m.map(function(x){return c.createElement(Dr,{prefixCls:n,key:x,value:x,style:o,activeStyle:l})}))},_t=function(t){var n=t.prefixCls,r=t.style,a=t.start,o=t.end,l=t.index,s=t.onStartMove,i=t.replaceCls,u=c.useContext(Ue),d=u.direction,m=u.min,x=u.max,p=u.disabled,C=u.range,v=u.classNames,g="".concat(n,"-track"),h=ht(a,m,x),f=ht(o,m,x),y=function(j){!p&&s&&s(j,-1)},b={};switch(d){case"rtl":b.right="".concat(h*100,"%"),b.width="".concat(f*100-h*100,"%");break;case"btt":b.bottom="".concat(h*100,"%"),b.height="".concat(f*100-h*100,"%");break;case"ttb":b.top="".concat(h*100,"%"),b.height="".concat(f*100-h*100,"%");break;default:b.left="".concat(h*100,"%"),b.width="".concat(f*100-h*100,"%")}var S=i||U(g,Oe(Oe({},"".concat(g,"-").concat(l+1),l!==null&&C),"".concat(n,"-track-draggable"),s),v.track);return c.createElement("div",{className:S,style:me(me({},b),r),onMouseDown:y,onTouchStart:y})},Ir=function(t){var n=t.prefixCls,r=t.style,a=t.values,o=t.startPoint,l=t.onStartMove,s=c.useContext(Ue),i=s.included,u=s.range,d=s.min,m=s.styles,x=s.classNames,p=c.useMemo(function(){if(!u){if(a.length===0)return[];var v=o??d,g=a[0];return[{start:Math.min(v,g),end:Math.max(v,g)}]}for(var h=[],f=0;f<a.length-1;f+=1)h.push({start:a[f],end:a[f+1]});return h},[a,u,o,d]);if(!i)return null;var C=p!=null&&p.length&&(x.tracks||m.tracks)?c.createElement(_t,{index:null,prefixCls:n,start:p[0].start,end:p[p.length-1].end,replaceCls:U(x.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return c.createElement(c.Fragment,null,C,p.map(function(v,g){var h=v.start,f=v.end;return c.createElement(_t,{index:g,prefixCls:n,style:me(me({},Xe(r,g)),m.track),start:h,end:f,key:g,onStartMove:l})}))},Hr=130;function Tt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Fr(e,t,n,r,a,o,l,s,i,u,d){var m=c.useState(null),x=ee(m,2),p=x[0],C=x[1],v=c.useState(-1),g=ee(v,2),h=g[0],f=g[1],y=c.useState(!1),b=ee(y,2),S=b[0],O=b[1],j=c.useState(n),F=ee(j,2),M=F[0],k=F[1],P=c.useState(n),w=ee(P,2),L=w[0],D=w[1],N=c.useRef(null),A=c.useRef(null),B=c.useRef(null),X=c.useContext(hn),I=X.onDragStart,Z=X.onDragChange;vt(function(){h===-1&&k(n)},[n,h]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",N.current),document.removeEventListener("mouseup",A.current),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current))}},[]);var ce=function(H,_,Q){_!==void 0&&C(_),k(H);var ue=H;Q&&(ue=H.filter(function(Y,re){return re!==h})),l(ue),Z&&Z({rawValues:H,deleteIndex:Q?h:-1,draggingIndex:h,draggingValue:_})},te=Ae(function(W,H,_){if(W===-1){var Q=L[0],ue=L[L.length-1],Y=r-Q,re=a-ue,ae=H*(a-r);ae=Math.max(ae,Y),ae=Math.min(ae,re);var pe=o(Q+ae);ae=pe-Q;var ye=L.map(function(be){return be+ae});ce(ye)}else{var $e=(a-r)*H,Ce=Ee(M);Ce[W]=L[W];var Pe=i(Ce,$e,W,"dist");ce(Pe.values,Pe.value,_)}}),we=function(H,_,Q){H.stopPropagation();var ue=Q||n,Y=ue[_];f(_),C(Y),D(ue),k(ue),O(!1);var re=Tt(H),ae=re.pageX,pe=re.pageY,ye=!1;I&&I({rawValues:ue,draggingIndex:_,draggingValue:Y});var $e=function(be){be.preventDefault();var fe=Tt(be),Fe=fe.pageX,Ne=fe.pageY,Ie=Fe-ae,Se=Ne-pe,q=e.current.getBoundingClientRect(),oe=q.width,Re=q.height,je,ve;switch(t){case"btt":je=-Se/Re,ve=Ie;break;case"ttb":je=Se/Re,ve=Ie;break;case"rtl":je=-Ie/oe,ve=Se;break;default:je=Ie/oe,ve=Se}ye=u?Math.abs(ve)>Hr&&d<M.length:!1,O(ye),te(_,je,ye)},Ce=function Pe(be){be.preventDefault(),document.removeEventListener("mouseup",Pe),document.removeEventListener("mousemove",$e),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current)),N.current=null,A.current=null,B.current=null,s(ye),f(-1),O(!1)};document.addEventListener("mouseup",Ce),document.addEventListener("mousemove",$e),H.currentTarget.addEventListener("touchend",Ce),H.currentTarget.addEventListener("touchmove",$e),N.current=$e,A.current=Ce,B.current=H.currentTarget},ne=c.useMemo(function(){var W=Ee(n).sort(function(Y,re){return Y-re}),H=Ee(M).sort(function(Y,re){return Y-re}),_={};H.forEach(function(Y){_[Y]=(_[Y]||0)+1}),W.forEach(function(Y){_[Y]=(_[Y]||0)-1});var Q=u?1:0,ue=Object.values(_).reduce(function(Y,re){return Y+Math.abs(re)},0);return ue<=Q?M:n},[n,M,u]);return[h,p,S,ne,we]}function Nr(e,t,n,r,a,o){var l=c.useCallback(function(p){return Math.max(e,Math.min(t,p))},[e,t]),s=c.useCallback(function(p){if(n!==null){var C=e+Math.round((l(p)-e)/n)*n,v=function(y){return(String(y).split(".")[1]||"").length},g=Math.max(v(n),v(t),v(e)),h=Number(C.toFixed(g));return e<=h&&h<=t?h:null}return null},[n,e,t,l]),i=c.useCallback(function(p){var C=l(p),v=r.map(function(f){return f.value});n!==null&&v.push(s(p)),v.push(e,t);var g=v[0],h=t-e;return v.forEach(function(f){var y=Math.abs(C-f);y<=h&&(g=f,h=y)}),g},[e,t,r,n,l,s]),u=function p(C,v,g){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var f,y=C[g],b=y+v,S=[];r.forEach(function(k){S.push(k.value)}),S.push(e,t),S.push(s(y));var O=v>0?1:-1;h==="unit"?S.push(s(y+O*n)):S.push(s(b)),S=S.filter(function(k){return k!==null}).filter(function(k){return v<0?k<=y:k>=y}),h==="unit"&&(S=S.filter(function(k){return k!==y}));var j=h==="unit"?y:b;f=S[0];var F=Math.abs(f-j);if(S.forEach(function(k){var P=Math.abs(k-j);P<F&&(f=k,F=P)}),f===void 0)return v<0?e:t;if(h==="dist")return f;if(Math.abs(v)>1){var M=Ee(C);return M[g]=f,p(M,v-O,g,h)}return f}else{if(v==="min")return e;if(v==="max")return t}},d=function(C,v,g){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=C[g],y=u(C,v,g,h);return{value:y,changed:y!==f}},m=function(C){return o===null&&C===0||typeof o=="number"&&C<o},x=function(C,v,g){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=C.map(i),y=f[g],b=u(f,v,g,h);if(f[g]=b,a===!1){var S=o||0;g>0&&f[g-1]!==y&&(f[g]=Math.max(f[g],f[g-1]+S)),g<f.length-1&&f[g+1]!==y&&(f[g]=Math.min(f[g],f[g+1]-S))}else if(typeof o=="number"||o===null){for(var O=g+1;O<f.length;O+=1)for(var j=!0;m(f[O]-f[O-1])&&j;){var F=d(f,1,O);f[O]=F.value,j=F.changed}for(var M=g;M>0;M-=1)for(var k=!0;m(f[M]-f[M-1])&&k;){var P=d(f,-1,M-1);f[M-1]=P.value,k=P.changed}for(var w=f.length-1;w>0;w-=1)for(var L=!0;m(f[w]-f[w-1])&&L;){var D=d(f,-1,w-1);f[w-1]=D.value,L=D.changed}for(var N=0;N<f.length-1;N+=1)for(var A=!0;m(f[N+1]-f[N])&&A;){var B=d(f,1,N+1);f[N+1]=B.value,A=B.changed}}return{value:f[g],values:f}};return[i,x]}function Br(e){return c.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,a=e.maxCount;return[!0,t,!t&&n,r||0,a]},[e])}var Ar=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,a=e.className,o=e.style,l=e.classNames,s=e.styles,i=e.id,u=e.disabled,d=u===void 0?!1:u,m=e.keyboard,x=m===void 0?!0:m,p=e.autoFocus,C=e.onFocus,v=e.onBlur,g=e.min,h=g===void 0?0:g,f=e.max,y=f===void 0?100:f,b=e.step,S=b===void 0?1:b,O=e.value,j=e.defaultValue,F=e.range,M=e.count,k=e.onChange,P=e.onBeforeChange,w=e.onAfterChange,L=e.onChangeComplete,D=e.allowCross,N=D===void 0?!0:D,A=e.pushable,B=A===void 0?!1:A,X=e.reverse,I=e.vertical,Z=e.included,ce=Z===void 0?!0:Z,te=e.startPoint,we=e.trackStyle,ne=e.handleStyle,W=e.railStyle,H=e.dotStyle,_=e.activeDotStyle,Q=e.marks,ue=e.dots,Y=e.handleRender,re=e.activeHandleRender,ae=e.track,pe=e.tabIndex,ye=pe===void 0?0:pe,$e=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,Pe=e.ariaRequired,be=e.ariaValueTextFormatterForHandle,fe=c.useRef(null),Fe=c.useRef(null),Ne=c.useMemo(function(){return I?X?"ttb":"btt":X?"rtl":"ltr"},[X,I]),Ie=Br(F),Se=ee(Ie,5),q=Se[0],oe=Se[1],Re=Se[2],je=Se[3],ve=Se[4],he=c.useMemo(function(){return isFinite(h)?h:0},[h]),He=c.useMemo(function(){return isFinite(y)?y:100},[y]),Me=c.useMemo(function(){return S!==null&&S<=0?1:S},[S]),le=c.useMemo(function(){return typeof B=="boolean"?B?Me:!1:B>=0?B:!1},[B,Me]),de=c.useMemo(function(){return Object.keys(Q||{}).map(function(G){var R=Q[G],V={value:Number(G)};return R&&Tn(R)==="object"&&!c.isValidElement(R)&&("label"in R||"style"in R)?(V.style=R.style,V.label=R.label):V.label=R,V}).filter(function(G){var R=G.label;return R||typeof R=="number"}).sort(function(G,R){return G.value-R.value})},[Q]),tt=Nr(he,He,Me,de,N,le),qe=ee(tt,2),K=qe[0],ge=qe[1],De=et(j,{value:O}),$t=ee(De,2),ze=$t[0],On=$t[1],xe=c.useMemo(function(){var G=ze==null?[]:Array.isArray(ze)?ze:[ze],R=ee(G,1),V=R[0],J=V===void 0?he:V,se=ze===null?[]:[J];if(q){if(se=Ee(G),M||ze===void 0){var Ge=M>=0?M+1:2;for(se=se.slice(0,Ge);se.length<Ge;){var _e;se.push((_e=se[se.length-1])!==null&&_e!==void 0?_e:he)}}se.sort(function(Te,Le){return Te-Le})}return se.forEach(function(Te,Le){se[Le]=K(Te)}),se},[ze,q,he,M,K]),Qe=function(R){return q?R:R[0]},ot=Ae(function(G){var R=Ee(G).sort(function(V,J){return V-J});k&&!Ln(R,xe,!0)&&k(Qe(R)),On(R)}),Et=Ae(function(G){G&&fe.current.hideHelp();var R=Qe(xe);w==null||w(R),Nt(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(R)}),Pn=function(R){if(!(d||!oe||xe.length<=je)){var V=Ee(xe);V.splice(R,1),P==null||P(Qe(V)),ot(V);var J=Math.max(0,R-1);fe.current.hideHelp(),fe.current.focus(J)}},Rn=Fr(Fe,Ne,xe,he,He,K,ot,Et,ge,oe,je),nt=ee(Rn,5),Ot=nt[0],jn=nt[1],wn=nt[2],dt=nt[3],Pt=nt[4],Rt=function(R,V){if(!d){var J=Ee(xe),se=0,Ge=0,_e=He-he;xe.forEach(function(We,lt){var Ft=Math.abs(R-We);Ft<=_e&&(_e=Ft,se=lt),We<R&&(Ge=lt)});var Te=se;oe&&_e!==0&&(!ve||xe.length<ve)?(J.splice(Ge+1,0,R),Te=Ge+1):J[se]=R,q&&!xe.length&&M===void 0&&J.push(R);var Le=Qe(J);if(P==null||P(Le),ot(J),V){var Ve,Je;(Ve=document.activeElement)===null||Ve===void 0||(Je=Ve.blur)===null||Je===void 0||Je.call(Ve),fe.current.focus(Te),Pt(V,Te,J)}else w==null||w(Le),Nt(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Le)}},Mn=function(R){R.preventDefault();var V=Fe.current.getBoundingClientRect(),J=V.width,se=V.height,Ge=V.left,_e=V.top,Te=V.bottom,Le=V.right,Ve=R.clientX,Je=R.clientY,We;switch(Ne){case"btt":We=(Te-Je)/se;break;case"ttb":We=(Je-_e)/se;break;case"rtl":We=(Le-Ve)/J;break;default:We=(Ve-Ge)/J}var lt=he+We*(He-he);Rt(K(lt),R)},Dn=c.useState(null),jt=ee(Dn,2),gt=jt[0],wt=jt[1],kn=function(R,V){if(!d){var J=ge(xe,R,V);P==null||P(Qe(xe)),ot(J.values),wt(J.value)}};c.useEffect(function(){if(gt!==null){var G=xe.indexOf(gt);G>=0&&fe.current.focus(G)}wt(null)},[gt]);var In=c.useMemo(function(){return Re&&Me===null?!1:Re},[Re,Me]),Mt=Ae(function(G,R){Pt(G,R),P==null||P(Qe(xe))}),Dt=Ot!==-1;c.useEffect(function(){if(!Dt){var G=xe.lastIndexOf(jn);fe.current.focus(G)}},[Dt]);var rt=c.useMemo(function(){return Ee(dt).sort(function(G,R){return G-R})},[dt]),Hn=c.useMemo(function(){return q?[rt[0],rt[rt.length-1]]:[he,rt[0]]},[rt,q,he]),kt=ee(Hn,2),It=kt[0],Ht=kt[1];c.useImperativeHandle(t,function(){return{focus:function(){fe.current.focus(0)},blur:function(){var R,V=document,J=V.activeElement;(R=Fe.current)!==null&&R!==void 0&&R.contains(J)&&(J==null||J.blur())}}}),c.useEffect(function(){p&&fe.current.focus(0)},[]);var Fn=c.useMemo(function(){return{min:he,max:He,direction:Ne,disabled:d,keyboard:x,step:Me,included:ce,includedStart:It,includedEnd:Ht,range:q,tabIndex:ye,ariaLabelForHandle:$e,ariaLabelledByForHandle:Ce,ariaRequired:Pe,ariaValueTextFormatterForHandle:be,styles:s||{},classNames:l||{}}},[he,He,Ne,d,x,Me,ce,It,Ht,q,ye,$e,Ce,Pe,be,s,l]);return c.createElement(Ue.Provider,{value:Fn},c.createElement("div",{ref:Fe,className:U(r,a,Oe(Oe(Oe(Oe({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),I),"".concat(r,"-horizontal"),!I),"".concat(r,"-with-marks"),de.length)),style:o,onMouseDown:Mn,id:i},c.createElement("div",{className:U("".concat(r,"-rail"),l==null?void 0:l.rail),style:me(me({},W),s==null?void 0:s.rail)}),ae!==!1&&c.createElement(Ir,{prefixCls:r,style:we,values:xe,startPoint:te,onStartMove:In?Mt:void 0}),c.createElement(kr,{prefixCls:r,marks:de,dots:ue,style:H,activeStyle:_}),c.createElement(jr,{ref:fe,prefixCls:r,style:ne,values:dt,draggingIndex:Ot,draggingDelete:wn,onStartMove:Mt,onOffsetChange:kn,onFocus:C,onBlur:v,handleRender:Y,activeHandleRender:re,onChangeComplete:Et,onDelete:oe?Pn:void 0}),c.createElement(Mr,{prefixCls:r,marks:de,onClick:Rt})))});const pn=c.createContext({}),Lt=c.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,a=c.useRef(null),o=n&&!r,l=c.useRef(null);function s(){at.cancel(l.current),l.current=null}function i(){l.current=at(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),l.current=null})}return c.useEffect(()=>(o?i():s(),s),[o,e.title]),c.createElement(zn,Object.assign({ref:Gn(a,t)},e,{open:o}))}),_r=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:o,marginPart:l,colorFillContentHover:s,handleColorDisabled:i,calc:u,handleSize:d,handleSizeHover:m,handleActiveColor:x,handleActiveOutlineColor:p,handleLineWidth:C,handleLineWidthHover:v,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},Wn(e)),{position:"relative",height:r,margin:`${z(l)} ${z(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${z(o)} ${z(l)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${z(C)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(C).mul(-1).equal(),insetBlockStart:u(C).mul(-1).equal(),width:u(d).add(u(C).mul(2)).equal(),height:u(d).add(u(C).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${z(C)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${g},
            inset-block-start ${g},
            width ${g},
            height ${g},
            box-shadow ${g},
            outline ${g}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(m).sub(d).div(2).add(v).mul(-1).equal(),insetBlockStart:u(m).sub(d).div(2).add(v).mul(-1).equal(),width:u(m).add(u(v).mul(2)).equal(),height:u(m).add(u(v).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${z(v)} ${x}`,outline:`6px solid ${p}`,width:m,height:m,insetInlineStart:e.calc(d).sub(m).div(2).equal(),insetBlockStart:e.calc(d).sub(m).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:`${z(C)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${z(C)} ${i}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},Cn=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:o,marginFull:l,calc:s}=e,i=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",m=t?"insetBlockStart":"insetInlineStart",x=t?"top":"insetInlineStart",p=s(r).mul(3).sub(a).div(2).equal(),C=s(a).sub(r).div(2).equal(),v=t?{borderWidth:`${z(C)} 0`,transform:`translateY(${z(s(C).mul(-1).equal())})`}:{borderWidth:`0 ${z(C)}`,transform:`translateX(${z(e.calc(C).mul(-1).equal())})`};return{[i]:r,[d]:s(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},v),[`${n}-handle`]:{[m]:p},[`${n}-mark`]:{insetInlineStart:0,top:0,[x]:s(r).mul(3).add(t?0:l).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[x]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[m]:s(r).sub(o).div(2).equal()}}},Tr=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},Cn(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Lr=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},Cn(e,!1)),{height:"100%"})}},zr=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,a=e.lineWidth+1,o=e.lineWidth+1*1.5,l=e.colorPrimary,s=new Bt(l).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:l,handleActiveOutlineColor:s,handleColorDisabled:new Bt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Gr=Jt("Slider",e=>{const t=Zt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[_r(t),Tr(t),Lr(t)]},zr);function ft(){const[e,t]=c.useState(!1),n=c.useRef(null),r=()=>{at.cancel(n.current)},a=o=>{r(),o?t(o):n.current=at(()=>{t(o)})};return c.useEffect(()=>r,[]),[e,a]}var Wr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function qr(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Vr=$.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:a,rootClassName:o,style:l,disabled:s,tooltipPrefixCls:i,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:m,tooltipPlacement:x,tooltip:p={},onChangeComplete:C,classNames:v,styles:g}=e,h=Wr(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:f}=e,{getPrefixCls:y,direction:b,className:S,style:O,classNames:j,styles:F,getPopupContainer:M}=qn("slider"),k=$.useContext(en),P=s??k,{handleRender:w,direction:L}=$.useContext(pn),N=(L||b)==="rtl",[A,B]=ft(),[X,I]=ft(),Z=Object.assign({},p),{open:ce,placement:te,getPopupContainer:we,prefixCls:ne,formatter:W}=Z,H=ce??d,_=(A||X)&&H!==!1,Q=qr(W,u),[ue,Y]=ft(),re=q=>{C==null||C(q),Y(!1)},ae=(q,oe)=>q||(oe?N?"left":"right":"top"),pe=y("slider",n),[ye,$e,Ce]=Gr(pe),Pe=U(a,S,j.root,v==null?void 0:v.root,o,{[`${pe}-rtl`]:N,[`${pe}-lock`]:ue},$e,Ce);N&&!h.vertical&&(h.reverse=!h.reverse),$.useEffect(()=>{const q=()=>{at(()=>{I(!1)},1)};return document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}},[]);const be=r&&!H,fe=w||((q,oe)=>{const{index:Re}=oe,je=q.props;function ve(le,de,tt){var qe,K,ge,De;tt&&((K=(qe=h)[le])===null||K===void 0||K.call(qe,de)),(De=(ge=je)[le])===null||De===void 0||De.call(ge,de)}const he=Object.assign(Object.assign({},je),{onMouseEnter:le=>{B(!0),ve("onMouseEnter",le)},onMouseLeave:le=>{B(!1),ve("onMouseLeave",le)},onMouseDown:le=>{I(!0),Y(!0),ve("onMouseDown",le)},onFocus:le=>{var de;I(!0),(de=h.onFocus)===null||de===void 0||de.call(h,le),ve("onFocus",le,!0)},onBlur:le=>{var de;I(!1),(de=h.onBlur)===null||de===void 0||de.call(h,le),ve("onBlur",le,!0)}}),He=$.cloneElement(q,he),Me=(!!H||_)&&Q!==null;return be?He:$.createElement(Lt,Object.assign({},Z,{prefixCls:y("tooltip",ne??i),title:Q?Q(oe.value):"",open:Me,placement:ae(te??x,f),key:Re,classNames:{root:`${pe}-tooltip`},getPopupContainer:we||m||M}),He)}),Fe=be?(q,oe)=>{const Re=$.cloneElement(q,{style:Object.assign(Object.assign({},q.props.style),{visibility:"hidden"})});return $.createElement(Lt,Object.assign({},Z,{prefixCls:y("tooltip",ne??i),title:Q?Q(oe.value):"",open:Q!==null&&_,placement:ae(te??x,f),key:"tooltip",classNames:{root:`${pe}-tooltip`},getPopupContainer:we||m||M,draggingDelete:oe.draggingDelete}),Re)}:void 0,Ne=Object.assign(Object.assign(Object.assign(Object.assign({},F.root),O),g==null?void 0:g.root),l),Ie=Object.assign(Object.assign({},F.tracks),g==null?void 0:g.tracks),Se=U(j.tracks,v==null?void 0:v.tracks);return ye($.createElement(Ar,Object.assign({},h,{classNames:Object.assign({handle:U(j.handle,v==null?void 0:v.handle),rail:U(j.rail,v==null?void 0:v.rail),track:U(j.track,v==null?void 0:v.track)},Se?{tracks:Se}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},F.handle),g==null?void 0:g.handle),rail:Object.assign(Object.assign({},F.rail),g==null?void 0:g.rail),track:Object.assign(Object.assign({},F.track),g==null?void 0:g.track)},Object.keys(Ie).length?{tracks:Ie}:{}),step:h.step,range:r,className:Pe,style:Ne,disabled:P,ref:t,prefixCls:pe,handleRender:fe,activeHandleRender:Fe,onChangeComplete:re})))});var Xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bn=e=>{const{prefixCls:t,colors:n,type:r,color:a,range:o=!1,className:l,activeIndex:s,onActive:i,onDragStart:u,onDragChange:d,onKeyDelete:m}=e,x=Xr(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),p=Object.assign(Object.assign({},x),{track:!1}),C=c.useMemo(()=>`linear-gradient(90deg, ${n.map(O=>`${O.color} ${O.percent}%`).join(", ")})`,[n]),v=c.useMemo(()=>!a||!r?null:r==="alpha"?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`,[a,r]),g=Ae(u),h=Ae(d),f=c.useMemo(()=>({onDragStart:g,onDragChange:h}),[]),y=Ae((S,O)=>{const{onFocus:j,style:F,className:M,onKeyDown:k}=S.props,P=Object.assign({},F);return r==="gradient"&&(P.background=tn(n,O.value)),c.cloneElement(S,{onFocus:w=>{i==null||i(O.index),j==null||j(w)},style:P,className:U(M,{[`${t}-slider-handle-active`]:s===O.index}),onKeyDown:w=>{(w.key==="Delete"||w.key==="Backspace")&&m&&m(O.index),k==null||k(w)}})}),b=c.useMemo(()=>({direction:"ltr",handleRender:y}),[]);return c.createElement(pn.Provider,{value:b},c.createElement(hn.Provider,{value:f},c.createElement(Vr,Object.assign({},p,{className:U(l,`${t}-slider`),tooltip:{open:!1},range:{editable:o,minCount:2},styles:{rail:{background:C},handle:v?{background:v}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},Yr=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,a=l=>n(l[0]),o=l=>r(l[0]);return c.createElement(bn,Object.assign({},e,{value:[t],onChange:a,onChangeComplete:o}))};function zt(e){return Ee(e).sort((t,n)=>t.percent-n.percent)}const Kr=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:a,onActive:o,activeIndex:l,onGradientDragging:s,colors:i}=e,u=n==="gradient",d=c.useMemo(()=>i.map(h=>({percent:h.percent,color:h.color.toRgbString()})),[i]),m=c.useMemo(()=>d.map(h=>h.percent),[d]),x=c.useRef(d),p=h=>{let{rawValues:f,draggingIndex:y,draggingValue:b}=h;if(f.length>d.length){const S=tn(d,b),O=Ee(d);O.splice(y,0,{percent:b,color:S}),x.current=O}else x.current=d;s(!0),r(new Be(zt(x.current)),!0)},C=h=>{let{deleteIndex:f,draggingIndex:y,draggingValue:b}=h,S=Ee(x.current);f!==-1?S.splice(f,1):(S[y]=Object.assign(Object.assign({},S[y]),{percent:b}),S=zt(S)),r(new Be(S),!0)},v=h=>{const f=Ee(d);f.splice(h,1);const y=new Be(f);r(y),a(y)},g=h=>{a(new Be(d)),l>=h.length&&o(h.length-1),s(!1)};return u?c.createElement(bn,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:m,range:!0,onChangeComplete:g,disabled:!1,type:"gradient",activeIndex:l,onActive:o,onDragStart:p,onDragChange:C,onKeyDelete:v}):null},Ur=c.memo(Kr);var Qr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Jr={slider:Yr},Gt=()=>{const e=c.useContext(un),{mode:t,onModeChange:n,modeOptions:r,prefixCls:a,allowClear:o,value:l,disabledAlpha:s,onChange:i,onClear:u,onChangeComplete:d,activeIndex:m,gradientDragging:x}=e,p=Qr(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),C=$.useMemo(()=>l.cleared?[{percent:0,color:new Be("")},{percent:100,color:new Be("")}]:l.getColors(),[l]),v=!l.isGradient(),[g,h]=$.useState(l);vt(()=>{var D;v||h((D=C[m])===null||D===void 0?void 0:D.color)},[x,m]);const f=$.useMemo(()=>{var D;return v?l:x?g:(D=C[m])===null||D===void 0?void 0:D.color},[l,m,v,g,x]),[y,b]=$.useState(f),[S,O]=$.useState(0),j=y!=null&&y.equals(f)?f:y;vt(()=>{b(f)},[S,f==null?void 0:f.toHexString()]);const F=(D,N)=>{let A=ke(D);if(l.cleared){const X=A.toRgb();if(!X.r&&!X.g&&!X.b&&N){const{type:I,value:Z=0}=N;A=new Be({h:I==="hue"?Z:0,s:1,b:1,a:I==="alpha"?Z/100:1})}else A=ct(A)}if(t==="single")return A;const B=Ee(C);return B[m]=Object.assign(Object.assign({},B[m]),{color:A}),new Be(B)},M=(D,N,A)=>{const B=F(D,A);b(B.isGradient()?B.getColors()[m].color:B),i(B,N)},k=(D,N)=>{d(F(D,N)),O(A=>A+1)},P=D=>{i(F(D))};let w=null;const L=r.length>1;return(o||L)&&(w=$.createElement("div",{className:`${a}-operation`},L&&$.createElement(cr,{size:"small",options:r,value:t,onChange:n}),$.createElement(gn,Object.assign({prefixCls:a,value:l,onChange:D=>{i(D),u==null||u()}},p)))),$.createElement($.Fragment,null,w,$.createElement(Ur,Object.assign({},e,{colors:C})),$.createElement(pr,{prefixCls:a,value:j==null?void 0:j.toHsb(),disabledAlpha:s,onChange:(D,N)=>{M(D,!0,N)},onChangeComplete:(D,N)=>{k(D,N)},components:Jr}),$.createElement(Or,Object.assign({value:f,onChange:P,prefixCls:a,disabledAlpha:s},p)))},Wt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=c.useContext(dn);return Array.isArray(n)?$.createElement(Vn,{value:t,presets:n,prefixCls:e,onChange:r}):null},Zr=e=>{const{prefixCls:t,presets:n,panelRender:r,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:x,activeIndex:p,onActive:C,format:v,onFormatChange:g,gradientDragging:h,onGradientDragging:f,disabledFormat:y}=e,b=`${t}-inner`,S=$.useMemo(()=>({prefixCls:t,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:x,activeIndex:p,onActive:C,format:v,onFormatChange:g,gradientDragging:h,onGradientDragging:f,disabledFormat:y}),[t,a,o,l,s,i,u,d,m,x,p,C,v,g,h,f,y]),O=$.useMemo(()=>({prefixCls:t,value:a,presets:n,onChange:o}),[t,a,n,o]),j=$.createElement("div",{className:`${b}-content`},$.createElement(Gt,null),Array.isArray(n)&&$.createElement(Xn,null),$.createElement(Wt,null));return $.createElement(un.Provider,{value:S},$.createElement(dn.Provider,{value:O},$.createElement("div",{className:b},typeof r=="function"?r(j,{components:{Picker:Gt,Presets:Wt}}):j)))};var ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ta=c.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:a,disabled:o,format:l,className:s,showText:i,activeIndex:u}=e,d=ea(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),m=`${r}-trigger`,x=`${m}-text`,p=`${x}-cell`,[C]=nn("ColorPicker"),v=$.useMemo(()=>{if(!i)return"";if(typeof i=="function")return i(n);if(n.cleared)return C.transparent;if(n.isGradient())return n.getColors().map((y,b)=>{const S=u!==-1&&u!==b;return $.createElement("span",{key:b,className:U(p,S&&`${p}-inactive`)},y.color.toRgbString()," ",y.percent,"%")});const h=n.toHexString().toUpperCase(),f=Ct(n);switch(l){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return f<100?`${h.slice(0,7)},${f}%`:h}},[n,l,i,u]),g=c.useMemo(()=>n.cleared?$.createElement(gn,{prefixCls:r}):$.createElement(Ut,{prefixCls:r,color:n.toCssString()}),[n,r]);return $.createElement("div",Object.assign({ref:t,className:U(m,s,{[`${m}-active`]:a,[`${m}-disabled`]:o})},Yn(d)),g,i&&$.createElement("div",{className:x},v))});function na(e,t,n){const[r]=nn("ColorPicker"),[a,o]=et(e,{value:t}),[l,s]=c.useState("single"),[i,u]=c.useMemo(()=>{const v=(Array.isArray(n)?n:[n]).filter(y=>y);v.length||v.push("single");const g=new Set(v),h=[],f=(y,b)=>{g.has(y)&&h.push({label:b,value:y})};return f("single",r.singleColor),f("gradient",r.gradientColor),[h,g]},[n]),[d,m]=c.useState(null),x=Ae(v=>{m(v),o(v)}),p=c.useMemo(()=>{const v=ke(a||"");return v.equals(d)?d:v},[a,d]),C=c.useMemo(()=>{var v;return u.has(l)?l:(v=i[0])===null||v===void 0?void 0:v.value},[u,l,i]);return c.useEffect(()=>{s(p.isGradient()?"gradient":"single")},[p]),[p,x,C,s,i]}const Sn=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),qt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:a,lineWidth:o,colorFillSecondary:l}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:a,flex:"none"},Sn("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${z(o)} ${l}`,borderRadius:"inherit"}})}},ra=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:a,colorPickerAlphaInputWidth:o,marginXXS:l,paddingXXS:s,controlHeightSM:i,marginXS:u,fontSizeIcon:d,paddingXS:m,colorTextPlaceholder:x,colorPickerInputNumberHandleWidth:p,lineWidth:C}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:a,[`${n}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:p}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${z(o)}`,marginInlineStart:l},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(l).equal(),fontSize:r,lineHeight:z(i)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:a},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${z(m)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:z(e.calc(i).sub(e.calc(C).mul(2)).equal())},[`${n}-input-prefix`]:{color:x}}}}}},aa=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:a,marginSM:o,colorBgElevated:l,colorFillSecondary:s,lineWidthBold:i,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:a,inset:0},marginBottom:o},[`${t}-handler`]:{width:u,height:u,border:`${z(i)} solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${a}, 0 0 0 1px ${s}`}}},oa=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:a,colorPickerPresetColorSize:o,fontSizeSM:l,colorText:s,lineHeightSM:i,lineWidth:u,borderRadius:d,colorFill:m,colorWhite:x,marginXXS:p,paddingXS:C,fontHeightSM:v}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:v,color:r,paddingInlineEnd:a}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:p},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${z(C)} 0`},"&-label":{fontSize:l,color:s,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(p).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:e.calc(o).add(e.calc(u).mul(4)).equal(),height:e.calc(o).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${z(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:m},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(o).div(13).mul(5).equal(),height:e.calc(o).div(13).mul(8).equal(),border:`${z(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:x,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:r}}}},la=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:a,lineWidthBold:o,colorPickerHandlerSizeSM:l,colorPickerSliderHeight:s,marginSM:i,marginXS:u}=e,d=e.calc(l).sub(e.calc(o).mul(2).equal()).equal(),m=e.calc(l).add(e.calc(o).mul(2).equal()).equal(),x={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[Sn(z(s),e.colorFillSecondary),{margin:0,padding:0,height:s,borderRadius:e.calc(s).div(2).equal(),"&-rail":{height:s,borderRadius:e.calc(s).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:m,height:m,borderRadius:"100%"},"&:after":{width:l,height:l,border:`${z(o)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${a}`,outline:"none",insetInlineStart:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":x}}],[`${t}-slider-container`]:{display:"flex",gap:i,marginBottom:i,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":x}}}},pt=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${z(e.controlOutlineWidth)} ${n}`,outline:0}),sa=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Vt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:a,lineWidth:o,colorSplit:l,colorBorder:s,red6:i}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:a,border:`${z(o)} solid ${l}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:i},"&:hover":{borderColor:s}})}},ia=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:a,colorWarningHover:o,colorErrorOutline:l,colorWarningOutline:s}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},pt(e,n,l))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},pt(e,r,s))}}},ca=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:a,controlHeightXS:o,borderRadius:l,borderRadiusSM:s,borderRadiusXS:i,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:s,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:i},[`${t}-trigger-text`]:{lineHeight:z(o)}}}},ua=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:a,motionDurationMid:o,colorBgElevated:l,colorTextDisabled:s,colorText:i,colorBgContainerDisabled:u,borderRadius:d,marginXS:m,marginSM:x,controlHeight:p,controlHeightSM:C,colorBgTextActive:v,colorPickerPresetColorSize:g,colorPickerPreviewSize:h,lineWidth:f,colorBorder:y,paddingXXS:b,fontSize:S,colorPrimaryHover:O,controlOutline:j}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${z(x)} 0 ${z(m)}`}},[`${n}-panel`]:Object.assign({},aa(e))},la(e)),qt(e,h)),ra(e)),oa(e)),Vt(e,g,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:m}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:p,minHeight:p,borderRadius:d,border:`${z(f)} solid ${y}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${o}`,background:l,padding:e.calc(b).sub(f).equal(),[`${n}-trigger-text`]:{marginInlineStart:m,marginInlineEnd:e.calc(m).sub(e.calc(b).sub(f)).equal(),fontSize:S,color:i,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:s}}},"&:hover":{borderColor:O},[`&${n}-trigger-active`]:Object.assign({},pt(e,a,j)),"&-disabled":{color:s,background:u,cursor:"not-allowed","&:hover":{borderColor:v},[`${n}-trigger-text`]:{color:s}}},Vt(e,C)),qt(e,C)),ia(e)),ca(e))},sa(e))},Kn(e,{focusElCls:`${n}-trigger-active`})]},da=Jt("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,a=Zt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[ua(a)]});var ga=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const yt=e=>{const{mode:t,value:n,defaultValue:r,format:a,defaultFormat:o,allowClear:l=!1,presets:s,children:i,trigger:u="click",open:d,disabled:m,placement:x="bottomLeft",arrow:p=!0,panelRender:C,showText:v,style:g,className:h,size:f,rootClassName:y,prefixCls:b,styles:S,disabledAlpha:O=!1,onFormatChange:j,onChange:F,onClear:M,onOpenChange:k,onChangeComplete:P,getPopupContainer:w,autoAdjustOverflow:L=!0,destroyTooltipOnHide:D,disabledFormat:N}=e,A=ga(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:B,direction:X,colorPicker:I}=c.useContext(Un),Z=c.useContext(en),ce=m??Z,[te,we]=et(!1,{value:d,postState:K=>!ce&&K,onChange:k}),[ne,W]=et(a,{value:a,defaultValue:o,onChange:j}),H=B("color-picker",b),[_,Q,ue,Y,re]=na(r,n,t),ae=c.useMemo(()=>Ct(_)<100,[_]),[pe,ye]=$.useState(null),$e=K=>{if(P){let ge=ke(K);O&&ae&&(ge=ct(K)),P(ge)}},Ce=(K,ge)=>{let De=ke(K);O&&ae&&(De=ct(De)),Q(De),ye(null),F&&F(De,De.toCssString()),ge||$e(De)},[Pe,be]=$.useState(0),[fe,Fe]=$.useState(!1),Ne=K=>{if(Y(K),K==="single"&&_.isGradient())be(0),Ce(new Be(_.getColors()[0].color)),ye(_);else if(K==="gradient"&&!_.isGradient()){const ge=ae?ct(_):_;Ce(new Be(pe||[{percent:0,color:ge},{percent:100,color:ge}]))}},{status:Ie}=$.useContext(Qn),{compactSize:Se,compactItemClassnames:q}=Jn(H,X),oe=Zn(K=>{var ge;return(ge=f??Se)!==null&&ge!==void 0?ge:K}),Re=er(H),[je,ve,he]=da(H,Re),He={[`${H}-rtl`]:X},Me=U(y,he,Re,He),le=U(tr(H,Ie),{[`${H}-sm`]:oe==="small",[`${H}-lg`]:oe==="large"},q,I==null?void 0:I.className,Me,h,ve),de=U(H,Me),tt={open:te,trigger:u,placement:x,arrow:p,rootClassName:y,getPopupContainer:w,autoAdjustOverflow:L,destroyTooltipOnHide:D},qe=Object.assign(Object.assign({},I==null?void 0:I.style),g);return je($.createElement(nr,Object.assign({style:S==null?void 0:S.popup,styles:{body:S==null?void 0:S.popupOverlayInner},onOpenChange:K=>{(!K||!ce)&&we(K)},content:$.createElement(rr,{form:!0},$.createElement(Zr,{mode:ue,onModeChange:Ne,modeOptions:re,prefixCls:H,value:_,allowClear:l,disabled:ce,disabledAlpha:O,presets:s,panelRender:C,format:ne,onFormatChange:W,onChange:Ce,onChangeComplete:$e,onClear:M,activeIndex:Pe,onActive:be,gradientDragging:fe,onGradientDragging:Fe,disabledFormat:N})),classNames:{root:de}},tt),i||$.createElement(ta,Object.assign({activeIndex:te?Pe:-1,open:te,className:le,style:qe,prefixCls:H,disabled:ce,showText:v,format:ne},A,{color:_}))))},ma=ar(yt,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);yt._InternalPanelDoNotUseOrYouWillBeFired=ma;const fa=({type:e,dataMap:t,constDataMap:n,componentMap:r,inputAnalysisMethod:a,dataKey:o,data:l,name:s,component_id:i,inputKey:u,...d})=>{if(!t)return E.jsx("div",{children:"加载中...."});t={...t,...n};const m=r[e];if(!m)return E.jsxs("div",{children:["未知类型 ",e]});const{Component:x,dataKey:p,...C}=m;console.log(C);let v=[];return l?v=l:a?v=t[a]:o?o in t&&(v=t[o]):p?p in t&&(v=t[p]):i in t?v=t[i]:"first_data_key"in t?v=t[t.first_data_key]:i in t&&(v=t[i]),E.jsx(x,{...C,...d,data:v,name:s})},Ma=c.memo(({formJson:e,dataMap:t,requestParam:n})=>{if(!e)return null;const{projectObj:r}=or(),l={rank:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}],group_field:r!=null&&r.metadata_form?r==null?void 0:r.metadata_form.map(i=>({label:i.label,value:i.name})):[]},s={GroupSelect:{Component:it,dataKey:"sample_group_list"},Input:{Component:Ca},GroupCompareSelect:{Component:pa},BaseSelect:{Component:it},BaseInputNumber:{Component:xa},BaseInput:{Component:ba},BaseSwitch:{Component:Sa},RankSelect:{Component:it,dataKey:"rank",mode:void 0,initialValue:"SPECIES"},GroupFieldSelect:{Component:it,dataKey:"group_field",mode:void 0,initialValue:"group"},FilterFieldSelect:{Component:va,dataKey:"sample_group_list",mode:void 0},GroupSelectSampleButton:{Component:$a},CollectedGroupSelectSampleButton:{Component:ya},MetaphlanCladeSelect:{Component:ha},SelectAll:{Component:Ea,dataKey:"sample_group_list"}};return E.jsx(E.Fragment,{children:e.map((i,u)=>E.jsx(E.Fragment,{children:E.jsx(fa,{requestParam:n,...i,dataMap:t,componentMap:s,constDataMap:l},u)}))})},(e,t)=>(console.log("prevProps==nextProps: ",JSON.stringify(e)===JSON.stringify(t)),JSON.stringify(e)===JSON.stringify(t))),va=({label:e,name:t,data:n,rules:r,field:a,...o})=>{const[l,s]=c.useState(),i=T.useFormInstance();return c.useEffect(()=>{if(n&&a){const u=[...new Set(n.map(a))],d=u.map(m=>({label:m,value:m}));s(d),i.setFieldValue(t,u[0])}},[n]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{label:e,name:t,rules:r,children:E.jsx(xn,{...o,options:l})})})},xn=({options:e,clear:t,value:n,onChange:r,...a})=>{const o=T.useFormInstance(),l=s=>{r(s),t&&o.resetFields(t)};return E.jsx(Ke,{showSearch:!0,filterOption:(s,i)=>((i==null?void 0:i.label)??"").toLowerCase().includes(s.toLowerCase()),...a,options:e,value:n,onChange:l})},ha=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const[l,s]=c.useState(),i=async()=>{let d=(await sr.get("/fast-api/get_metaphlan_clade")).data.map(m=>({label:`${m.taxon.replaceAll(" ","_")}_${m.clade}`,value:m.clade}));s(d)};return c.useEffect(()=>{i()},[]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Ke,{...o,options:l,showSearch:!0,filterOption:(u,d)=>((d==null?void 0:d.label)??"").toLowerCase().includes(u.toLowerCase())})})})},pa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const l=T.useFormInstance(),s=T.useWatch(["sites1","group"],l),i=T.useWatch(["sites2","group"],l),[u,d]=c.useState();return c.useEffect(()=>{s&&i&&d([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${i.join("-")}`,value:`Prevalent in ${i.join("-")}`},{label:`Prevalent in ${s.join("-")}`,value:`Prevalent in ${s.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[s,i]),E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Ke,{showSearch:!0,filterOption:(m,x)=>((x==null?void 0:x.label)??"").toLowerCase().includes(m.toLowerCase()),...o,options:u})})})},Ca=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(lr,{...o})})}),ba=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(St,{...o})})}),Sa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(ir,{...o})})}),xa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(an,{...o})})}),it=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r||null,label:e,name:t,rules:a,children:E.jsx(xn,{...o,options:n})})}),ya=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l,requestParam:s})=>{const[i,u]=c.useState(),[d,m]=c.useState([]),[x,p]=c.useState([]),C=T.useFormInstance();let v=[];a&&(v=a.map(b=>b.name));const g=T.useWatch(b=>{const S=Object.entries(b).filter(([O])=>v.includes(O));return Object.fromEntries(S)},C),h=T.useWatch(o,C),f=T.useWatch([t,"file"],C),y=(b,S)=>{const O=b.reduce((j,F)=>{const M=F[S];return j[M]||(j[M]=[]),j[M].push(F.value),j},{});u(O)};return c.useEffect(()=>{if(r&&Array.isArray(r)){const b=r.map(S=>({label:`${S.file_name}`,value:S.id}));p(b)}},[r]),c.useEffect(()=>{if(f){let b=r.find(S=>S.id==f);b&&(b=b.columns.map(S=>({label:S.columns_name,value:S.columns_name,...S})),a&&g&&(b=a.reduce((S,O)=>S.filter(j=>O.method(j)===g[O.name]),b),b=b.map(S=>{const{label:O,id:j,value:F,...M}=S;return{label:`${S.label}(${a[0].method(S)})`,value:S.value,...M}})),b&&l?y(b,l):b&&h&&y(b,h),m(b))}},[r,f,h,g]),c.useEffect(()=>{f&&setTimeout(()=>{C.setFieldsValue(s)},50)},[f]),E.jsxs(E.Fragment,{children:[E.jsx(T.Item,{label:`${e} File`,name:[t,"file"],rules:n,children:E.jsx(Ke,{options:x})}),E.jsx(T.Item,{label:`${e} Columns`,name:[t,"sample"],rules:n,children:E.jsx($n,{sampleGrouped:i,sampleGroup:d,watch:[t,"group"]})}),E.jsxs(bt,{gap:"small",children:[E.jsx(T.Item,{label:e,name:[t,"group"],noStyle:!0,children:E.jsx(En,{sampleGrouped:i})}),E.jsx(T.Item,{name:[t,"group_name"],children:E.jsx(St,{size:"small",placeholder:"Optional group name"})}),E.jsx(T.Item,{name:[t,"color"],children:E.jsx(yn,{})})]})]})},$a=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l})=>{const[s,i]=c.useState(),[u,d]=c.useState([]),m=T.useFormInstance();let x=[];a&&(x=a.map(g=>g.name));const p=T.useWatch(g=>{const h=Object.entries(g).filter(([f])=>x.includes(f));return Object.fromEntries(h)},m),C=T.useWatch(o,m),v=(g,h)=>{const f=g.reduce((y,b)=>{const S=b[h];return y[S]||(y[S]=[]),y[S].push(b.value),y},{});i(f)};return c.useEffect(()=>{a&&p&&(r=a.reduce((g,h)=>g.filter(f=>h.method(f)===p[h.name]),r),r=r.map(g=>{const{label:h,id:f,value:y,...b}=g;return{label:`${g.label}(${a[0].method(g)})`,value:g.value,...b}})),r&&l?v(r,l):r&&C&&v(r,C),d(r)},[r,C,p]),E.jsxs(E.Fragment,{children:[E.jsx(T.Item,{label:e,name:[t,"sample"],rules:n,children:E.jsx($n,{sampleGrouped:s,sampleGroup:u,watch:[t,"group"]})}),E.jsxs(bt,{gap:"small",children:[E.jsx(T.Item,{label:e,name:[t,"group"],noStyle:!0,children:E.jsx(En,{sampleGrouped:s})}),E.jsx(T.Item,{name:[t,"group_name"],children:E.jsx(St,{size:"small",placeholder:"Optional group name"})}),E.jsx(T.Item,{name:[t,"color"],children:E.jsx(yn,{})})]})]})},yn=({value:e,onChange:t,...n})=>E.jsx(E.Fragment,{children:E.jsx(yt,{defaultValue:"#1677ff",...n,value:e,onChange:r=>{const a=r.toHexString();t(a)}})}),Ea=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(T.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(Oa,{data:n,...o})})}),Oa=({data:e,value:t,onChange:n,mode:r,...a})=>{const[o,l]=c.useState(t),s=i=>{console.log(i),n(i),l(i)};return E.jsxs(E.Fragment,{children:[E.jsx(Ke,{...a,mode:r,value:o,onChange:s,allowClear:!0,options:e}),r=="multiple"&&E.jsxs(rn,{onClick:()=>{const i=e.map(u=>u.value);l(i),n(i)},children:["选择全部",o&&E.jsxs(E.Fragment,{children:["(",o.length,")"]})]})]})},$n=({value:e,onChange:t,sampleGroup:n,watch:r,sampleGrouped:a})=>{const[o,l]=c.useState(),s=T.useFormInstance(),i=T.useWatch(r,s);c.useEffect(()=>{l(i)},[i]);const u=d=>{const m=Object.entries(a||{}).filter(([x])=>d.includes(x)).flatMap(([,x])=>x);t(m)};return c.useEffect(()=>{o&&u(o)},[o]),E.jsxs(E.Fragment,{children:[E.jsx(Ke,{showSearch:!0,filterOption:(d,m)=>((m==null?void 0:m.label)??"").toLowerCase().includes(d.toLowerCase()),mode:"multiple",value:e,onChange:t,options:n}),e&&E.jsxs(E.Fragment,{children:["A total of ",e.length," samples were selected"]})]})},En=({value:e,onChange:t,sampleGrouped:n})=>{const r=a=>{if((e||[]).includes(a)){const o=(e||[]).filter(l=>!l.includes(a));t(o)}else{const o=[...e||[],a];t(o)}};return E.jsx(E.Fragment,{children:E.jsx(bt,{gap:"small",children:Object.entries(n||{}).map(([a,o])=>E.jsx("span",{children:E.jsxs(rn,{size:"small",type:(e||[]).includes(a)?"primary":"dashed",onClick:()=>r(a),children:[a,"(",o.length,")"]})},a))})})};export{Ma as F};
