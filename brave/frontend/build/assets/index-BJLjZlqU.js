import{r as i,aB as m,aC as f,z as C,aD as b,aE as w,aA as k,aF as B,j as s,aG as M,B as l,aH as h,a as P,t as A,C as E,v as H,aI as O,aJ as z,aK as D,aL as S,aM as R,aN as N}from"./index-BEcv5oUg.js";var $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},F=function(o,n){return i.createElement(m,f({},o,{ref:n,icon:$}))},J=i.forwardRef(F);const W=()=>{const{project:x}=C(),[o,n]=i.useState([]),g=b(),u=w(),[v,y]=k.useMessage(),c=B(e=>e.menu.items),d=async()=>{N(u)};return i.useEffect(()=>{const e=c.map(r=>({name:r.name,items:r.items.map(a=>({key:`${a.path}`,label:a.name,img:a.img,tags:a.tags,description:a.description,category:a.category}))}));n(e)},[JSON.stringify(c)]),s.jsxs("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:[y,s.jsxs(M,{justify:"flex-end",gap:"small",children:[s.jsx(l,{color:"cyan",variant:"solid",children:"创建流程"}),s.jsx(h,{title:"是否安装?",onConfirm:async()=>{await P.post("/import-pipeline"),v.success("安装成功!"),d()},children:s.jsx(l,{color:"cyan",variant:"solid",children:"从本地安装"})}),s.jsx(l,{color:"cyan",variant:"solid",onClick:d,children:"刷新"})]}),Array.isArray(o)&&o.length!=0?o.map((e,r)=>s.jsxs("div",{children:[s.jsx("h2",{children:e.name}),s.jsx("hr",{}),s.jsx(A,{gutter:16,style:{position:"relative"},children:e==null?void 0:e.items.map((a,j)=>s.jsx(E,{lg:4,sm:6,xs:24,style:{marginBottom:"1rem",cursor:"pointer"},children:s.jsxs(H,{hoverable:!0,style:{height:"100%"},cover:s.jsx("img",{alt:a.label,src:a.img}),onClick:()=>g(`/${a.key}`),children:[s.jsx(O,{title:a.label,description:a==null?void 0:a.description,style:{marginBottom:"1rem"}}),a.tags&&Array.isArray(a.tags)&&a.tags.map((t,p)=>s.jsx(z,{title:t,children:s.jsx(D,{style:{wordBreak:"break-word",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:100,display:"inline-block",cursor:"default"},color:S[p],children:t})},p)),s.jsx(h,{title:"是否删除?",onConfirm:t=>{t.stopPropagation()},onCancel:t=>{t.stopPropagation()},children:s.jsx(J,{onClick:t=>{t.stopPropagation()},style:{position:"absolute",right:10,bottom:10,fontSize:15,color:"rgba(0,0,0,0.45)",cursor:"pointer"}})})]})},j))})]},r)):s.jsx(R,{}),!1]})};export{W as default};
