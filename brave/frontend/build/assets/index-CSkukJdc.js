import{j as e,B as t,d as a,e as n,r as m}from"./main-BwXC3IR-.js";import{A as d}from"./index-CA0cMVlS.js";import{T as c}from"./index-Ds-Cm03P.js";import"./index-C4BvvLXY.js";import"./index-DMfVbt3c.js";import"./index-CBMb1kgU.js";import"./index-CotDIsNu.js";import"./UpOutlined-BKYGFLNT.js";import"./index-8j16o04L.js";import"./index--JnjVdx_.js";import"./Table-iOXYhvzQ.js";import"./addEventListener-VtdiWBGV.js";import"./Dropdown-CtfTgCmR.js";import"./index-49RMhiY3.js";import"./react-window-CXMGAHD3.js";import"./index-BMDk0JWr.js";import"./DeleteOutlined-OZ71hyZZ.js";import"./RedoOutlined-E9lihzWT.js";import"./index-D2PUnlUD.js";import"./index-f7yPm_mY.js";import"./index-gdPfdXVC.js";import"./index-CAfjAvfF.js";import"./index-BPZgQyLF.js";import"./index-DxWRZDVa.js";import"./index-CZtBSYBQ.js";import"./study-page-C1kz4qO_.js";import"./usePagination-DDagBvBR.js";import"./index-cs3Gd2d7.js";import"./callSuper-C57L85fm.js";import"./DownloadOutlined-CPXLD1k8.js";import"./index-uUHnTTZD.js";import"./index-CaTpPA5T.js";import"./index-CtsN54S7.js";import"./index-G5d2OwBp.js";import"./rgb-BwIoVOhg.js";import"./index-Cw1XXBNm.js";const Z=()=>e.jsx(e.Fragment,{children:e.jsx(c,{items:[{key:"diversity-alpha",label:"丰度分析",children:e.jsx(d,{analysisMethod:[{name:"metaphlan_sam_abundance",label:"metaphlan_sam_abundance",inputKey:["metaphlan_sam_abundance"],mode:"multiple"}],analysisType:"sample",children:e.jsx(b,{})})}]})}),b=({sampleGroup:s,record:u,resultTableList:o,plot:r,dataMap:l})=>e.jsxs(e.Fragment,{children:[e.jsx(t,{type:"primary",onClick:()=>{r({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_alpha_diversity",moduleName:"abundance_alpha_diversity",sampleSelectComp:!1,tableDesc:" ",name:"alpha多样性"})},children:"alpha多样性"}),e.jsx(t,{type:"primary",onClick:()=>{r({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_beta_diversity",moduleName:"abundance_beta_diversity",sampleSelectComp:!1,tableDesc:" ",name:"beta多样性"})},children:"beta多样性"}),e.jsx(t,{type:"primary",onClick:()=>{r({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"treatment",label:"处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,saveAnalysisMethod:"metaphlan_abundance_difference_matrix",moduleName:"abundance_difference",sampleSelectComp:!1,tableDesc:" ",name:"差异分析"})},children:"差异分析"}),e.jsx(t,{type:"primary",onClick:()=>{r({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"sites1",label:"部位一",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"sites2",label:"部位二",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"}],sampleGroupApI:!1,formDom:e.jsx(S,{children:" "}),saveAnalysisMethod:"metaphlan_prevalence_matrix",moduleName:"abundance_prevalence",sampleSelectComp:!1,tableDesc:" ",name:"流行度分析"})},children:"流行度分析"}),e.jsx(t,{type:"primary",onClick:()=>{r({sampleGroupJSON:!0,formJson:[{name:"group_field",label:"分组列",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupFieldSelect"},{name:"sites1",label:"部位一",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"sites2",label:"部位二",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"treatment",label:"累积丰度处理组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"control",label:"累积丰度对照组",rules:[{required:!0,message:"该字段不能为空!"}],type:"GroupSelectSampleButton",group:"group_field"},{name:"rank",label:"rank",rules:[{required:!0,message:"该字段不能为空!"}],type:"RankSelect"}],sampleGroupApI:!1,formDom:e.jsx(e.Fragment,{children:e.jsx(g,{})}),saveAnalysisMethod:"abundance-cumulative-abundance",moduleName:"abundance-cumulative-abundance",sampleSelectComp:!1,tableDesc:" ",name:"累积丰度分析"})},children:"累积丰度分析"})]}),g=({value:s,onChange:u})=>{const o=a.useFormInstance(),r=a.useWatch(["sites1","group"],o),l=a.useWatch(["sites2","group"],o),[p,i]=m.useState();return m.useEffect(()=>{r&&l&&i([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${l.join("-")}`,value:`Prevalent in ${l.join("-")}`},{label:`Prevalent in ${r.join("-")}`,value:`Prevalent in ${r.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[r,l]),e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:"累积丰度菌定义",name:"query",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{mode:"multiple",options:p,value:s,onChange:u})}),e.jsx(a.Item,{initialValue:"sum",label:"计算方式",name:"calculation_method",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{options:[{label:"sum",value:"sum"},{label:"count",value:"count"}],value:s,onChange:u})}),e.jsx(a.Item,{initialValue:"mannwhitneyu",label:"统计检验方法",name:"hypothesis",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{options:[{label:"Mann–Whitney U(Wilcoxon rank-sum)",value:"mannwhitneyu"},{label:"Poisson regression",value:"poisson"}],value:s,onChange:u})})]})},S=()=>e.jsx(e.Fragment,{children:e.jsx(a.Item,{initialValue:"SPECIES",label:"rank",name:"rank",rules:[{required:!0,message:"该字段不能为空!"}],children:e.jsx(n,{allowClear:!0,options:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}]})})});export{Z as default};
