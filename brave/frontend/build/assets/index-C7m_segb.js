import{r as e,d as T,j as t,B as b,D as P,a as D}from"./main-Bb36JT4B.js";import{R as u}from"./index-Cag_gRHe.js";import{A as M}from"./index-D34bYyXo.js";import{A as J}from"./index-Dw9IGcMD.js";import N from"./index-DljxNWPC.js";import{C as q}from"./index-CedmWet4.js";import{S as C}from"./index-CTSdT7in.js";import"./index-hepvEPhH.js";import"./index-Bj9IZtAf.js";import"./index-2YD7whTu.js";import"./UpOutlined-CAwxhdnf.js";import"./DeleteOutlined-e3cflAOk.js";import"./index-JTUypjtn.js";import"./Dropdown-DN1o0f1Q.js";import"./Table-BmozZZHG.js";import"./addEventListener-DVSeb2Tw.js";import"./index-D01PGZ6m.js";import"./index-a5nKelg2.js";import"./createForOfIteratorHelper-BcXv2kSG.js";import"./DeploymentUnitOutlined-BloW4Lk-.js";import"./UserSwitchOutlined-DWZ6YS85.js";import"./AudioOutlined-DZYHLJmY.js";import"./ClearOutlined-C8EAuPHL.js";import"./TableOutlined-C9X6pdqB.js";import"./NodeIndexOutlined-BKFsG5mC.js";import"./RedoOutlined-BVTMzSmO.js";import"./UndoOutlined-CGI6NSgT.js";import"./react-window-C6u_-vN5.js";import"./index-DgyWQACD.js";import"./index-Bu1BS6Wx.js";import"./index-DV2HUdkJ.js";import"./index-B37dTN1Q.js";import"./study-page-b5Sf5qcC.js";import"./usePagination-Z7YQ7URL.js";import"./index-CiEuomCZ.js";import"./index-B-_UFcBZ.js";import"./index-BXw3nVYM.js";import"./callSuper-Difh5VKN.js";import"./utils-D2B0dIuM.js";const Rt=()=>{const n=e.useRef(null),[y,O]=e.useState("downstream"),[c,m]=e.useState(),[f,l]=e.useState(!1),[s,x]=e.useState(),[a,h]=e.useState(),[g,p]=e.useState(!1),[i]=T.useForm(),[j,A]=e.useState(),[S,R]=e.useState({}),[L,d]=e.useState(!1),[_,w]=e.useState(!1),F=async o=>{d(!0);const r=await D.get(`/find_downstream_analysis/${o}`);R(r.data),d(!1)};return t.jsxs("div",{style:{maxWidth:"1500px",margin:"1rem auto"},children:[t.jsx(u,{title:"分析结果",ref:n,analysisType:"analysisResult",params:{},setTableLoading:l,setRecord:o=>{const r=JSON.parse(o.request_param);console.log(r),x(o),h(r)},setTabletData:o=>{m(o)}}),t.jsx("div",{style:{marginBottom:"2rem"}}),s&&t.jsxs(t.Fragment,{children:[t.jsx(q,{title:`${s.analysis_name}(${s.analysis_method})`,extra:t.jsx(t.Fragment,{children:t.jsx(b,{onClick:()=>{p(!0),F(a.analysis_method),i.resetFields(),i.setFieldsValue(a),s!=null&&s.id&&i.setFieldValue("id",s==null?void 0:s.id)},children:"重新分析"})}),children:t.jsx(M,{plotLoading:f,filePlot:c})}),t.jsx("hr",{}),t.jsx(N,{params:{obj_key:s.analysis_method,obj_type:"analysis_img"}}),t.jsxs(P,{loading:L,title:`重新分析 - ${s.analysis_name}`,open:g,onClose:()=>p(!1),width:"50%",children:[t.jsx(u,{title:"输出文件",analysisType:y,analysisMethod:[a.inputAnalysisMenthod],shouldTrigger:!0,setResultTableList:A}),t.jsx(C,{spinning:_,children:t.jsx(J,{form:i,resultTableList:j,formJson:S.formJson,sampleGroupApI:!1,moduleName:a.moduleName,params:a.params,setPlotLoading:o=>{l(o),w(o)},activeTabKey:a.inputAnalysisMenthod.name,inputAnalysisMethod:a.inputAnalysisMenthod,saveAnalysisMethod:a.analysis_method,project:a.project,setFilePlot:m,plotReloadTable:()=>{n.current&&n.current.reload()}})})]})]})]})};export{Rt as default};
