import{r as c,af as ee,f as S,Y as K,ag as Oe,ae as me,O as Ae,aZ as Gt,a_ as Vt,aI as Ze,a$ as Xt,b0 as ut,b1 as Hn,_ as Qe,b2 as Yt,b3 as In,b4 as ke,b5 as pt,b6 as st,b7 as Nn,b8 as mt,e as et,ai as Kt,b9 as ie,q as Fn,ba as vt,W as Ee,al as Bn,U as An,au as It,t as _n,aT as Tn,Q as at,a5 as Ut,a6 as Jt,a7 as Ln,a8 as L,ao as Nt,aL as zn,aH as Qt,bb as Zt,bc as Be,bd as ct,be as Wn,aS as qn,aJ as en,a4 as Gn,bf as Vn,a3 as Xn,bg as Yn,bh as Kn,aM as Un,bi as Jn,bj as Qn,p as Zn,bk as er,bl as tr,k as nr,j as E,d as Q,F as tn,I as nn,T as rr,B as rn,a as ar}from"./main-CoRdKxM6.js";import{S as or}from"./index-LdYoExsQ.js";import{T as an}from"./index-U82OZ9hL.js";import{S as lr}from"./index-Dm3E-_FQ.js";function sr(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function on(e){var t=e.targetRef,n=e.containerRef,r=e.direction,a=e.onDragChange,o=e.onDragChangeComplete,l=e.calculate,s=e.color,i=e.disabledDrag,u=c.useState({x:0,y:0}),d=ee(u,2),m=d[0],b=d[1],h=c.useRef(null),p=c.useRef(null);c.useEffect(function(){b(l())},[s]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",p.current),h.current=null,p.current=null}},[]);var f=function(y){var $=sr(y),R=$.pageX,H=$.pageY,F=n.current.getBoundingClientRect(),I=F.x,M=F.y,O=F.width,w=F.height,T=t.current.getBoundingClientRect(),j=T.width,N=T.height,A=j/2,B=N/2,V=Math.max(0,Math.min(R-I,O))-A,D=Math.max(0,Math.min(H-M,w))-B,Z={x:V,y:r==="x"?m.y:D};if(j===0&&N===0||j!==N)return!1;a==null||a(Z)},g=function(y){y.preventDefault(),f(y)},C=function(y){y.preventDefault(),document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",p.current),h.current=null,p.current=null,o==null||o()},v=function(y){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),!i&&(f(y),document.addEventListener("mousemove",g),document.addEventListener("mouseup",C),document.addEventListener("touchmove",g),document.addEventListener("touchend",C),h.current=g,p.current=C)};return[m,v]}var ln=function(t){var n=t.size,r=n===void 0?"default":n,a=t.color,o=t.prefixCls;return S.createElement("div",{className:K("".concat(o,"-handler"),Oe({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:a}})},sn=function(t){var n=t.children,r=t.style,a=t.prefixCls;return S.createElement("div",{className:"".concat(a,"-palette"),style:me({position:"relative"},r)},n)},cn=c.forwardRef(function(e,t){var n=e.children,r=e.x,a=e.y;return S.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),ir=function(t){var n=t.color,r=t.onChange,a=t.prefixCls,o=t.onChangeComplete,l=t.disabled,s=c.useRef(),i=c.useRef(),u=c.useRef(n),d=Ae(function(f){var g=Gt({offset:f,targetRef:i,containerRef:s,color:n});u.current=g,r(g)}),m=on({color:n,containerRef:s,targetRef:i,calculate:function(){return Vt(n)},onDragChange:d,onDragChangeComplete:function(){return o==null?void 0:o(u.current)},disabledDrag:l}),b=ee(m,2),h=b[0],p=b[1];return S.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:p,onTouchStart:p},S.createElement(sn,{prefixCls:a},S.createElement(cn,{x:h.x,y:h.y,ref:i},S.createElement(ln,{color:n.toRgbString(),prefixCls:a})),S.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},cr=function(t,n){var r=Ze(t,{value:n}),a=ee(r,2),o=a[0],l=a[1],s=c.useMemo(function(){return Xt(o)},[o]);return[s,l]},ur=function(t){var n=t.colors,r=t.children,a=t.direction,o=a===void 0?"to right":a,l=t.type,s=t.prefixCls,i=c.useMemo(function(){return n.map(function(u,d){var m=Xt(u);return l==="alpha"&&d===n.length-1&&(m=new ut(m.setA(1))),m.toRgbString()}).join(",")},[n,l]);return S.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(i,")")}},r)},dr=function(t){var n=t.prefixCls,r=t.colors,a=t.disabled,o=t.onChange,l=t.onChangeComplete,s=t.color,i=t.type,u=c.useRef(),d=c.useRef(),m=c.useRef(s),b=function($){return i==="hue"?$.getHue():$.a*100},h=Ae(function(y){var $=Gt({offset:y,targetRef:d,containerRef:u,color:s,type:i});m.current=$,o(b($))}),p=on({color:s,targetRef:d,containerRef:u,calculate:function(){return Vt(s,i)},onDragChange:h,onDragChangeComplete:function(){l(b(m.current))},direction:"x",disabledDrag:a}),f=ee(p,2),g=f[0],C=f[1],v=S.useMemo(function(){if(i==="hue"){var y=s.toHsb();y.s=1,y.b=1,y.a=1;var $=new ut(y);return $}return s},[s,i]),x=S.useMemo(function(){return r.map(function(y){return"".concat(y.color," ").concat(y.percent,"%")})},[r]);return S.createElement("div",{ref:u,className:K("".concat(n,"-slider"),"".concat(n,"-slider-").concat(i)),onMouseDown:C,onTouchStart:C},S.createElement(sn,{prefixCls:n},S.createElement(cn,{x:g.x,y:g.y,ref:d},S.createElement(ln,{size:"small",color:v.toHexString(),prefixCls:n})),S.createElement(ur,{colors:x,type:i,prefixCls:n})))};function gr(e){return c.useMemo(function(){var t=e||{},n=t.slider;return[n||dr]},[e])}var mr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],fr=c.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,a=e.prefixCls,o=a===void 0?Hn:a,l=e.onChange,s=e.onChangeComplete,i=e.className,u=e.style,d=e.panelRender,m=e.disabledAlpha,b=m===void 0?!1:m,h=e.disabled,p=h===void 0?!1:h,f=e.components,g=gr(f),C=ee(g,1),v=C[0],x=cr(r||In,n),y=ee(x,2),$=y[0],R=y[1],H=c.useMemo(function(){return $.setA(1).toRgbString()},[$]),F=function(D,Z){n||R(D),l==null||l(D,Z)},I=function(D){return new ut($.setHue(D))},M=function(D){return new ut($.setA(D/100))},O=function(D){F(I(D),{type:"hue",value:D})},w=function(D){F(M(D),{type:"alpha",value:D})},T=function(D){s&&s(I(D))},j=function(D){s&&s(M(D))},N=K("".concat(o,"-panel"),i,Oe({},"".concat(o,"-panel-disabled"),p)),A={prefixCls:o,disabled:p,color:$},B=S.createElement(S.Fragment,null,S.createElement(ir,Qe({onChange:F},A,{onChangeComplete:s})),S.createElement("div",{className:"".concat(o,"-slider-container")},S.createElement("div",{className:K("".concat(o,"-slider-group"),Oe({},"".concat(o,"-slider-group-disabled-alpha"),b))},S.createElement(v,Qe({},A,{type:"hue",colors:mr,min:0,max:359,value:$.getHue(),onChange:O,onChangeComplete:T})),!b&&S.createElement(v,Qe({},A,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:H}],min:0,max:100,value:$.a*100,onChange:w,onChangeComplete:j}))),S.createElement(Yt,{color:$.toRgbString(),prefixCls:o})));return S.createElement("div",{className:N,style:u,ref:t},typeof d=="function"?d(B):B)});const un=S.createContext({}),dn=S.createContext({}),gn=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=()=>{if(r&&n&&!n.cleared){const o=n.toHsb();o.a=0;const l=ke(o);l.cleared=!0,r(l)}};return S.createElement("div",{className:`${t}-clear`,onClick:a})},mn="hex",fn="rgb",vn="hsb",Ye=e=>{let{prefixCls:t,min:n=0,max:r=100,value:a,onChange:o,className:l,formatter:s}=e;const i=`${t}-steppers`,[u,d]=c.useState(a);return c.useEffect(()=>{Number.isNaN(a)||d(a)},[a]),S.createElement(an,{className:K(i,l),min:n,max:r,value:u,formatter:s,size:"small",onChange:m=>{a||d(m||0),o==null||o(m)}})},vr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-alpha-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=i=>{const u=o.toHsb();u.a=(i||0)/100;const d=ke(u);n||l(d),r==null||r(d)};return S.createElement(Ye,{value:pt(o),prefixCls:t,formatter:i=>`${i}%`,className:a,onChange:s})},hr=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Cr=e=>hr.test(`#${e}`),pr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hex-input`,[o,l]=c.useState(()=>n?st(n.toHexString()):void 0);c.useEffect(()=>{n&&l(st(n.toHexString()))},[n]);const s=i=>{const u=i.target.value;l(st(u)),Cr(st(u,!0))&&(r==null||r(ke(u)))};return S.createElement(Nn,{className:a,value:o,prefix:"#",onChange:s,size:"small"})},br=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hsb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toHsb();d[u]=u==="h"?i:(i||0)/100;const m=ke(d);n||l(m),r==null||r(m)};return S.createElement("div",{className:a},S.createElement(Ye,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:t,className:a,formatter:i=>mt(i||0).toString(),onChange:i=>s(Number(i),"h")}),S.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"s")}),S.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:t,className:a,formatter:i=>`${mt(i||0)}%`,onChange:i=>s(Number(i),"b")}))},Sr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-rgb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const s=(i,u)=>{const d=o.toRgb();d[u]=i||0;const m=ke(d);n||l(m),r==null||r(m)};return S.createElement("div",{className:a},S.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:t,className:a,onChange:i=>s(Number(i),"r")}),S.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:t,className:a,onChange:i=>s(Number(i),"g")}),S.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:t,className:a,onChange:i=>s(Number(i),"b")}))},xr=[mn,vn,fn].map(e=>({value:e,label:e.toUpperCase()})),yr=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:a,onFormatChange:o,onChange:l,disabledFormat:s}=e,[i,u]=Ze(mn,{value:n,onChange:o}),d=`${t}-input`,m=h=>{u(h)},b=c.useMemo(()=>{const h={value:r,prefixCls:t,onChange:l};switch(i){case vn:return S.createElement(br,Object.assign({},h));case fn:return S.createElement(Sr,Object.assign({},h));default:return S.createElement(pr,Object.assign({},h))}},[i,t,r,l]);return S.createElement("div",{className:`${d}-container`},!s&&S.createElement(et,{value:i,variant:"borderless",getPopupContainer:h=>h,popupMatchSelectWidth:68,placement:"bottomRight",onChange:m,className:`${t}-format-select`,size:"small",options:xr}),S.createElement("div",{className:d},b),!a&&S.createElement(vr,{prefixCls:t,value:r,onChange:l}))};function ht(e,t,n){return(e-t)/(n-t)}function bt(e,t,n,r){var a=ht(t,n,r),o={};switch(e){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(e,t){return Array.isArray(e)?e[t]:e}var Ke=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),hn=c.createContext({}),$r=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ft=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,a=e.valueIndex,o=e.onStartMove,l=e.onDelete,s=e.style,i=e.render,u=e.dragging,d=e.draggingDelete,m=e.onOffsetChange,b=e.onChangeComplete,h=e.onFocus,p=e.onMouseEnter,f=Kt(e,$r),g=c.useContext(Ke),C=g.min,v=g.max,x=g.direction,y=g.disabled,$=g.keyboard,R=g.range,H=g.tabIndex,F=g.ariaLabelForHandle,I=g.ariaLabelledByForHandle,M=g.ariaRequired,O=g.ariaValueTextFormatterForHandle,w=g.styles,T=g.classNames,j="".concat(n,"-handle"),N=function(W){y||o(W,a)},A=function(W){h==null||h(W,a)},B=function(W){p(W,a)},V=function(W){if(!y&&$){var k=null;switch(W.which||W.keyCode){case ie.LEFT:k=x==="ltr"||x==="btt"?-1:1;break;case ie.RIGHT:k=x==="ltr"||x==="btt"?1:-1;break;case ie.UP:k=x!=="ttb"?1:-1;break;case ie.DOWN:k=x!=="ttb"?-1:1;break;case ie.HOME:k="min";break;case ie.END:k="max";break;case ie.PAGE_UP:k=2;break;case ie.PAGE_DOWN:k=-2;break;case ie.BACKSPACE:case ie.DELETE:l(a);break}k!==null&&(W.preventDefault(),m(k,a))}},D=function(W){switch(W.which||W.keyCode){case ie.LEFT:case ie.RIGHT:case ie.UP:case ie.DOWN:case ie.HOME:case ie.END:case ie.PAGE_UP:case ie.PAGE_DOWN:b==null||b();break}},Z=bt(x,r,C,v),ce={};if(a!==null){var te;ce={tabIndex:y?null:Xe(H,a),role:"slider","aria-valuemin":C,"aria-valuemax":v,"aria-valuenow":r,"aria-disabled":y,"aria-label":Xe(F,a),"aria-labelledby":Xe(I,a),"aria-required":Xe(M,a),"aria-valuetext":(te=Xe(O,a))===null||te===void 0?void 0:te(r),"aria-orientation":x==="ltr"||x==="rtl"?"horizontal":"vertical",onMouseDown:N,onTouchStart:N,onFocus:A,onMouseEnter:B,onKeyDown:V,onKeyUp:D}}var je=c.createElement("div",Qe({ref:t,className:K(j,Oe(Oe(Oe({},"".concat(j,"-").concat(a+1),a!==null&&R),"".concat(j,"-dragging"),u),"".concat(j,"-dragging-delete"),d),T.handle),style:me(me(me({},Z),s),w.handle)},ce,f));return i&&(je=i(je,{index:a,prefixCls:n,value:r,dragging:u,draggingDelete:d})),je}),Er=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Or=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,l=e.values,s=e.handleRender,i=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,m=e.onFocus,b=Kt(e,Er),h=c.useRef({}),p=c.useState(!1),f=ee(p,2),g=f[0],C=f[1],v=c.useState(-1),x=ee(v,2),y=x[0],$=x[1],R=function(O){$(O),C(!0)},H=function(O,w){R(w),m==null||m(O)},F=function(O,w){R(w)};c.useImperativeHandle(t,function(){return{focus:function(O){var w;(w=h.current[O])===null||w===void 0||w.focus()},hideHelp:function(){Fn.flushSync(function(){C(!1)})}}});var I=me({prefixCls:n,onStartMove:a,onOffsetChange:o,render:s,onFocus:H,onMouseEnter:F},b);return c.createElement(c.Fragment,null,l.map(function(M,O){var w=u===O;return c.createElement(Ft,Qe({ref:function(j){j?h.current[O]=j:delete h.current[O]},dragging:w,draggingDelete:w&&d,style:Xe(r,O),key:O,value:M,valueIndex:O},I))}),i&&g&&c.createElement(Ft,Qe({key:"a11y"},I,{value:l[y],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Pr=function(t){var n=t.prefixCls,r=t.style,a=t.children,o=t.value,l=t.onClick,s=c.useContext(Ke),i=s.min,u=s.max,d=s.direction,m=s.includedStart,b=s.includedEnd,h=s.included,p="".concat(n,"-text"),f=bt(d,o,i,u);return c.createElement("span",{className:K(p,Oe({},"".concat(p,"-active"),h&&m<=o&&o<=b)),style:me(me({},f),r),onMouseDown:function(C){C.stopPropagation()},onClick:function(){l(o)}},a)},Rr=function(t){var n=t.prefixCls,r=t.marks,a=t.onClick,o="".concat(n,"-mark");return r.length?c.createElement("div",{className:o},r.map(function(l){var s=l.value,i=l.style,u=l.label;return c.createElement(Pr,{key:s,prefixCls:o,style:i,value:s,onClick:a},u)})):null},wr=function(t){var n=t.prefixCls,r=t.value,a=t.style,o=t.activeStyle,l=c.useContext(Ke),s=l.min,i=l.max,u=l.direction,d=l.included,m=l.includedStart,b=l.includedEnd,h="".concat(n,"-dot"),p=d&&m<=r&&r<=b,f=me(me({},bt(u,r,s,i)),typeof a=="function"?a(r):a);return p&&(f=me(me({},f),typeof o=="function"?o(r):o)),c.createElement("span",{className:K(h,Oe({},"".concat(h,"-active"),p)),style:f})},jr=function(t){var n=t.prefixCls,r=t.marks,a=t.dots,o=t.style,l=t.activeStyle,s=c.useContext(Ke),i=s.min,u=s.max,d=s.step,m=c.useMemo(function(){var b=new Set;if(r.forEach(function(p){b.add(p.value)}),a&&d!==null)for(var h=i;h<=u;)b.add(h),h+=d;return Array.from(b)},[i,u,d,a,r]);return c.createElement("div",{className:"".concat(n,"-step")},m.map(function(b){return c.createElement(wr,{prefixCls:n,key:b,value:b,style:o,activeStyle:l})}))},Bt=function(t){var n=t.prefixCls,r=t.style,a=t.start,o=t.end,l=t.index,s=t.onStartMove,i=t.replaceCls,u=c.useContext(Ke),d=u.direction,m=u.min,b=u.max,h=u.disabled,p=u.range,f=u.classNames,g="".concat(n,"-track"),C=ht(a,m,b),v=ht(o,m,b),x=function(H){!h&&s&&s(H,-1)},y={};switch(d){case"rtl":y.right="".concat(C*100,"%"),y.width="".concat(v*100-C*100,"%");break;case"btt":y.bottom="".concat(C*100,"%"),y.height="".concat(v*100-C*100,"%");break;case"ttb":y.top="".concat(C*100,"%"),y.height="".concat(v*100-C*100,"%");break;default:y.left="".concat(C*100,"%"),y.width="".concat(v*100-C*100,"%")}var $=i||K(g,Oe(Oe({},"".concat(g,"-").concat(l+1),l!==null&&p),"".concat(n,"-track-draggable"),s),f.track);return c.createElement("div",{className:$,style:me(me({},y),r),onMouseDown:x,onTouchStart:x})},Mr=function(t){var n=t.prefixCls,r=t.style,a=t.values,o=t.startPoint,l=t.onStartMove,s=c.useContext(Ke),i=s.included,u=s.range,d=s.min,m=s.styles,b=s.classNames,h=c.useMemo(function(){if(!u){if(a.length===0)return[];var f=o??d,g=a[0];return[{start:Math.min(f,g),end:Math.max(f,g)}]}for(var C=[],v=0;v<a.length-1;v+=1)C.push({start:a[v],end:a[v+1]});return C},[a,u,o,d]);if(!i)return null;var p=h!=null&&h.length&&(b.tracks||m.tracks)?c.createElement(Bt,{index:null,prefixCls:n,start:h[0].start,end:h[h.length-1].end,replaceCls:K(b.tracks,"".concat(n,"-tracks")),style:m.tracks}):null;return c.createElement(c.Fragment,null,p,h.map(function(f,g){var C=f.start,v=f.end;return c.createElement(Bt,{index:g,prefixCls:n,style:me(me({},Xe(r,g)),m.track),start:C,end:v,key:g,onStartMove:l})}))},Dr=130;function At(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function kr(e,t,n,r,a,o,l,s,i,u,d){var m=c.useState(null),b=ee(m,2),h=b[0],p=b[1],f=c.useState(-1),g=ee(f,2),C=g[0],v=g[1],x=c.useState(!1),y=ee(x,2),$=y[0],R=y[1],H=c.useState(n),F=ee(H,2),I=F[0],M=F[1],O=c.useState(n),w=ee(O,2),T=w[0],j=w[1],N=c.useRef(null),A=c.useRef(null),B=c.useRef(null),V=c.useContext(hn),D=V.onDragStart,Z=V.onDragChange;vt(function(){C===-1&&M(n)},[n,C]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",N.current),document.removeEventListener("mouseup",A.current),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current))}},[]);var ce=function(k,_,U){_!==void 0&&p(_),M(k);var ue=k;U&&(ue=k.filter(function(X,re){return re!==C})),l(ue),Z&&Z({rawValues:k,deleteIndex:U?C:-1,draggingIndex:C,draggingValue:_})},te=Ae(function(W,k,_){if(W===-1){var U=T[0],ue=T[T.length-1],X=r-U,re=a-ue,ae=k*(a-r);ae=Math.max(ae,X),ae=Math.min(ae,re);var Ce=o(U+ae);ae=Ce-U;var ye=T.map(function(be){return be+ae});ce(ye)}else{var $e=(a-r)*k,pe=Ee(I);pe[W]=T[W];var Pe=i(pe,$e,W,"dist");ce(Pe.values,Pe.value,_)}}),je=function(k,_,U){k.stopPropagation();var ue=U||n,X=ue[_];v(_),p(X),j(ue),M(ue),R(!1);var re=At(k),ae=re.pageX,Ce=re.pageY,ye=!1;D&&D({rawValues:ue,draggingIndex:_,draggingValue:X});var $e=function(be){be.preventDefault();var fe=At(be),Ne=fe.pageX,Fe=fe.pageY,He=Ne-ae,Se=Fe-Ce,q=e.current.getBoundingClientRect(),oe=q.width,Re=q.height,we,ve;switch(t){case"btt":we=-Se/Re,ve=He;break;case"ttb":we=Se/Re,ve=He;break;case"rtl":we=-He/oe,ve=Se;break;default:we=He/oe,ve=Se}ye=u?Math.abs(ve)>Dr&&d<I.length:!1,R(ye),te(_,we,ye)},pe=function Pe(be){be.preventDefault(),document.removeEventListener("mouseup",Pe),document.removeEventListener("mousemove",$e),B.current&&(B.current.removeEventListener("touchmove",N.current),B.current.removeEventListener("touchend",A.current)),N.current=null,A.current=null,B.current=null,s(ye),v(-1),R(!1)};document.addEventListener("mouseup",pe),document.addEventListener("mousemove",$e),k.currentTarget.addEventListener("touchend",pe),k.currentTarget.addEventListener("touchmove",$e),N.current=$e,A.current=pe,B.current=k.currentTarget},ne=c.useMemo(function(){var W=Ee(n).sort(function(X,re){return X-re}),k=Ee(I).sort(function(X,re){return X-re}),_={};k.forEach(function(X){_[X]=(_[X]||0)+1}),W.forEach(function(X){_[X]=(_[X]||0)-1});var U=u?1:0,ue=Object.values(_).reduce(function(X,re){return X+Math.abs(re)},0);return ue<=U?I:n},[n,I,u]);return[C,h,$,ne,je]}function Hr(e,t,n,r,a,o){var l=c.useCallback(function(h){return Math.max(e,Math.min(t,h))},[e,t]),s=c.useCallback(function(h){if(n!==null){var p=e+Math.round((l(h)-e)/n)*n,f=function(x){return(String(x).split(".")[1]||"").length},g=Math.max(f(n),f(t),f(e)),C=Number(p.toFixed(g));return e<=C&&C<=t?C:null}return null},[n,e,t,l]),i=c.useCallback(function(h){var p=l(h),f=r.map(function(v){return v.value});n!==null&&f.push(s(h)),f.push(e,t);var g=f[0],C=t-e;return f.forEach(function(v){var x=Math.abs(p-v);x<=C&&(g=v,C=x)}),g},[e,t,r,n,l,s]),u=function h(p,f,g){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof f=="number"){var v,x=p[g],y=x+f,$=[];r.forEach(function(M){$.push(M.value)}),$.push(e,t),$.push(s(x));var R=f>0?1:-1;C==="unit"?$.push(s(x+R*n)):$.push(s(y)),$=$.filter(function(M){return M!==null}).filter(function(M){return f<0?M<=x:M>=x}),C==="unit"&&($=$.filter(function(M){return M!==x}));var H=C==="unit"?x:y;v=$[0];var F=Math.abs(v-H);if($.forEach(function(M){var O=Math.abs(M-H);O<F&&(v=M,F=O)}),v===void 0)return f<0?e:t;if(C==="dist")return v;if(Math.abs(f)>1){var I=Ee(p);return I[g]=v,h(I,f-R,g,C)}return v}else{if(f==="min")return e;if(f==="max")return t}},d=function(p,f,g){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=p[g],x=u(p,f,g,C);return{value:x,changed:x!==v}},m=function(p){return o===null&&p===0||typeof o=="number"&&p<o},b=function(p,f,g){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",v=p.map(i),x=v[g],y=u(v,f,g,C);if(v[g]=y,a===!1){var $=o||0;g>0&&v[g-1]!==x&&(v[g]=Math.max(v[g],v[g-1]+$)),g<v.length-1&&v[g+1]!==x&&(v[g]=Math.min(v[g],v[g+1]-$))}else if(typeof o=="number"||o===null){for(var R=g+1;R<v.length;R+=1)for(var H=!0;m(v[R]-v[R-1])&&H;){var F=d(v,1,R);v[R]=F.value,H=F.changed}for(var I=g;I>0;I-=1)for(var M=!0;m(v[I]-v[I-1])&&M;){var O=d(v,-1,I-1);v[I-1]=O.value,M=O.changed}for(var w=v.length-1;w>0;w-=1)for(var T=!0;m(v[w]-v[w-1])&&T;){var j=d(v,-1,w-1);v[w-1]=j.value,T=j.changed}for(var N=0;N<v.length-1;N+=1)for(var A=!0;m(v[N+1]-v[N])&&A;){var B=d(v,1,N+1);v[N+1]=B.value,A=B.changed}}return{value:v[g],values:v}};return[i,b]}function Ir(e){return c.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,a=e.maxCount;return[!0,t,!t&&n,r||0,a]},[e])}var Nr=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,a=e.className,o=e.style,l=e.classNames,s=e.styles,i=e.id,u=e.disabled,d=u===void 0?!1:u,m=e.keyboard,b=m===void 0?!0:m,h=e.autoFocus,p=e.onFocus,f=e.onBlur,g=e.min,C=g===void 0?0:g,v=e.max,x=v===void 0?100:v,y=e.step,$=y===void 0?1:y,R=e.value,H=e.defaultValue,F=e.range,I=e.count,M=e.onChange,O=e.onBeforeChange,w=e.onAfterChange,T=e.onChangeComplete,j=e.allowCross,N=j===void 0?!0:j,A=e.pushable,B=A===void 0?!1:A,V=e.reverse,D=e.vertical,Z=e.included,ce=Z===void 0?!0:Z,te=e.startPoint,je=e.trackStyle,ne=e.handleStyle,W=e.railStyle,k=e.dotStyle,_=e.activeDotStyle,U=e.marks,ue=e.dots,X=e.handleRender,re=e.activeHandleRender,ae=e.track,Ce=e.tabIndex,ye=Ce===void 0?0:Ce,$e=e.ariaLabelForHandle,pe=e.ariaLabelledByForHandle,Pe=e.ariaRequired,be=e.ariaValueTextFormatterForHandle,fe=c.useRef(null),Ne=c.useRef(null),Fe=c.useMemo(function(){return D?V?"ttb":"btt":V?"rtl":"ltr"},[V,D]),He=Ir(F),Se=ee(He,5),q=Se[0],oe=Se[1],Re=Se[2],we=Se[3],ve=Se[4],he=c.useMemo(function(){return isFinite(C)?C:0},[C]),Ie=c.useMemo(function(){return isFinite(x)?x:100},[x]),Me=c.useMemo(function(){return $!==null&&$<=0?1:$},[$]),le=c.useMemo(function(){return typeof B=="boolean"?B?Me:!1:B>=0?B:!1},[B,Me]),de=c.useMemo(function(){return Object.keys(U||{}).map(function(z){var P=U[z],G={value:Number(z)};return P&&Bn(P)==="object"&&!c.isValidElement(P)&&("label"in P||"style"in P)?(G.style=P.style,G.label=P.label):G.label=P,G}).filter(function(z){var P=z.label;return P||typeof P=="number"}).sort(function(z,P){return z.value-P.value})},[U]),tt=Hr(he,Ie,Me,de,N,le),Ge=ee(tt,2),Y=Ge[0],ge=Ge[1],De=Ze(H,{value:R}),xt=ee(De,2),ze=xt[0],yn=xt[1],xe=c.useMemo(function(){var z=ze==null?[]:Array.isArray(ze)?ze:[ze],P=ee(z,1),G=P[0],J=G===void 0?he:G,se=ze===null?[]:[J];if(q){if(se=Ee(z),I||ze===void 0){var We=I>=0?I+1:2;for(se=se.slice(0,We);se.length<We;){var _e;se.push((_e=se[se.length-1])!==null&&_e!==void 0?_e:he)}}se.sort(function(Te,Le){return Te-Le})}return se.forEach(function(Te,Le){se[Le]=Y(Te)}),se},[ze,q,he,I,Y]),Ue=function(P){return q?P:P[0]},ot=Ae(function(z){var P=Ee(z).sort(function(G,J){return G-J});M&&!An(P,xe,!0)&&M(Ue(P)),yn(P)}),yt=Ae(function(z){z&&fe.current.hideHelp();var P=Ue(xe);w==null||w(P),It(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),T==null||T(P)}),$n=function(P){if(!(d||!oe||xe.length<=we)){var G=Ee(xe);G.splice(P,1),O==null||O(Ue(G)),ot(G);var J=Math.max(0,P-1);fe.current.hideHelp(),fe.current.focus(J)}},En=kr(Ne,Fe,xe,he,Ie,Y,ot,yt,ge,oe,we),nt=ee(En,5),$t=nt[0],On=nt[1],Pn=nt[2],dt=nt[3],Et=nt[4],Ot=function(P,G){if(!d){var J=Ee(xe),se=0,We=0,_e=Ie-he;xe.forEach(function(qe,lt){var Ht=Math.abs(P-qe);Ht<=_e&&(_e=Ht,se=lt),qe<P&&(We=lt)});var Te=se;oe&&_e!==0&&(!ve||xe.length<ve)?(J.splice(We+1,0,P),Te=We+1):J[se]=P,q&&!xe.length&&I===void 0&&J.push(P);var Le=Ue(J);if(O==null||O(Le),ot(J),G){var Ve,Je;(Ve=document.activeElement)===null||Ve===void 0||(Je=Ve.blur)===null||Je===void 0||Je.call(Ve),fe.current.focus(Te),Et(G,Te,J)}else w==null||w(Le),It(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),T==null||T(Le)}},Rn=function(P){P.preventDefault();var G=Ne.current.getBoundingClientRect(),J=G.width,se=G.height,We=G.left,_e=G.top,Te=G.bottom,Le=G.right,Ve=P.clientX,Je=P.clientY,qe;switch(Fe){case"btt":qe=(Te-Je)/se;break;case"ttb":qe=(Je-_e)/se;break;case"rtl":qe=(Le-Ve)/J;break;default:qe=(Ve-We)/J}var lt=he+qe*(Ie-he);Ot(Y(lt),P)},wn=c.useState(null),Pt=ee(wn,2),gt=Pt[0],Rt=Pt[1],jn=function(P,G){if(!d){var J=ge(xe,P,G);O==null||O(Ue(xe)),ot(J.values),Rt(J.value)}};c.useEffect(function(){if(gt!==null){var z=xe.indexOf(gt);z>=0&&fe.current.focus(z)}Rt(null)},[gt]);var Mn=c.useMemo(function(){return Re&&Me===null?!1:Re},[Re,Me]),wt=Ae(function(z,P){Et(z,P),O==null||O(Ue(xe))}),jt=$t!==-1;c.useEffect(function(){if(!jt){var z=xe.lastIndexOf(On);fe.current.focus(z)}},[jt]);var rt=c.useMemo(function(){return Ee(dt).sort(function(z,P){return z-P})},[dt]),Dn=c.useMemo(function(){return q?[rt[0],rt[rt.length-1]]:[he,rt[0]]},[rt,q,he]),Mt=ee(Dn,2),Dt=Mt[0],kt=Mt[1];c.useImperativeHandle(t,function(){return{focus:function(){fe.current.focus(0)},blur:function(){var P,G=document,J=G.activeElement;(P=Ne.current)!==null&&P!==void 0&&P.contains(J)&&(J==null||J.blur())}}}),c.useEffect(function(){h&&fe.current.focus(0)},[]);var kn=c.useMemo(function(){return{min:he,max:Ie,direction:Fe,disabled:d,keyboard:b,step:Me,included:ce,includedStart:Dt,includedEnd:kt,range:q,tabIndex:ye,ariaLabelForHandle:$e,ariaLabelledByForHandle:pe,ariaRequired:Pe,ariaValueTextFormatterForHandle:be,styles:s||{},classNames:l||{}}},[he,Ie,Fe,d,b,Me,ce,Dt,kt,q,ye,$e,pe,Pe,be,s,l]);return c.createElement(Ke.Provider,{value:kn},c.createElement("div",{ref:Ne,className:K(r,a,Oe(Oe(Oe(Oe({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),D),"".concat(r,"-horizontal"),!D),"".concat(r,"-with-marks"),de.length)),style:o,onMouseDown:Rn,id:i},c.createElement("div",{className:K("".concat(r,"-rail"),l==null?void 0:l.rail),style:me(me({},W),s==null?void 0:s.rail)}),ae!==!1&&c.createElement(Mr,{prefixCls:r,style:je,values:xe,startPoint:te,onStartMove:Mn?wt:void 0}),c.createElement(jr,{prefixCls:r,marks:de,dots:ue,style:k,activeStyle:_}),c.createElement(Or,{ref:fe,prefixCls:r,style:ne,values:dt,draggingIndex:$t,draggingDelete:Pn,onStartMove:wt,onOffsetChange:jn,onFocus:p,onBlur:f,handleRender:X,activeHandleRender:re,onChangeComplete:yt,onDelete:oe?$n:void 0}),c.createElement(Rr,{prefixCls:r,marks:de,onClick:Ot})))});const Cn=c.createContext({}),_t=c.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,a=c.useRef(null),o=n&&!r,l=c.useRef(null);function s(){at.cancel(l.current),l.current=null}function i(){l.current=at(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),l.current=null})}return c.useEffect(()=>(o?i():s(),s),[o,e.title]),c.createElement(_n,Object.assign({ref:Tn(a,t)},e,{open:o}))}),Fr=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:o,marginPart:l,colorFillContentHover:s,handleColorDisabled:i,calc:u,handleSize:d,handleSizeHover:m,handleActiveColor:b,handleActiveOutlineColor:h,handleLineWidth:p,handleLineWidthHover:f,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},Ln(e)),{position:"relative",height:r,margin:`${L(l)} ${L(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${L(o)} ${L(l)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${L(p)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(p).mul(-1).equal(),insetBlockStart:u(p).mul(-1).equal(),width:u(d).add(u(p).mul(2)).equal(),height:u(d).add(u(p).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${L(p)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${g},
            inset-block-start ${g},
            width ${g},
            height ${g},
            box-shadow ${g},
            outline ${g}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(m).sub(d).div(2).add(f).mul(-1).equal(),insetBlockStart:u(m).sub(d).div(2).add(f).mul(-1).equal(),width:u(m).add(u(f).mul(2)).equal(),height:u(m).add(u(f).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${L(f)} ${b}`,outline:`6px solid ${h}`,width:m,height:m,insetInlineStart:e.calc(d).sub(m).div(2).equal(),insetBlockStart:e.calc(d).sub(m).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:`${L(p)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${L(p)} ${i}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},pn=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:o,marginFull:l,calc:s}=e,i=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",m=t?"insetBlockStart":"insetInlineStart",b=t?"top":"insetInlineStart",h=s(r).mul(3).sub(a).div(2).equal(),p=s(a).sub(r).div(2).equal(),f=t?{borderWidth:`${L(p)} 0`,transform:`translateY(${L(s(p).mul(-1).equal())})`}:{borderWidth:`0 ${L(p)}`,transform:`translateX(${L(e.calc(p).mul(-1).equal())})`};return{[i]:r,[d]:s(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},f),[`${n}-handle`]:{[m]:h},[`${n}-mark`]:{insetInlineStart:0,top:0,[b]:s(r).mul(3).add(t?0:l).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[b]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[m]:s(r).sub(o).div(2).equal()}}},Br=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},pn(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Ar=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},pn(e,!1)),{height:"100%"})}},_r=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,a=e.lineWidth+1,o=e.lineWidth+1*1.5,l=e.colorPrimary,s=new Nt(l).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:l,handleActiveOutlineColor:s,handleColorDisabled:new Nt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Tr=Ut("Slider",e=>{const t=Jt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Fr(t),Br(t),Ar(t)]},_r);function ft(){const[e,t]=c.useState(!1),n=c.useRef(null),r=()=>{at.cancel(n.current)},a=o=>{r(),o?t(o):n.current=at(()=>{t(o)})};return c.useEffect(()=>r,[]),[e,a]}var Lr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function zr(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Wr=S.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:a,rootClassName:o,style:l,disabled:s,tooltipPrefixCls:i,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:m,tooltipPlacement:b,tooltip:h={},onChangeComplete:p,classNames:f,styles:g}=e,C=Lr(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:v}=e,{getPrefixCls:x,direction:y,className:$,style:R,classNames:H,styles:F,getPopupContainer:I}=zn("slider"),M=S.useContext(Qt),O=s??M,{handleRender:w,direction:T}=S.useContext(Cn),N=(T||y)==="rtl",[A,B]=ft(),[V,D]=ft(),Z=Object.assign({},h),{open:ce,placement:te,getPopupContainer:je,prefixCls:ne,formatter:W}=Z,k=ce??d,_=(A||V)&&k!==!1,U=zr(W,u),[ue,X]=ft(),re=q=>{p==null||p(q),X(!1)},ae=(q,oe)=>q||(oe?N?"left":"right":"top"),Ce=x("slider",n),[ye,$e,pe]=Tr(Ce),Pe=K(a,$,H.root,f==null?void 0:f.root,o,{[`${Ce}-rtl`]:N,[`${Ce}-lock`]:ue},$e,pe);N&&!C.vertical&&(C.reverse=!C.reverse),S.useEffect(()=>{const q=()=>{at(()=>{D(!1)},1)};return document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}},[]);const be=r&&!k,fe=w||((q,oe)=>{const{index:Re}=oe,we=q.props;function ve(le,de,tt){var Ge,Y,ge,De;tt&&((Y=(Ge=C)[le])===null||Y===void 0||Y.call(Ge,de)),(De=(ge=we)[le])===null||De===void 0||De.call(ge,de)}const he=Object.assign(Object.assign({},we),{onMouseEnter:le=>{B(!0),ve("onMouseEnter",le)},onMouseLeave:le=>{B(!1),ve("onMouseLeave",le)},onMouseDown:le=>{D(!0),X(!0),ve("onMouseDown",le)},onFocus:le=>{var de;D(!0),(de=C.onFocus)===null||de===void 0||de.call(C,le),ve("onFocus",le,!0)},onBlur:le=>{var de;D(!1),(de=C.onBlur)===null||de===void 0||de.call(C,le),ve("onBlur",le,!0)}}),Ie=S.cloneElement(q,he),Me=(!!k||_)&&U!==null;return be?Ie:S.createElement(_t,Object.assign({},Z,{prefixCls:x("tooltip",ne??i),title:U?U(oe.value):"",open:Me,placement:ae(te??b,v),key:Re,classNames:{root:`${Ce}-tooltip`},getPopupContainer:je||m||I}),Ie)}),Ne=be?(q,oe)=>{const Re=S.cloneElement(q,{style:Object.assign(Object.assign({},q.props.style),{visibility:"hidden"})});return S.createElement(_t,Object.assign({},Z,{prefixCls:x("tooltip",ne??i),title:U?U(oe.value):"",open:U!==null&&_,placement:ae(te??b,v),key:"tooltip",classNames:{root:`${Ce}-tooltip`},getPopupContainer:je||m||I,draggingDelete:oe.draggingDelete}),Re)}:void 0,Fe=Object.assign(Object.assign(Object.assign(Object.assign({},F.root),R),g==null?void 0:g.root),l),He=Object.assign(Object.assign({},F.tracks),g==null?void 0:g.tracks),Se=K(H.tracks,f==null?void 0:f.tracks);return ye(S.createElement(Nr,Object.assign({},C,{classNames:Object.assign({handle:K(H.handle,f==null?void 0:f.handle),rail:K(H.rail,f==null?void 0:f.rail),track:K(H.track,f==null?void 0:f.track)},Se?{tracks:Se}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},F.handle),g==null?void 0:g.handle),rail:Object.assign(Object.assign({},F.rail),g==null?void 0:g.rail),track:Object.assign(Object.assign({},F.track),g==null?void 0:g.track)},Object.keys(He).length?{tracks:He}:{}),step:C.step,range:r,className:Pe,style:Fe,disabled:O,ref:t,prefixCls:Ce,handleRender:fe,activeHandleRender:Ne,onChangeComplete:re})))});var qr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const bn=e=>{const{prefixCls:t,colors:n,type:r,color:a,range:o=!1,className:l,activeIndex:s,onActive:i,onDragStart:u,onDragChange:d,onKeyDelete:m}=e,b=qr(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),h=Object.assign(Object.assign({},b),{track:!1}),p=c.useMemo(()=>`linear-gradient(90deg, ${n.map(R=>`${R.color} ${R.percent}%`).join(", ")})`,[n]),f=c.useMemo(()=>!a||!r?null:r==="alpha"?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`,[a,r]),g=Ae(u),C=Ae(d),v=c.useMemo(()=>({onDragStart:g,onDragChange:C}),[]),x=Ae(($,R)=>{const{onFocus:H,style:F,className:I,onKeyDown:M}=$.props,O=Object.assign({},F);return r==="gradient"&&(O.background=Zt(n,R.value)),c.cloneElement($,{onFocus:w=>{i==null||i(R.index),H==null||H(w)},style:O,className:K(I,{[`${t}-slider-handle-active`]:s===R.index}),onKeyDown:w=>{(w.key==="Delete"||w.key==="Backspace")&&m&&m(R.index),M==null||M(w)}})}),y=c.useMemo(()=>({direction:"ltr",handleRender:x}),[]);return c.createElement(Cn.Provider,{value:y},c.createElement(hn.Provider,{value:v},c.createElement(Wr,Object.assign({},h,{className:K(l,`${t}-slider`),tooltip:{open:!1},range:{editable:o,minCount:2},styles:{rail:{background:p},handle:f?{background:f}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},Gr=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,a=l=>n(l[0]),o=l=>r(l[0]);return c.createElement(bn,Object.assign({},e,{value:[t],onChange:a,onChangeComplete:o}))};function Tt(e){return Ee(e).sort((t,n)=>t.percent-n.percent)}const Vr=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:a,onActive:o,activeIndex:l,onGradientDragging:s,colors:i}=e,u=n==="gradient",d=c.useMemo(()=>i.map(C=>({percent:C.percent,color:C.color.toRgbString()})),[i]),m=c.useMemo(()=>d.map(C=>C.percent),[d]),b=c.useRef(d),h=C=>{let{rawValues:v,draggingIndex:x,draggingValue:y}=C;if(v.length>d.length){const $=Zt(d,y),R=Ee(d);R.splice(x,0,{percent:y,color:$}),b.current=R}else b.current=d;s(!0),r(new Be(Tt(b.current)),!0)},p=C=>{let{deleteIndex:v,draggingIndex:x,draggingValue:y}=C,$=Ee(b.current);v!==-1?$.splice(v,1):($[x]=Object.assign(Object.assign({},$[x]),{percent:y}),$=Tt($)),r(new Be($),!0)},f=C=>{const v=Ee(d);v.splice(C,1);const x=new Be(v);r(x),a(x)},g=C=>{a(new Be(d)),l>=C.length&&o(C.length-1),s(!1)};return u?c.createElement(bn,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:m,range:!0,onChangeComplete:g,disabled:!1,type:"gradient",activeIndex:l,onActive:o,onDragStart:h,onDragChange:p,onKeyDelete:f}):null},Xr=c.memo(Vr);var Yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Kr={slider:Gr},Lt=()=>{const e=c.useContext(un),{mode:t,onModeChange:n,modeOptions:r,prefixCls:a,allowClear:o,value:l,disabledAlpha:s,onChange:i,onClear:u,onChangeComplete:d,activeIndex:m,gradientDragging:b}=e,h=Yr(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),p=S.useMemo(()=>l.cleared?[{percent:0,color:new Be("")},{percent:100,color:new Be("")}]:l.getColors(),[l]),f=!l.isGradient(),[g,C]=S.useState(l);vt(()=>{var j;f||C((j=p[m])===null||j===void 0?void 0:j.color)},[b,m]);const v=S.useMemo(()=>{var j;return f?l:b?g:(j=p[m])===null||j===void 0?void 0:j.color},[l,m,f,g,b]),[x,y]=S.useState(v),[$,R]=S.useState(0),H=x!=null&&x.equals(v)?v:x;vt(()=>{y(v)},[$,v==null?void 0:v.toHexString()]);const F=(j,N)=>{let A=ke(j);if(l.cleared){const V=A.toRgb();if(!V.r&&!V.g&&!V.b&&N){const{type:D,value:Z=0}=N;A=new Be({h:D==="hue"?Z:0,s:1,b:1,a:D==="alpha"?Z/100:1})}else A=ct(A)}if(t==="single")return A;const B=Ee(p);return B[m]=Object.assign(Object.assign({},B[m]),{color:A}),new Be(B)},I=(j,N,A)=>{const B=F(j,A);y(B.isGradient()?B.getColors()[m].color:B),i(B,N)},M=(j,N)=>{d(F(j,N)),R(A=>A+1)},O=j=>{i(F(j))};let w=null;const T=r.length>1;return(o||T)&&(w=S.createElement("div",{className:`${a}-operation`},T&&S.createElement(lr,{size:"small",options:r,value:t,onChange:n}),S.createElement(gn,Object.assign({prefixCls:a,value:l,onChange:j=>{i(j),u==null||u()}},h)))),S.createElement(S.Fragment,null,w,S.createElement(Xr,Object.assign({},e,{colors:p})),S.createElement(fr,{prefixCls:a,value:H==null?void 0:H.toHsb(),disabledAlpha:s,onChange:(j,N)=>{I(j,!0,N)},onChangeComplete:(j,N)=>{M(j,N)},components:Kr}),S.createElement(yr,Object.assign({value:v,onChange:O,prefixCls:a,disabledAlpha:s},h)))},zt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=c.useContext(dn);return Array.isArray(n)?S.createElement(Wn,{value:t,presets:n,prefixCls:e,onChange:r}):null},Ur=e=>{const{prefixCls:t,presets:n,panelRender:r,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:b,activeIndex:h,onActive:p,format:f,onFormatChange:g,gradientDragging:C,onGradientDragging:v,disabledFormat:x}=e,y=`${t}-inner`,$=S.useMemo(()=>({prefixCls:t,value:a,onChange:o,onClear:l,allowClear:s,disabledAlpha:i,mode:u,onModeChange:d,modeOptions:m,onChangeComplete:b,activeIndex:h,onActive:p,format:f,onFormatChange:g,gradientDragging:C,onGradientDragging:v,disabledFormat:x}),[t,a,o,l,s,i,u,d,m,b,h,p,f,g,C,v,x]),R=S.useMemo(()=>({prefixCls:t,value:a,presets:n,onChange:o}),[t,a,n,o]),H=S.createElement("div",{className:`${y}-content`},S.createElement(Lt,null),Array.isArray(n)&&S.createElement(qn,null),S.createElement(zt,null));return S.createElement(un.Provider,{value:$},S.createElement(dn.Provider,{value:R},S.createElement("div",{className:y},typeof r=="function"?r(H,{components:{Picker:Lt,Presets:zt}}):H)))};var Jr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Qr=c.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:a,disabled:o,format:l,className:s,showText:i,activeIndex:u}=e,d=Jr(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),m=`${r}-trigger`,b=`${m}-text`,h=`${b}-cell`,[p]=en("ColorPicker"),f=S.useMemo(()=>{if(!i)return"";if(typeof i=="function")return i(n);if(n.cleared)return p.transparent;if(n.isGradient())return n.getColors().map((x,y)=>{const $=u!==-1&&u!==y;return S.createElement("span",{key:y,className:K(h,$&&`${h}-inactive`)},x.color.toRgbString()," ",x.percent,"%")});const C=n.toHexString().toUpperCase(),v=pt(n);switch(l){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return v<100?`${C.slice(0,7)},${v}%`:C}},[n,l,i,u]),g=c.useMemo(()=>n.cleared?S.createElement(gn,{prefixCls:r}):S.createElement(Yt,{prefixCls:r,color:n.toCssString()}),[n,r]);return S.createElement("div",Object.assign({ref:t,className:K(m,s,{[`${m}-active`]:a,[`${m}-disabled`]:o})},Gn(d)),g,i&&S.createElement("div",{className:b},f))});function Zr(e,t,n){const[r]=en("ColorPicker"),[a,o]=Ze(e,{value:t}),[l,s]=c.useState("single"),[i,u]=c.useMemo(()=>{const f=(Array.isArray(n)?n:[n]).filter(x=>x);f.length||f.push("single");const g=new Set(f),C=[],v=(x,y)=>{g.has(x)&&C.push({label:y,value:x})};return v("single",r.singleColor),v("gradient",r.gradientColor),[C,g]},[n]),[d,m]=c.useState(null),b=Ae(f=>{m(f),o(f)}),h=c.useMemo(()=>{const f=ke(a||"");return f.equals(d)?d:f},[a,d]),p=c.useMemo(()=>{var f;return u.has(l)?l:(f=i[0])===null||f===void 0?void 0:f.value},[u,l,i]);return c.useEffect(()=>{s(h.isGradient()?"gradient":"single")},[h]),[h,b,p,s,i]}const Sn=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),Wt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:a,lineWidth:o,colorFillSecondary:l}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:a,flex:"none"},Sn("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${L(o)} ${l}`,borderRadius:"inherit"}})}},ea=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:a,colorPickerAlphaInputWidth:o,marginXXS:l,paddingXXS:s,controlHeightSM:i,marginXS:u,fontSizeIcon:d,paddingXS:m,colorTextPlaceholder:b,colorPickerInputNumberHandleWidth:h,lineWidth:p}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:a,[`${n}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:h}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${L(o)}`,marginInlineStart:l},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(l).equal(),fontSize:r,lineHeight:L(i)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:a},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${L(m)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:L(e.calc(i).sub(e.calc(p).mul(2)).equal())},[`${n}-input-prefix`]:{color:b}}}}}},ta=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:a,marginSM:o,colorBgElevated:l,colorFillSecondary:s,lineWidthBold:i,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:a,inset:0},marginBottom:o},[`${t}-handler`]:{width:u,height:u,border:`${L(i)} solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${a}, 0 0 0 1px ${s}`}}},na=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:a,colorPickerPresetColorSize:o,fontSizeSM:l,colorText:s,lineHeightSM:i,lineWidth:u,borderRadius:d,colorFill:m,colorWhite:b,marginXXS:h,paddingXS:p,fontHeightSM:f}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:f,color:r,paddingInlineEnd:a}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${L(p)} 0`},"&-label":{fontSize:l,color:s,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(h).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:e.calc(o).add(e.calc(u).mul(4)).equal(),height:e.calc(o).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${L(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:m},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(o).div(13).mul(5).equal(),height:e.calc(o).div(13).mul(8).equal(),border:`${L(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:b,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:r}}}},ra=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:a,lineWidthBold:o,colorPickerHandlerSizeSM:l,colorPickerSliderHeight:s,marginSM:i,marginXS:u}=e,d=e.calc(l).sub(e.calc(o).mul(2).equal()).equal(),m=e.calc(l).add(e.calc(o).mul(2).equal()).equal(),b={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[Sn(L(s),e.colorFillSecondary),{margin:0,padding:0,height:s,borderRadius:e.calc(s).div(2).equal(),"&-rail":{height:s,borderRadius:e.calc(s).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:m,height:m,borderRadius:"100%"},"&:after":{width:l,height:l,border:`${L(o)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${a}`,outline:"none",insetInlineStart:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":b}}],[`${t}-slider-container`]:{display:"flex",gap:i,marginBottom:i,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":b}}}},Ct=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${L(e.controlOutlineWidth)} ${n}`,outline:0}),aa=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},qt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:a,lineWidth:o,colorSplit:l,colorBorder:s,red6:i}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:a,border:`${L(o)} solid ${l}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:i},"&:hover":{borderColor:s}})}},oa=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:a,colorWarningHover:o,colorErrorOutline:l,colorWarningOutline:s}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},Ct(e,n,l))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},Ct(e,r,s))}}},la=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:a,controlHeightXS:o,borderRadius:l,borderRadiusSM:s,borderRadiusXS:i,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:s,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:i},[`${t}-trigger-text`]:{lineHeight:L(o)}}}},sa=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:a,motionDurationMid:o,colorBgElevated:l,colorTextDisabled:s,colorText:i,colorBgContainerDisabled:u,borderRadius:d,marginXS:m,marginSM:b,controlHeight:h,controlHeightSM:p,colorBgTextActive:f,colorPickerPresetColorSize:g,colorPickerPreviewSize:C,lineWidth:v,colorBorder:x,paddingXXS:y,fontSize:$,colorPrimaryHover:R,controlOutline:H}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${L(b)} 0 ${L(m)}`}},[`${n}-panel`]:Object.assign({},ta(e))},ra(e)),Wt(e,C)),ea(e)),na(e)),qt(e,g,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:m}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:h,minHeight:h,borderRadius:d,border:`${L(v)} solid ${x}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${o}`,background:l,padding:e.calc(y).sub(v).equal(),[`${n}-trigger-text`]:{marginInlineStart:m,marginInlineEnd:e.calc(m).sub(e.calc(y).sub(v)).equal(),fontSize:$,color:i,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:s}}},"&:hover":{borderColor:R},[`&${n}-trigger-active`]:Object.assign({},Ct(e,a,H)),"&-disabled":{color:s,background:u,cursor:"not-allowed","&:hover":{borderColor:f},[`${n}-trigger-text`]:{color:s}}},qt(e,p)),Wt(e,p)),oa(e)),la(e))},aa(e))},Vn(e,{focusElCls:`${n}-trigger-active`})]},ia=Ut("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,a=Jt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[sa(a)]});var ca=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const St=e=>{const{mode:t,value:n,defaultValue:r,format:a,defaultFormat:o,allowClear:l=!1,presets:s,children:i,trigger:u="click",open:d,disabled:m,placement:b="bottomLeft",arrow:h=!0,panelRender:p,showText:f,style:g,className:C,size:v,rootClassName:x,prefixCls:y,styles:$,disabledAlpha:R=!1,onFormatChange:H,onChange:F,onClear:I,onOpenChange:M,onChangeComplete:O,getPopupContainer:w,autoAdjustOverflow:T=!0,destroyTooltipOnHide:j,disabledFormat:N}=e,A=ca(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:B,direction:V,colorPicker:D}=c.useContext(Xn),Z=c.useContext(Qt),ce=m??Z,[te,je]=Ze(!1,{value:d,postState:Y=>!ce&&Y,onChange:M}),[ne,W]=Ze(a,{value:a,defaultValue:o,onChange:H}),k=B("color-picker",y),[_,U,ue,X,re]=Zr(r,n,t),ae=c.useMemo(()=>pt(_)<100,[_]),[Ce,ye]=S.useState(null),$e=Y=>{if(O){let ge=ke(Y);R&&ae&&(ge=ct(Y)),O(ge)}},pe=(Y,ge)=>{let De=ke(Y);R&&ae&&(De=ct(De)),U(De),ye(null),F&&F(De,De.toCssString()),ge||$e(De)},[Pe,be]=S.useState(0),[fe,Ne]=S.useState(!1),Fe=Y=>{if(X(Y),Y==="single"&&_.isGradient())be(0),pe(new Be(_.getColors()[0].color)),ye(_);else if(Y==="gradient"&&!_.isGradient()){const ge=ae?ct(_):_;pe(new Be(Ce||[{percent:0,color:ge},{percent:100,color:ge}]))}},{status:He}=S.useContext(Yn),{compactSize:Se,compactItemClassnames:q}=Kn(k,V),oe=Un(Y=>{var ge;return(ge=v??Se)!==null&&ge!==void 0?ge:Y}),Re=Jn(k),[we,ve,he]=ia(k,Re),Ie={[`${k}-rtl`]:V},Me=K(x,he,Re,Ie),le=K(Qn(k,He),{[`${k}-sm`]:oe==="small",[`${k}-lg`]:oe==="large"},q,D==null?void 0:D.className,Me,C,ve),de=K(k,Me),tt={open:te,trigger:u,placement:b,arrow:h,rootClassName:x,getPopupContainer:w,autoAdjustOverflow:T,destroyTooltipOnHide:j},Ge=Object.assign(Object.assign({},D==null?void 0:D.style),g);return we(S.createElement(Zn,Object.assign({style:$==null?void 0:$.popup,styles:{body:$==null?void 0:$.popupOverlayInner},onOpenChange:Y=>{(!Y||!ce)&&je(Y)},content:S.createElement(er,{form:!0},S.createElement(Ur,{mode:ue,onModeChange:Fe,modeOptions:re,prefixCls:k,value:_,allowClear:l,disabled:ce,disabledAlpha:R,presets:s,panelRender:p,format:ne,onFormatChange:W,onChange:pe,onChangeComplete:$e,onClear:I,activeIndex:Pe,onActive:be,gradientDragging:fe,onGradientDragging:Ne,disabledFormat:N})),classNames:{root:de}},tt),i||S.createElement(Qr,Object.assign({activeIndex:te?Pe:-1,open:te,className:le,style:Ge,prefixCls:k,disabled:ce,showText:f,format:ne},A,{color:_}))))},ua=tr(St,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);St._InternalPanelDoNotUseOrYouWillBeFired=ua;const da=({type:e,dataMap:t,constDataMap:n,componentMap:r,inputAnalysisMethod:a,dataKey:o,data:l,name:s,component_id:i,inputKey:u,...d})=>{if(!t)return E.jsx("div",{children:"...."});t={...t,...n};const m=r[e];if(!m)return E.jsxs("div",{children:[" ",e]});const{Component:b,dataKey:h,...p}=m;console.log(p);let f=[];return l?f=l:a?f=t[a]:o?o in t&&(f=t[o]):h?h in t&&(f=t[h]):"first_data_key"in t?f=t[t.first_data_key]:i in t&&(f=t[i]),E.jsx(b,{...p,...d,data:f,name:s})},ja=c.memo(({formJson:e,dataMap:t})=>{if(!e)return null;const{projectObj:n}=nr(),o={rank:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}],group_field:n!=null&&n.metadata_form?n==null?void 0:n.metadata_form.map(s=>({label:s.label,value:s.name})):[]},l={GroupSelect:{Component:it,dataKey:"sample_group_list"},Input:{Component:va},GroupCompareSelect:{Component:fa},BaseSelect:{Component:it},BaseInputNumber:{Component:pa},BaseInput:{Component:ha},BaseSwitch:{Component:Ca},RankSelect:{Component:it,dataKey:"rank",mode:void 0,initialValue:"SPECIES"},GroupFieldSelect:{Component:it,dataKey:"group_field",mode:void 0,initialValue:"group"},FilterFieldSelect:{Component:ga,dataKey:"sample_group_list",mode:void 0},GroupSelectSampleButton:{Component:ba},MetaphlanCladeSelect:{Component:ma},SelectAll:{Component:xa,dataKey:"sample_group_list"}};return E.jsx(E.Fragment,{children:e.map((s,i)=>E.jsx(da,{...s,dataMap:t,componentMap:l,constDataMap:o},i))})},(e,t)=>(console.log("prevProps==nextProps: ",JSON.stringify(e)===JSON.stringify(t)),JSON.stringify(e)===JSON.stringify(t))),ga=({label:e,name:t,data:n,rules:r,field:a,...o})=>{const[l,s]=c.useState(),i=Q.useFormInstance();return c.useEffect(()=>{if(n&&a){const u=[...new Set(n.map(a))],d=u.map(m=>({label:m,value:m}));s(d),i.setFieldValue(t,u[0])}},[n]),E.jsx(E.Fragment,{children:E.jsx(Q.Item,{label:e,name:t,rules:r,children:E.jsx(xn,{...o,options:l})})})},xn=({options:e,clear:t,value:n,onChange:r,...a})=>{const o=Q.useFormInstance(),l=s=>{r(s),t&&o.resetFields(t)};return E.jsx(et,{showSearch:!0,filterOption:(s,i)=>((i==null?void 0:i.label)??"").toLowerCase().includes(s.toLowerCase()),...a,options:e,value:n,onChange:l})},ma=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const[l,s]=c.useState(),i=async()=>{let d=(await ar.get("/fast-api/get_metaphlan_clade")).data.map(m=>({label:`${m.taxon.replaceAll(" ","_")}_${m.clade}`,value:m.clade}));s(d)};return c.useEffect(()=>{i()},[]),E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(et,{...o,options:l,showSearch:!0,filterOption:(u,d)=>((d==null?void 0:d.label)??"").toLowerCase().includes(u.toLowerCase())})})})},fa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const l=Q.useFormInstance(),s=Q.useWatch(["sites1","group"],l),i=Q.useWatch(["sites2","group"],l),[u,d]=c.useState();return c.useEffect(()=>{s&&i&&d([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${i.join("-")}`,value:`Prevalent in ${i.join("-")}`},{label:`Prevalent in ${s.join("-")}`,value:`Prevalent in ${s.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[s,i]),E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(et,{showSearch:!0,filterOption:(m,b)=>((b==null?void 0:b.label)??"").toLowerCase().includes(m.toLowerCase()),...o,options:u})})})},va=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(rr,{...o})})}),ha=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(nn,{...o})})}),Ca=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(or,{...o})})}),pa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(an,{...o})})}),it=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r||null,label:e,name:t,rules:a,children:E.jsx(xn,{...o,options:n})})}),ba=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l})=>{const[s,i]=c.useState(),[u,d]=c.useState([]),m=Q.useFormInstance();let b=[];a&&(b=a.map(g=>g.name));const h=Q.useWatch(g=>{const C=Object.entries(g).filter(([v])=>b.includes(v));return Object.fromEntries(C)},m),p=Q.useWatch(o,m),f=(g,C)=>{const v=g.reduce((x,y)=>{const $=y[C];return x[$]||(x[$]=[]),x[$].push(y.value),x},{});i(v)};return c.useEffect(()=>{a&&h&&(r=a.reduce((g,C)=>g.filter(v=>C.method(v)===h[C.name]),r),r=r.map(g=>{const{label:C,id:v,value:x,...y}=g;return{label:`${g.label}(${a[0].method(g)})`,value:g.value,...y}})),r&&l?f(r,l):r&&p&&f(r,p),d(r)},[r,p,h]),E.jsxs(E.Fragment,{children:[E.jsx(Q.Item,{label:e,name:[t,"sample"],rules:n,children:E.jsx($a,{sampleGrouped:s,sampleGroup:u,watch:[t,"group"]})}),E.jsxs(tn,{gap:"small",children:[E.jsx(Q.Item,{label:e,name:[t,"group"],noStyle:!0,children:E.jsx(Ea,{sampleGrouped:s})}),E.jsx(Q.Item,{name:[t,"group_name"],children:E.jsx(nn,{size:"small",placeholder:"Optional group name"})}),E.jsx(Q.Item,{name:[t,"color"],children:E.jsx(Sa,{})})]})]})},Sa=({value:e,onChange:t,...n})=>E.jsx(E.Fragment,{children:E.jsx(St,{defaultValue:"#1677ff",...n,value:e,onChange:r=>{const a=r.toHexString();t(a)}})}),xa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>E.jsx(E.Fragment,{children:E.jsx(Q.Item,{initialValue:r,label:e,name:t,rules:a,children:E.jsx(ya,{data:n,...o})})}),ya=({data:e,value:t,onChange:n,mode:r,...a})=>{const[o,l]=c.useState(t),s=i=>{console.log(i),n(i),l(i)};return E.jsxs(E.Fragment,{children:[E.jsx(et,{...a,mode:r,value:o,onChange:s,allowClear:!0,options:e}),r=="multiple"&&E.jsxs(rn,{onClick:()=>{const i=e.map(u=>u.value);l(i),n(i)},children:["",o&&E.jsxs(E.Fragment,{children:["(",o.length,")"]})]})]})},$a=({value:e,onChange:t,sampleGroup:n,watch:r,sampleGrouped:a})=>{const[o,l]=c.useState(),s=Q.useFormInstance(),i=Q.useWatch(r,s);c.useEffect(()=>{l(i)},[i]);const u=d=>{const m=Object.entries(a||{}).filter(([b])=>d.includes(b)).flatMap(([,b])=>b);t(m)};return c.useEffect(()=>{o&&u(o)},[o]),E.jsxs(E.Fragment,{children:[E.jsx(et,{showSearch:!0,filterOption:(d,m)=>((m==null?void 0:m.label)??"").toLowerCase().includes(d.toLowerCase()),mode:"multiple",value:e,onChange:t,options:n}),e&&E.jsxs(E.Fragment,{children:["A total of ",e.length," samples were selected"]})]})},Ea=({value:e,onChange:t,sampleGrouped:n})=>{const r=a=>{if((e||[]).includes(a)){const o=(e||[]).filter(l=>!l.includes(a));t(o)}else{const o=[...e||[],a];t(o)}};return E.jsx(E.Fragment,{children:E.jsx(tn,{gap:"small",children:Object.entries(n||{}).map(([a,o])=>E.jsx("span",{children:E.jsxs(rn,{size:"small",type:(e||[]).includes(a)?"primary":"dashed",onClick:()=>r(a),children:[a,"(",o.length,")"]})},a))})})};export{ja as F};
