import{r as c,af as ee,f as E,Y as U,ag as Oe,ae as me,O as Be,aF as Ut,aG as Jt,aH as et,aI as Qt,aJ as ut,aK as Bn,_ as Ze,aL as Zt,aM as _n,aN as ke,aO as St,aP as st,aQ as Tn,aR as vt,e as Ke,ai as en,aS as ie,q as Ln,aT as pt,W as Ee,aU as zn,U as Gn,aV as _t,t as Wn,aw as qn,Q as at,a5 as tn,a6 as nn,a7 as Vn,a8 as z,aW as Tt,an as Xn,aX as rn,aY as an,aZ as Ae,a_ as ct,a$ as Yn,au as on,b0 as ln,a4 as Kn,b1 as Un,a3 as Jn,b2 as Qn,b3 as Zn,ao as er,b4 as tr,b5 as nr,p as rr,b6 as ar,b7 as or,k as lr,j as y,R as sr,C as ir,d as N,F as dt,I as gt,T as sn,B as cn,a as cr}from"./main-B2jPVJuc.js";import{S as ur}from"./index-ROS2ditM.js";import{T as un}from"./index-umuRLg26.js";import{S as dr}from"./index-D94Q12AR.js";function gr(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function dn(e){var t=e.targetRef,n=e.containerRef,r=e.direction,a=e.onDragChange,o=e.onDragChangeComplete,l=e.calculate,i=e.color,s=e.disabledDrag,u=c.useState({x:0,y:0}),d=ee(u,2),v=d[0],$=d[1],C=c.useRef(null),S=c.useRef(null);c.useEffect(function(){$(l())},[i]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",C.current),document.removeEventListener("mouseup",S.current),document.removeEventListener("touchmove",C.current),document.removeEventListener("touchend",S.current),C.current=null,S.current=null}},[]);var m=function(h){var x=gr(h),O=x.pageX,j=x.pageY,w=n.current.getBoundingClientRect(),D=w.x,I=w.y,P=w.width,M=w.height,L=t.current.getBoundingClientRect(),k=L.width,A=L.height,_=k/2,B=A/2,X=Math.max(0,Math.min(O-D,P))-_,F=Math.max(0,Math.min(j-I,M))-B,Z={x:X,y:r==="x"?v.y:F};if(k===0&&A===0||k!==A)return!1;a==null||a(Z)},g=function(h){h.preventDefault(),m(h)},p=function(h){h.preventDefault(),document.removeEventListener("mousemove",C.current),document.removeEventListener("mouseup",S.current),document.removeEventListener("touchmove",C.current),document.removeEventListener("touchend",S.current),C.current=null,S.current=null,o==null||o()},f=function(h){document.removeEventListener("mousemove",C.current),document.removeEventListener("mouseup",S.current),!s&&(m(h),document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",g),document.addEventListener("touchend",p),C.current=g,S.current=p)};return[v,f]}var gn=function(t){var n=t.size,r=n===void 0?"default":n,a=t.color,o=t.prefixCls;return E.createElement("div",{className:U("".concat(o,"-handler"),Oe({},"".concat(o,"-handler-sm"),r==="small")),style:{backgroundColor:a}})},mn=function(t){var n=t.children,r=t.style,a=t.prefixCls;return E.createElement("div",{className:"".concat(a,"-palette"),style:me({position:"relative"},r)},n)},fn=c.forwardRef(function(e,t){var n=e.children,r=e.x,a=e.y;return E.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),mr=function(t){var n=t.color,r=t.onChange,a=t.prefixCls,o=t.onChangeComplete,l=t.disabled,i=c.useRef(),s=c.useRef(),u=c.useRef(n),d=Be(function(m){var g=Ut({offset:m,targetRef:s,containerRef:i,color:n});u.current=g,r(g)}),v=dn({color:n,containerRef:i,targetRef:s,calculate:function(){return Jt(n)},onDragChange:d,onDragChangeComplete:function(){return o==null?void 0:o(u.current)},disabledDrag:l}),$=ee(v,2),C=$[0],S=$[1];return E.createElement("div",{ref:i,className:"".concat(a,"-select"),onMouseDown:S,onTouchStart:S},E.createElement(mn,{prefixCls:a},E.createElement(fn,{x:C.x,y:C.y,ref:s},E.createElement(gn,{color:n.toRgbString(),prefixCls:a})),E.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},fr=function(t,n){var r=et(t,{value:n}),a=ee(r,2),o=a[0],l=a[1],i=c.useMemo(function(){return Qt(o)},[o]);return[i,l]},vr=function(t){var n=t.colors,r=t.children,a=t.direction,o=a===void 0?"to right":a,l=t.type,i=t.prefixCls,s=c.useMemo(function(){return n.map(function(u,d){var v=Qt(u);return l==="alpha"&&d===n.length-1&&(v=new ut(v.setA(1))),v.toRgbString()}).join(",")},[n,l]);return E.createElement("div",{className:"".concat(i,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(s,")")}},r)},hr=function(t){var n=t.prefixCls,r=t.colors,a=t.disabled,o=t.onChange,l=t.onChangeComplete,i=t.color,s=t.type,u=c.useRef(),d=c.useRef(),v=c.useRef(i),$=function(x){return s==="hue"?x.getHue():x.a*100},C=Be(function(h){var x=Ut({offset:h,targetRef:d,containerRef:u,color:i,type:s});v.current=x,o($(x))}),S=dn({color:i,targetRef:d,containerRef:u,calculate:function(){return Jt(i,s)},onDragChange:C,onDragChangeComplete:function(){l($(v.current))},direction:"x",disabledDrag:a}),m=ee(S,2),g=m[0],p=m[1],f=E.useMemo(function(){if(s==="hue"){var h=i.toHsb();h.s=1,h.b=1,h.a=1;var x=new ut(h);return x}return i},[i,s]),b=E.useMemo(function(){return r.map(function(h){return"".concat(h.color," ").concat(h.percent,"%")})},[r]);return E.createElement("div",{ref:u,className:U("".concat(n,"-slider"),"".concat(n,"-slider-").concat(s)),onMouseDown:p,onTouchStart:p},E.createElement(mn,{prefixCls:n},E.createElement(fn,{x:g.x,y:g.y,ref:d},E.createElement(gn,{size:"small",color:f.toHexString(),prefixCls:n})),E.createElement(vr,{colors:b,type:s,prefixCls:n})))};function pr(e){return c.useMemo(function(){var t=e||{},n=t.slider;return[n||hr]},[e])}var Cr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],br=c.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,a=e.prefixCls,o=a===void 0?Bn:a,l=e.onChange,i=e.onChangeComplete,s=e.className,u=e.style,d=e.panelRender,v=e.disabledAlpha,$=v===void 0?!1:v,C=e.disabled,S=C===void 0?!1:C,m=e.components,g=pr(m),p=ee(g,1),f=p[0],b=fr(r||_n,n),h=ee(b,2),x=h[0],O=h[1],j=c.useMemo(function(){return x.setA(1).toRgbString()},[x]),w=function(F,Z){n||O(F),l==null||l(F,Z)},D=function(F){return new ut(x.setHue(F))},I=function(F){return new ut(x.setA(F/100))},P=function(F){w(D(F),{type:"hue",value:F})},M=function(F){w(I(F),{type:"alpha",value:F})},L=function(F){i&&i(D(F))},k=function(F){i&&i(I(F))},A=U("".concat(o,"-panel"),s,Oe({},"".concat(o,"-panel-disabled"),S)),_={prefixCls:o,disabled:S,color:x},B=E.createElement(E.Fragment,null,E.createElement(mr,Ze({onChange:w},_,{onChangeComplete:i})),E.createElement("div",{className:"".concat(o,"-slider-container")},E.createElement("div",{className:U("".concat(o,"-slider-group"),Oe({},"".concat(o,"-slider-group-disabled-alpha"),$))},E.createElement(f,Ze({},_,{type:"hue",colors:Cr,min:0,max:359,value:x.getHue(),onChange:P,onChangeComplete:L})),!$&&E.createElement(f,Ze({},_,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:j}],min:0,max:100,value:x.a*100,onChange:M,onChangeComplete:k}))),E.createElement(Zt,{color:x.toRgbString(),prefixCls:o})));return E.createElement("div",{className:A,style:u,ref:t},typeof d=="function"?d(B):B)});const vn=E.createContext({}),hn=E.createContext({}),pn=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=()=>{if(r&&n&&!n.cleared){const o=n.toHsb();o.a=0;const l=ke(o);l.cleared=!0,r(l)}};return E.createElement("div",{className:`${t}-clear`,onClick:a})},Cn="hex",bn="rgb",Sn="hsb",Ye=e=>{let{prefixCls:t,min:n=0,max:r=100,value:a,onChange:o,className:l,formatter:i}=e;const s=`${t}-steppers`,[u,d]=c.useState(a);return c.useEffect(()=>{Number.isNaN(a)||d(a)},[a]),E.createElement(un,{className:U(s,l),min:n,max:r,value:u,formatter:i,size:"small",onChange:v=>{a||d(v||0),o==null||o(v)}})},Sr=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-alpha-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const i=s=>{const u=o.toHsb();u.a=(s||0)/100;const d=ke(u);n||l(d),r==null||r(d)};return E.createElement(Ye,{value:St(o),prefixCls:t,formatter:s=>`${s}%`,className:a,onChange:i})},xr=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,yr=e=>xr.test(`#${e}`),$r=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hex-input`,[o,l]=c.useState(()=>n?st(n.toHexString()):void 0);c.useEffect(()=>{n&&l(st(n.toHexString()))},[n]);const i=s=>{const u=s.target.value;l(st(u)),yr(st(u,!0))&&(r==null||r(ke(u)))};return E.createElement(Tn,{className:a,value:o,prefix:"#",onChange:i,size:"small"})},Er=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hsb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const i=(s,u)=>{const d=o.toHsb();d[u]=u==="h"?s:(s||0)/100;const v=ke(d);n||l(v),r==null||r(v)};return E.createElement("div",{className:a},E.createElement(Ye,{max:360,min:0,value:Number(o.toHsb().h),prefixCls:t,className:a,formatter:s=>vt(s||0).toString(),onChange:s=>i(Number(s),"h")}),E.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().s)*100,prefixCls:t,className:a,formatter:s=>`${vt(s||0)}%`,onChange:s=>i(Number(s),"s")}),E.createElement(Ye,{max:100,min:0,value:Number(o.toHsb().b)*100,prefixCls:t,className:a,formatter:s=>`${vt(s||0)}%`,onChange:s=>i(Number(s),"b")}))},Or=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-rgb-input`,[o,l]=c.useState(ke(n||"#000"));c.useEffect(()=>{n&&l(n)},[n]);const i=(s,u)=>{const d=o.toRgb();d[u]=s||0;const v=ke(d);n||l(v),r==null||r(v)};return E.createElement("div",{className:a},E.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().r),prefixCls:t,className:a,onChange:s=>i(Number(s),"r")}),E.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().g),prefixCls:t,className:a,onChange:s=>i(Number(s),"g")}),E.createElement(Ye,{max:255,min:0,value:Number(o.toRgb().b),prefixCls:t,className:a,onChange:s=>i(Number(s),"b")}))},jr=[Cn,Sn,bn].map(e=>({value:e,label:e.toUpperCase()})),Pr=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:a,onFormatChange:o,onChange:l,disabledFormat:i}=e,[s,u]=et(Cn,{value:n,onChange:o}),d=`${t}-input`,v=C=>{u(C)},$=c.useMemo(()=>{const C={value:r,prefixCls:t,onChange:l};switch(s){case Sn:return E.createElement(Er,Object.assign({},C));case bn:return E.createElement(Or,Object.assign({},C));default:return E.createElement($r,Object.assign({},C))}},[s,t,r,l]);return E.createElement("div",{className:`${d}-container`},!i&&E.createElement(Ke,{value:s,variant:"borderless",getPopupContainer:C=>C,popupMatchSelectWidth:68,placement:"bottomRight",onChange:v,className:`${t}-format-select`,size:"small",options:jr}),E.createElement("div",{className:d},$),!a&&E.createElement(Sr,{prefixCls:t,value:r,onChange:l}))};function Ct(e,t,n){return(e-t)/(n-t)}function xt(e,t,n,r){var a=Ct(t,n,r),o={};switch(e){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(e,t){return Array.isArray(e)?e[t]:e}var Ue=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),xn=c.createContext({}),Rr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Lt=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,a=e.valueIndex,o=e.onStartMove,l=e.onDelete,i=e.style,s=e.render,u=e.dragging,d=e.draggingDelete,v=e.onOffsetChange,$=e.onChangeComplete,C=e.onFocus,S=e.onMouseEnter,m=en(e,Rr),g=c.useContext(Ue),p=g.min,f=g.max,b=g.direction,h=g.disabled,x=g.keyboard,O=g.range,j=g.tabIndex,w=g.ariaLabelForHandle,D=g.ariaLabelledByForHandle,I=g.ariaRequired,P=g.ariaValueTextFormatterForHandle,M=g.styles,L=g.classNames,k="".concat(n,"-handle"),A=function(W){h||o(W,a)},_=function(W){C==null||C(W,a)},B=function(W){S(W,a)},X=function(W){if(!h&&x){var H=null;switch(W.which||W.keyCode){case ie.LEFT:H=b==="ltr"||b==="btt"?-1:1;break;case ie.RIGHT:H=b==="ltr"||b==="btt"?1:-1;break;case ie.UP:H=b!=="ttb"?1:-1;break;case ie.DOWN:H=b!=="ttb"?-1:1;break;case ie.HOME:H="min";break;case ie.END:H="max";break;case ie.PAGE_UP:H=2;break;case ie.PAGE_DOWN:H=-2;break;case ie.BACKSPACE:case ie.DELETE:l(a);break}H!==null&&(W.preventDefault(),v(H,a))}},F=function(W){switch(W.which||W.keyCode){case ie.LEFT:case ie.RIGHT:case ie.UP:case ie.DOWN:case ie.HOME:case ie.END:case ie.PAGE_UP:case ie.PAGE_DOWN:$==null||$();break}},Z=xt(b,r,p,f),ce={};if(a!==null){var te;ce={tabIndex:h?null:Xe(j,a),role:"slider","aria-valuemin":p,"aria-valuemax":f,"aria-valuenow":r,"aria-disabled":h,"aria-label":Xe(w,a),"aria-labelledby":Xe(D,a),"aria-required":Xe(I,a),"aria-valuetext":(te=Xe(P,a))===null||te===void 0?void 0:te(r),"aria-orientation":b==="ltr"||b==="rtl"?"horizontal":"vertical",onMouseDown:A,onTouchStart:A,onFocus:_,onMouseEnter:B,onKeyDown:X,onKeyUp:F}}var we=c.createElement("div",Ze({ref:t,className:U(k,Oe(Oe(Oe({},"".concat(k,"-").concat(a+1),a!==null&&O),"".concat(k,"-dragging"),u),"".concat(k,"-dragging-delete"),d),L.handle),style:me(me(me({},Z),i),M.handle)},ce,m));return s&&(we=s(we,{index:a,prefixCls:n,value:r,dragging:u,draggingDelete:d})),we}),wr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Mr=c.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,l=e.values,i=e.handleRender,s=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,v=e.onFocus,$=en(e,wr),C=c.useRef({}),S=c.useState(!1),m=ee(S,2),g=m[0],p=m[1],f=c.useState(-1),b=ee(f,2),h=b[0],x=b[1],O=function(P){x(P),p(!0)},j=function(P,M){O(M),v==null||v(P)},w=function(P,M){O(M)};c.useImperativeHandle(t,function(){return{focus:function(P){var M;(M=C.current[P])===null||M===void 0||M.focus()},hideHelp:function(){Ln.flushSync(function(){p(!1)})}}});var D=me({prefixCls:n,onStartMove:a,onOffsetChange:o,render:i,onFocus:j,onMouseEnter:w},$);return c.createElement(c.Fragment,null,l.map(function(I,P){var M=u===P;return c.createElement(Lt,Ze({ref:function(k){k?C.current[P]=k:delete C.current[P]},dragging:M,draggingDelete:M&&d,style:Xe(r,P),key:P,value:I,valueIndex:P},D))}),s&&g&&c.createElement(Lt,Ze({key:"a11y"},D,{value:l[h],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:s,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Dr=function(t){var n=t.prefixCls,r=t.style,a=t.children,o=t.value,l=t.onClick,i=c.useContext(Ue),s=i.min,u=i.max,d=i.direction,v=i.includedStart,$=i.includedEnd,C=i.included,S="".concat(n,"-text"),m=xt(d,o,s,u);return c.createElement("span",{className:U(S,Oe({},"".concat(S,"-active"),C&&v<=o&&o<=$)),style:me(me({},m),r),onMouseDown:function(p){p.stopPropagation()},onClick:function(){l(o)}},a)},kr=function(t){var n=t.prefixCls,r=t.marks,a=t.onClick,o="".concat(n,"-mark");return r.length?c.createElement("div",{className:o},r.map(function(l){var i=l.value,s=l.style,u=l.label;return c.createElement(Dr,{key:i,prefixCls:o,style:s,value:i,onClick:a},u)})):null},Ir=function(t){var n=t.prefixCls,r=t.value,a=t.style,o=t.activeStyle,l=c.useContext(Ue),i=l.min,s=l.max,u=l.direction,d=l.included,v=l.includedStart,$=l.includedEnd,C="".concat(n,"-dot"),S=d&&v<=r&&r<=$,m=me(me({},xt(u,r,i,s)),typeof a=="function"?a(r):a);return S&&(m=me(me({},m),typeof o=="function"?o(r):o)),c.createElement("span",{className:U(C,Oe({},"".concat(C,"-active"),S)),style:m})},Fr=function(t){var n=t.prefixCls,r=t.marks,a=t.dots,o=t.style,l=t.activeStyle,i=c.useContext(Ue),s=i.min,u=i.max,d=i.step,v=c.useMemo(function(){var $=new Set;if(r.forEach(function(S){$.add(S.value)}),a&&d!==null)for(var C=s;C<=u;)$.add(C),C+=d;return Array.from($)},[s,u,d,a,r]);return c.createElement("div",{className:"".concat(n,"-step")},v.map(function($){return c.createElement(Ir,{prefixCls:n,key:$,value:$,style:o,activeStyle:l})}))},zt=function(t){var n=t.prefixCls,r=t.style,a=t.start,o=t.end,l=t.index,i=t.onStartMove,s=t.replaceCls,u=c.useContext(Ue),d=u.direction,v=u.min,$=u.max,C=u.disabled,S=u.range,m=u.classNames,g="".concat(n,"-track"),p=Ct(a,v,$),f=Ct(o,v,$),b=function(j){!C&&i&&i(j,-1)},h={};switch(d){case"rtl":h.right="".concat(p*100,"%"),h.width="".concat(f*100-p*100,"%");break;case"btt":h.bottom="".concat(p*100,"%"),h.height="".concat(f*100-p*100,"%");break;case"ttb":h.top="".concat(p*100,"%"),h.height="".concat(f*100-p*100,"%");break;default:h.left="".concat(p*100,"%"),h.width="".concat(f*100-p*100,"%")}var x=s||U(g,Oe(Oe({},"".concat(g,"-").concat(l+1),l!==null&&S),"".concat(n,"-track-draggable"),i),m.track);return c.createElement("div",{className:x,style:me(me({},h),r),onMouseDown:b,onTouchStart:b})},Hr=function(t){var n=t.prefixCls,r=t.style,a=t.values,o=t.startPoint,l=t.onStartMove,i=c.useContext(Ue),s=i.included,u=i.range,d=i.min,v=i.styles,$=i.classNames,C=c.useMemo(function(){if(!u){if(a.length===0)return[];var m=o??d,g=a[0];return[{start:Math.min(m,g),end:Math.max(m,g)}]}for(var p=[],f=0;f<a.length-1;f+=1)p.push({start:a[f],end:a[f+1]});return p},[a,u,o,d]);if(!s)return null;var S=C!=null&&C.length&&($.tracks||v.tracks)?c.createElement(zt,{index:null,prefixCls:n,start:C[0].start,end:C[C.length-1].end,replaceCls:U($.tracks,"".concat(n,"-tracks")),style:v.tracks}):null;return c.createElement(c.Fragment,null,S,C.map(function(m,g){var p=m.start,f=m.end;return c.createElement(zt,{index:g,prefixCls:n,style:me(me({},Xe(r,g)),v.track),start:p,end:f,key:g,onStartMove:l})}))},Nr=130;function Gt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Ar(e,t,n,r,a,o,l,i,s,u,d){var v=c.useState(null),$=ee(v,2),C=$[0],S=$[1],m=c.useState(-1),g=ee(m,2),p=g[0],f=g[1],b=c.useState(!1),h=ee(b,2),x=h[0],O=h[1],j=c.useState(n),w=ee(j,2),D=w[0],I=w[1],P=c.useState(n),M=ee(P,2),L=M[0],k=M[1],A=c.useRef(null),_=c.useRef(null),B=c.useRef(null),X=c.useContext(xn),F=X.onDragStart,Z=X.onDragChange;pt(function(){p===-1&&I(n)},[n,p]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",A.current),document.removeEventListener("mouseup",_.current),B.current&&(B.current.removeEventListener("touchmove",A.current),B.current.removeEventListener("touchend",_.current))}},[]);var ce=function(H,T,J){T!==void 0&&S(T),I(H);var ue=H;J&&(ue=H.filter(function(Y,re){return re!==p})),l(ue),Z&&Z({rawValues:H,deleteIndex:J?p:-1,draggingIndex:p,draggingValue:T})},te=Be(function(W,H,T){if(W===-1){var J=L[0],ue=L[L.length-1],Y=r-J,re=a-ue,ae=H*(a-r);ae=Math.max(ae,Y),ae=Math.min(ae,re);var pe=o(J+ae);ae=pe-J;var ye=L.map(function(be){return be+ae});ce(ye)}else{var $e=(a-r)*H,Ce=Ee(D);Ce[W]=L[W];var je=s(Ce,$e,W,"dist");ce(je.values,je.value,T)}}),we=function(H,T,J){H.stopPropagation();var ue=J||n,Y=ue[T];f(T),S(Y),k(ue),I(ue),O(!1);var re=Gt(H),ae=re.pageX,pe=re.pageY,ye=!1;F&&F({rawValues:ue,draggingIndex:T,draggingValue:Y});var $e=function(be){be.preventDefault();var fe=Gt(be),He=fe.pageX,Ne=fe.pageY,Ie=He-ae,Se=Ne-pe,q=e.current.getBoundingClientRect(),oe=q.width,Pe=q.height,Re,ve;switch(t){case"btt":Re=-Se/Pe,ve=Ie;break;case"ttb":Re=Se/Pe,ve=Ie;break;case"rtl":Re=-Ie/oe,ve=Se;break;default:Re=Ie/oe,ve=Se}ye=u?Math.abs(ve)>Nr&&d<D.length:!1,O(ye),te(T,Re,ye)},Ce=function je(be){be.preventDefault(),document.removeEventListener("mouseup",je),document.removeEventListener("mousemove",$e),B.current&&(B.current.removeEventListener("touchmove",A.current),B.current.removeEventListener("touchend",_.current)),A.current=null,_.current=null,B.current=null,i(ye),f(-1),O(!1)};document.addEventListener("mouseup",Ce),document.addEventListener("mousemove",$e),H.currentTarget.addEventListener("touchend",Ce),H.currentTarget.addEventListener("touchmove",$e),A.current=$e,_.current=Ce,B.current=H.currentTarget},ne=c.useMemo(function(){var W=Ee(n).sort(function(Y,re){return Y-re}),H=Ee(D).sort(function(Y,re){return Y-re}),T={};H.forEach(function(Y){T[Y]=(T[Y]||0)+1}),W.forEach(function(Y){T[Y]=(T[Y]||0)-1});var J=u?1:0,ue=Object.values(T).reduce(function(Y,re){return Y+Math.abs(re)},0);return ue<=J?D:n},[n,D,u]);return[p,C,x,ne,we]}function Br(e,t,n,r,a,o){var l=c.useCallback(function(C){return Math.max(e,Math.min(t,C))},[e,t]),i=c.useCallback(function(C){if(n!==null){var S=e+Math.round((l(C)-e)/n)*n,m=function(b){return(String(b).split(".")[1]||"").length},g=Math.max(m(n),m(t),m(e)),p=Number(S.toFixed(g));return e<=p&&p<=t?p:null}return null},[n,e,t,l]),s=c.useCallback(function(C){var S=l(C),m=r.map(function(f){return f.value});n!==null&&m.push(i(C)),m.push(e,t);var g=m[0],p=t-e;return m.forEach(function(f){var b=Math.abs(S-f);b<=p&&(g=f,p=b)}),g},[e,t,r,n,l,i]),u=function C(S,m,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var f,b=S[g],h=b+m,x=[];r.forEach(function(I){x.push(I.value)}),x.push(e,t),x.push(i(b));var O=m>0?1:-1;p==="unit"?x.push(i(b+O*n)):x.push(i(h)),x=x.filter(function(I){return I!==null}).filter(function(I){return m<0?I<=b:I>=b}),p==="unit"&&(x=x.filter(function(I){return I!==b}));var j=p==="unit"?b:h;f=x[0];var w=Math.abs(f-j);if(x.forEach(function(I){var P=Math.abs(I-j);P<w&&(f=I,w=P)}),f===void 0)return m<0?e:t;if(p==="dist")return f;if(Math.abs(m)>1){var D=Ee(S);return D[g]=f,C(D,m-O,g,p)}return f}else{if(m==="min")return e;if(m==="max")return t}},d=function(S,m,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=S[g],b=u(S,m,g,p);return{value:b,changed:b!==f}},v=function(S){return o===null&&S===0||typeof o=="number"&&S<o},$=function(S,m,g){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=S.map(s),b=f[g],h=u(f,m,g,p);if(f[g]=h,a===!1){var x=o||0;g>0&&f[g-1]!==b&&(f[g]=Math.max(f[g],f[g-1]+x)),g<f.length-1&&f[g+1]!==b&&(f[g]=Math.min(f[g],f[g+1]-x))}else if(typeof o=="number"||o===null){for(var O=g+1;O<f.length;O+=1)for(var j=!0;v(f[O]-f[O-1])&&j;){var w=d(f,1,O);f[O]=w.value,j=w.changed}for(var D=g;D>0;D-=1)for(var I=!0;v(f[D]-f[D-1])&&I;){var P=d(f,-1,D-1);f[D-1]=P.value,I=P.changed}for(var M=f.length-1;M>0;M-=1)for(var L=!0;v(f[M]-f[M-1])&&L;){var k=d(f,-1,M-1);f[M-1]=k.value,L=k.changed}for(var A=0;A<f.length-1;A+=1)for(var _=!0;v(f[A+1]-f[A])&&_;){var B=d(f,1,A+1);f[A+1]=B.value,_=B.changed}}return{value:f[g],values:f}};return[s,$]}function _r(e){return c.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,a=e.maxCount;return[!0,t,!t&&n,r||0,a]},[e])}var Tr=c.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,a=e.className,o=e.style,l=e.classNames,i=e.styles,s=e.id,u=e.disabled,d=u===void 0?!1:u,v=e.keyboard,$=v===void 0?!0:v,C=e.autoFocus,S=e.onFocus,m=e.onBlur,g=e.min,p=g===void 0?0:g,f=e.max,b=f===void 0?100:f,h=e.step,x=h===void 0?1:h,O=e.value,j=e.defaultValue,w=e.range,D=e.count,I=e.onChange,P=e.onBeforeChange,M=e.onAfterChange,L=e.onChangeComplete,k=e.allowCross,A=k===void 0?!0:k,_=e.pushable,B=_===void 0?!1:_,X=e.reverse,F=e.vertical,Z=e.included,ce=Z===void 0?!0:Z,te=e.startPoint,we=e.trackStyle,ne=e.handleStyle,W=e.railStyle,H=e.dotStyle,T=e.activeDotStyle,J=e.marks,ue=e.dots,Y=e.handleRender,re=e.activeHandleRender,ae=e.track,pe=e.tabIndex,ye=pe===void 0?0:pe,$e=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,je=e.ariaRequired,be=e.ariaValueTextFormatterForHandle,fe=c.useRef(null),He=c.useRef(null),Ne=c.useMemo(function(){return F?X?"ttb":"btt":X?"rtl":"ltr"},[X,F]),Ie=_r(w),Se=ee(Ie,5),q=Se[0],oe=Se[1],Pe=Se[2],Re=Se[3],ve=Se[4],he=c.useMemo(function(){return isFinite(p)?p:0},[p]),Fe=c.useMemo(function(){return isFinite(b)?b:100},[b]),Me=c.useMemo(function(){return x!==null&&x<=0?1:x},[x]),le=c.useMemo(function(){return typeof B=="boolean"?B?Me:!1:B>=0?B:!1},[B,Me]),de=c.useMemo(function(){return Object.keys(J||{}).map(function(G){var R=J[G],V={value:Number(G)};return R&&zn(R)==="object"&&!c.isValidElement(R)&&("label"in R||"style"in R)?(V.style=R.style,V.label=R.label):V.label=R,V}).filter(function(G){var R=G.label;return R||typeof R=="number"}).sort(function(G,R){return G.value-R.value})},[J]),tt=Br(he,Fe,Me,de,A,le),qe=ee(tt,2),K=qe[0],ge=qe[1],De=et(j,{value:O}),jt=ee(De,2),ze=jt[0],Pn=jt[1],xe=c.useMemo(function(){var G=ze==null?[]:Array.isArray(ze)?ze:[ze],R=ee(G,1),V=R[0],Q=V===void 0?he:V,se=ze===null?[]:[Q];if(q){if(se=Ee(G),D||ze===void 0){var Ge=D>=0?D+1:2;for(se=se.slice(0,Ge);se.length<Ge;){var _e;se.push((_e=se[se.length-1])!==null&&_e!==void 0?_e:he)}}se.sort(function(Te,Le){return Te-Le})}return se.forEach(function(Te,Le){se[Le]=K(Te)}),se},[ze,q,he,D,K]),Je=function(R){return q?R:R[0]},ot=Be(function(G){var R=Ee(G).sort(function(V,Q){return V-Q});I&&!Gn(R,xe,!0)&&I(Je(R)),Pn(R)}),Pt=Be(function(G){G&&fe.current.hideHelp();var R=Je(xe);M==null||M(R),_t(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(R)}),Rn=function(R){if(!(d||!oe||xe.length<=Re)){var V=Ee(xe);V.splice(R,1),P==null||P(Je(V)),ot(V);var Q=Math.max(0,R-1);fe.current.hideHelp(),fe.current.focus(Q)}},wn=Ar(He,Ne,xe,he,Fe,K,ot,Pt,ge,oe,Re),nt=ee(wn,5),Rt=nt[0],Mn=nt[1],Dn=nt[2],mt=nt[3],wt=nt[4],Mt=function(R,V){if(!d){var Q=Ee(xe),se=0,Ge=0,_e=Fe-he;xe.forEach(function(We,lt){var Bt=Math.abs(R-We);Bt<=_e&&(_e=Bt,se=lt),We<R&&(Ge=lt)});var Te=se;oe&&_e!==0&&(!ve||xe.length<ve)?(Q.splice(Ge+1,0,R),Te=Ge+1):Q[se]=R,q&&!xe.length&&D===void 0&&Q.push(R);var Le=Je(Q);if(P==null||P(Le),ot(Q),V){var Ve,Qe;(Ve=document.activeElement)===null||Ve===void 0||(Qe=Ve.blur)===null||Qe===void 0||Qe.call(Ve),fe.current.focus(Te),wt(V,Te,Q)}else M==null||M(Le),_t(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Le)}},kn=function(R){R.preventDefault();var V=He.current.getBoundingClientRect(),Q=V.width,se=V.height,Ge=V.left,_e=V.top,Te=V.bottom,Le=V.right,Ve=R.clientX,Qe=R.clientY,We;switch(Ne){case"btt":We=(Te-Qe)/se;break;case"ttb":We=(Qe-_e)/se;break;case"rtl":We=(Le-Ve)/Q;break;default:We=(Ve-Ge)/Q}var lt=he+We*(Fe-he);Mt(K(lt),R)},In=c.useState(null),Dt=ee(In,2),ft=Dt[0],kt=Dt[1],Fn=function(R,V){if(!d){var Q=ge(xe,R,V);P==null||P(Je(xe)),ot(Q.values),kt(Q.value)}};c.useEffect(function(){if(ft!==null){var G=xe.indexOf(ft);G>=0&&fe.current.focus(G)}kt(null)},[ft]);var Hn=c.useMemo(function(){return Pe&&Me===null?!1:Pe},[Pe,Me]),It=Be(function(G,R){wt(G,R),P==null||P(Je(xe))}),Ft=Rt!==-1;c.useEffect(function(){if(!Ft){var G=xe.lastIndexOf(Mn);fe.current.focus(G)}},[Ft]);var rt=c.useMemo(function(){return Ee(mt).sort(function(G,R){return G-R})},[mt]),Nn=c.useMemo(function(){return q?[rt[0],rt[rt.length-1]]:[he,rt[0]]},[rt,q,he]),Ht=ee(Nn,2),Nt=Ht[0],At=Ht[1];c.useImperativeHandle(t,function(){return{focus:function(){fe.current.focus(0)},blur:function(){var R,V=document,Q=V.activeElement;(R=He.current)!==null&&R!==void 0&&R.contains(Q)&&(Q==null||Q.blur())}}}),c.useEffect(function(){C&&fe.current.focus(0)},[]);var An=c.useMemo(function(){return{min:he,max:Fe,direction:Ne,disabled:d,keyboard:$,step:Me,included:ce,includedStart:Nt,includedEnd:At,range:q,tabIndex:ye,ariaLabelForHandle:$e,ariaLabelledByForHandle:Ce,ariaRequired:je,ariaValueTextFormatterForHandle:be,styles:i||{},classNames:l||{}}},[he,Fe,Ne,d,$,Me,ce,Nt,At,q,ye,$e,Ce,je,be,i,l]);return c.createElement(Ue.Provider,{value:An},c.createElement("div",{ref:He,className:U(r,a,Oe(Oe(Oe(Oe({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),F),"".concat(r,"-horizontal"),!F),"".concat(r,"-with-marks"),de.length)),style:o,onMouseDown:kn,id:s},c.createElement("div",{className:U("".concat(r,"-rail"),l==null?void 0:l.rail),style:me(me({},W),i==null?void 0:i.rail)}),ae!==!1&&c.createElement(Hr,{prefixCls:r,style:we,values:xe,startPoint:te,onStartMove:Hn?It:void 0}),c.createElement(Fr,{prefixCls:r,marks:de,dots:ue,style:H,activeStyle:T}),c.createElement(Mr,{ref:fe,prefixCls:r,style:ne,values:mt,draggingIndex:Rt,draggingDelete:Dn,onStartMove:It,onOffsetChange:Fn,onFocus:S,onBlur:m,handleRender:Y,activeHandleRender:re,onChangeComplete:Pt,onDelete:oe?Rn:void 0}),c.createElement(kr,{prefixCls:r,marks:de,onClick:Mt})))});const yn=c.createContext({}),Wt=c.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,a=c.useRef(null),o=n&&!r,l=c.useRef(null);function i(){at.cancel(l.current),l.current=null}function s(){l.current=at(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),l.current=null})}return c.useEffect(()=>(o?s():i(),i),[o,e.title]),c.createElement(Wn,Object.assign({ref:qn(a,t)},e,{open:o}))}),Lr=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:o,marginPart:l,colorFillContentHover:i,handleColorDisabled:s,calc:u,handleSize:d,handleSizeHover:v,handleActiveColor:$,handleActiveOutlineColor:C,handleLineWidth:S,handleLineWidthHover:m,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},Vn(e)),{position:"relative",height:r,margin:`${z(l)} ${z(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${z(o)} ${z(l)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:i},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${z(S)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(S).mul(-1).equal(),insetBlockStart:u(S).mul(-1).equal(),width:u(d).add(u(S).mul(2)).equal(),height:u(d).add(u(S).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${z(S)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${g},
            inset-block-start ${g},
            width ${g},
            height ${g},
            box-shadow ${g},
            outline ${g}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(v).sub(d).div(2).add(m).mul(-1).equal(),insetBlockStart:u(v).sub(d).div(2).add(m).mul(-1).equal(),width:u(v).add(u(m).mul(2)).equal(),height:u(v).add(u(m).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${z(m)} ${$}`,outline:`6px solid ${C}`,width:v,height:v,insetInlineStart:e.calc(d).sub(v).div(2).equal(),insetBlockStart:e.calc(d).sub(v).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:`${z(S)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${z(S)} ${s}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},$n=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:o,marginFull:l,calc:i}=e,s=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",v=t?"insetBlockStart":"insetInlineStart",$=t?"top":"insetInlineStart",C=i(r).mul(3).sub(a).div(2).equal(),S=i(a).sub(r).div(2).equal(),m=t?{borderWidth:`${z(S)} 0`,transform:`translateY(${z(i(S).mul(-1).equal())})`}:{borderWidth:`0 ${z(S)}`,transform:`translateX(${z(e.calc(S).mul(-1).equal())})`};return{[s]:r,[d]:i(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},m),[`${n}-handle`]:{[v]:C},[`${n}-mark`]:{insetInlineStart:0,top:0,[$]:i(r).mul(3).add(t?0:l).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[$]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[v]:i(r).sub(o).div(2).equal()}}},zr=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},$n(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Gr=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},$n(e,!1)),{height:"100%"})}},Wr=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,a=e.lineWidth+1,o=e.lineWidth+1*1.5,l=e.colorPrimary,i=new Tt(l).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:l,handleActiveOutlineColor:i,handleColorDisabled:new Tt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},qr=tn("Slider",e=>{const t=nn(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Lr(t),zr(t),Gr(t)]},Wr);function ht(){const[e,t]=c.useState(!1),n=c.useRef(null),r=()=>{at.cancel(n.current)},a=o=>{r(),o?t(o):n.current=at(()=>{t(o)})};return c.useEffect(()=>r,[]),[e,a]}var Vr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Xr(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Yr=E.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:a,rootClassName:o,style:l,disabled:i,tooltipPrefixCls:s,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:v,tooltipPlacement:$,tooltip:C={},onChangeComplete:S,classNames:m,styles:g}=e,p=Vr(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:f}=e,{getPrefixCls:b,direction:h,className:x,style:O,classNames:j,styles:w,getPopupContainer:D}=Xn("slider"),I=E.useContext(rn),P=i??I,{handleRender:M,direction:L}=E.useContext(yn),A=(L||h)==="rtl",[_,B]=ht(),[X,F]=ht(),Z=Object.assign({},C),{open:ce,placement:te,getPopupContainer:we,prefixCls:ne,formatter:W}=Z,H=ce??d,T=(_||X)&&H!==!1,J=Xr(W,u),[ue,Y]=ht(),re=q=>{S==null||S(q),Y(!1)},ae=(q,oe)=>q||(oe?A?"left":"right":"top"),pe=b("slider",n),[ye,$e,Ce]=qr(pe),je=U(a,x,j.root,m==null?void 0:m.root,o,{[`${pe}-rtl`]:A,[`${pe}-lock`]:ue},$e,Ce);A&&!p.vertical&&(p.reverse=!p.reverse),E.useEffect(()=>{const q=()=>{at(()=>{F(!1)},1)};return document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}},[]);const be=r&&!H,fe=M||((q,oe)=>{const{index:Pe}=oe,Re=q.props;function ve(le,de,tt){var qe,K,ge,De;tt&&((K=(qe=p)[le])===null||K===void 0||K.call(qe,de)),(De=(ge=Re)[le])===null||De===void 0||De.call(ge,de)}const he=Object.assign(Object.assign({},Re),{onMouseEnter:le=>{B(!0),ve("onMouseEnter",le)},onMouseLeave:le=>{B(!1),ve("onMouseLeave",le)},onMouseDown:le=>{F(!0),Y(!0),ve("onMouseDown",le)},onFocus:le=>{var de;F(!0),(de=p.onFocus)===null||de===void 0||de.call(p,le),ve("onFocus",le,!0)},onBlur:le=>{var de;F(!1),(de=p.onBlur)===null||de===void 0||de.call(p,le),ve("onBlur",le,!0)}}),Fe=E.cloneElement(q,he),Me=(!!H||T)&&J!==null;return be?Fe:E.createElement(Wt,Object.assign({},Z,{prefixCls:b("tooltip",ne??s),title:J?J(oe.value):"",open:Me,placement:ae(te??$,f),key:Pe,classNames:{root:`${pe}-tooltip`},getPopupContainer:we||v||D}),Fe)}),He=be?(q,oe)=>{const Pe=E.cloneElement(q,{style:Object.assign(Object.assign({},q.props.style),{visibility:"hidden"})});return E.createElement(Wt,Object.assign({},Z,{prefixCls:b("tooltip",ne??s),title:J?J(oe.value):"",open:J!==null&&T,placement:ae(te??$,f),key:"tooltip",classNames:{root:`${pe}-tooltip`},getPopupContainer:we||v||D,draggingDelete:oe.draggingDelete}),Pe)}:void 0,Ne=Object.assign(Object.assign(Object.assign(Object.assign({},w.root),O),g==null?void 0:g.root),l),Ie=Object.assign(Object.assign({},w.tracks),g==null?void 0:g.tracks),Se=U(j.tracks,m==null?void 0:m.tracks);return ye(E.createElement(Tr,Object.assign({},p,{classNames:Object.assign({handle:U(j.handle,m==null?void 0:m.handle),rail:U(j.rail,m==null?void 0:m.rail),track:U(j.track,m==null?void 0:m.track)},Se?{tracks:Se}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},w.handle),g==null?void 0:g.handle),rail:Object.assign(Object.assign({},w.rail),g==null?void 0:g.rail),track:Object.assign(Object.assign({},w.track),g==null?void 0:g.track)},Object.keys(Ie).length?{tracks:Ie}:{}),step:p.step,range:r,className:je,style:Ne,disabled:P,ref:t,prefixCls:pe,handleRender:fe,activeHandleRender:He,onChangeComplete:re})))});var Kr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const En=e=>{const{prefixCls:t,colors:n,type:r,color:a,range:o=!1,className:l,activeIndex:i,onActive:s,onDragStart:u,onDragChange:d,onKeyDelete:v}=e,$=Kr(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),C=Object.assign(Object.assign({},$),{track:!1}),S=c.useMemo(()=>`linear-gradient(90deg, ${n.map(O=>`${O.color} ${O.percent}%`).join(", ")})`,[n]),m=c.useMemo(()=>!a||!r?null:r==="alpha"?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`,[a,r]),g=Be(u),p=Be(d),f=c.useMemo(()=>({onDragStart:g,onDragChange:p}),[]),b=Be((x,O)=>{const{onFocus:j,style:w,className:D,onKeyDown:I}=x.props,P=Object.assign({},w);return r==="gradient"&&(P.background=an(n,O.value)),c.cloneElement(x,{onFocus:M=>{s==null||s(O.index),j==null||j(M)},style:P,className:U(D,{[`${t}-slider-handle-active`]:i===O.index}),onKeyDown:M=>{(M.key==="Delete"||M.key==="Backspace")&&v&&v(O.index),I==null||I(M)}})}),h=c.useMemo(()=>({direction:"ltr",handleRender:b}),[]);return c.createElement(yn.Provider,{value:h},c.createElement(xn.Provider,{value:f},c.createElement(Yr,Object.assign({},C,{className:U(l,`${t}-slider`),tooltip:{open:!1},range:{editable:o,minCount:2},styles:{rail:{background:S},handle:m?{background:m}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},Ur=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,a=l=>n(l[0]),o=l=>r(l[0]);return c.createElement(En,Object.assign({},e,{value:[t],onChange:a,onChangeComplete:o}))};function qt(e){return Ee(e).sort((t,n)=>t.percent-n.percent)}const Jr=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:a,onActive:o,activeIndex:l,onGradientDragging:i,colors:s}=e,u=n==="gradient",d=c.useMemo(()=>s.map(p=>({percent:p.percent,color:p.color.toRgbString()})),[s]),v=c.useMemo(()=>d.map(p=>p.percent),[d]),$=c.useRef(d),C=p=>{let{rawValues:f,draggingIndex:b,draggingValue:h}=p;if(f.length>d.length){const x=an(d,h),O=Ee(d);O.splice(b,0,{percent:h,color:x}),$.current=O}else $.current=d;i(!0),r(new Ae(qt($.current)),!0)},S=p=>{let{deleteIndex:f,draggingIndex:b,draggingValue:h}=p,x=Ee($.current);f!==-1?x.splice(f,1):(x[b]=Object.assign(Object.assign({},x[b]),{percent:h}),x=qt(x)),r(new Ae(x),!0)},m=p=>{const f=Ee(d);f.splice(p,1);const b=new Ae(f);r(b),a(b)},g=p=>{a(new Ae(d)),l>=p.length&&o(p.length-1),i(!1)};return u?c.createElement(En,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:v,range:!0,onChangeComplete:g,disabled:!1,type:"gradient",activeIndex:l,onActive:o,onDragStart:C,onDragChange:S,onKeyDelete:m}):null},Qr=c.memo(Jr);var Zr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ea={slider:Ur},Vt=()=>{const e=c.useContext(vn),{mode:t,onModeChange:n,modeOptions:r,prefixCls:a,allowClear:o,value:l,disabledAlpha:i,onChange:s,onClear:u,onChangeComplete:d,activeIndex:v,gradientDragging:$}=e,C=Zr(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),S=E.useMemo(()=>l.cleared?[{percent:0,color:new Ae("")},{percent:100,color:new Ae("")}]:l.getColors(),[l]),m=!l.isGradient(),[g,p]=E.useState(l);pt(()=>{var k;m||p((k=S[v])===null||k===void 0?void 0:k.color)},[$,v]);const f=E.useMemo(()=>{var k;return m?l:$?g:(k=S[v])===null||k===void 0?void 0:k.color},[l,v,m,g,$]),[b,h]=E.useState(f),[x,O]=E.useState(0),j=b!=null&&b.equals(f)?f:b;pt(()=>{h(f)},[x,f==null?void 0:f.toHexString()]);const w=(k,A)=>{let _=ke(k);if(l.cleared){const X=_.toRgb();if(!X.r&&!X.g&&!X.b&&A){const{type:F,value:Z=0}=A;_=new Ae({h:F==="hue"?Z:0,s:1,b:1,a:F==="alpha"?Z/100:1})}else _=ct(_)}if(t==="single")return _;const B=Ee(S);return B[v]=Object.assign(Object.assign({},B[v]),{color:_}),new Ae(B)},D=(k,A,_)=>{const B=w(k,_);h(B.isGradient()?B.getColors()[v].color:B),s(B,A)},I=(k,A)=>{d(w(k,A)),O(_=>_+1)},P=k=>{s(w(k))};let M=null;const L=r.length>1;return(o||L)&&(M=E.createElement("div",{className:`${a}-operation`},L&&E.createElement(dr,{size:"small",options:r,value:t,onChange:n}),E.createElement(pn,Object.assign({prefixCls:a,value:l,onChange:k=>{s(k),u==null||u()}},C)))),E.createElement(E.Fragment,null,M,E.createElement(Qr,Object.assign({},e,{colors:S})),E.createElement(br,{prefixCls:a,value:j==null?void 0:j.toHsb(),disabledAlpha:i,onChange:(k,A)=>{D(k,!0,A)},onChangeComplete:(k,A)=>{I(k,A)},components:ea}),E.createElement(Pr,Object.assign({value:f,onChange:P,prefixCls:a,disabledAlpha:i},C)))},Xt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=c.useContext(hn);return Array.isArray(n)?E.createElement(Yn,{value:t,presets:n,prefixCls:e,onChange:r}):null},ta=e=>{const{prefixCls:t,presets:n,panelRender:r,value:a,onChange:o,onClear:l,allowClear:i,disabledAlpha:s,mode:u,onModeChange:d,modeOptions:v,onChangeComplete:$,activeIndex:C,onActive:S,format:m,onFormatChange:g,gradientDragging:p,onGradientDragging:f,disabledFormat:b}=e,h=`${t}-inner`,x=E.useMemo(()=>({prefixCls:t,value:a,onChange:o,onClear:l,allowClear:i,disabledAlpha:s,mode:u,onModeChange:d,modeOptions:v,onChangeComplete:$,activeIndex:C,onActive:S,format:m,onFormatChange:g,gradientDragging:p,onGradientDragging:f,disabledFormat:b}),[t,a,o,l,i,s,u,d,v,$,C,S,m,g,p,f,b]),O=E.useMemo(()=>({prefixCls:t,value:a,presets:n,onChange:o}),[t,a,n,o]),j=E.createElement("div",{className:`${h}-content`},E.createElement(Vt,null),Array.isArray(n)&&E.createElement(on,null),E.createElement(Xt,null));return E.createElement(vn.Provider,{value:x},E.createElement(hn.Provider,{value:O},E.createElement("div",{className:h},typeof r=="function"?r(j,{components:{Picker:Vt,Presets:Xt}}):j)))};var na=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ra=c.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:a,disabled:o,format:l,className:i,showText:s,activeIndex:u}=e,d=na(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),v=`${r}-trigger`,$=`${v}-text`,C=`${$}-cell`,[S]=ln("ColorPicker"),m=E.useMemo(()=>{if(!s)return"";if(typeof s=="function")return s(n);if(n.cleared)return S.transparent;if(n.isGradient())return n.getColors().map((b,h)=>{const x=u!==-1&&u!==h;return E.createElement("span",{key:h,className:U(C,x&&`${C}-inactive`)},b.color.toRgbString()," ",b.percent,"%")});const p=n.toHexString().toUpperCase(),f=St(n);switch(l){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return f<100?`${p.slice(0,7)},${f}%`:p}},[n,l,s,u]),g=c.useMemo(()=>n.cleared?E.createElement(pn,{prefixCls:r}):E.createElement(Zt,{prefixCls:r,color:n.toCssString()}),[n,r]);return E.createElement("div",Object.assign({ref:t,className:U(v,i,{[`${v}-active`]:a,[`${v}-disabled`]:o})},Kn(d)),g,s&&E.createElement("div",{className:$},m))});function aa(e,t,n){const[r]=ln("ColorPicker"),[a,o]=et(e,{value:t}),[l,i]=c.useState("single"),[s,u]=c.useMemo(()=>{const m=(Array.isArray(n)?n:[n]).filter(b=>b);m.length||m.push("single");const g=new Set(m),p=[],f=(b,h)=>{g.has(b)&&p.push({label:h,value:b})};return f("single",r.singleColor),f("gradient",r.gradientColor),[p,g]},[n]),[d,v]=c.useState(null),$=Be(m=>{v(m),o(m)}),C=c.useMemo(()=>{const m=ke(a||"");return m.equals(d)?d:m},[a,d]),S=c.useMemo(()=>{var m;return u.has(l)?l:(m=s[0])===null||m===void 0?void 0:m.value},[u,l,s]);return c.useEffect(()=>{i(C.isGradient()?"gradient":"single")},[C]),[C,$,S,i,s]}const On=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),Yt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:a,lineWidth:o,colorFillSecondary:l}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:a,flex:"none"},On("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${z(o)} ${l}`,borderRadius:"inherit"}})}},oa=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:a,colorPickerAlphaInputWidth:o,marginXXS:l,paddingXXS:i,controlHeightSM:s,marginXS:u,fontSizeIcon:d,paddingXS:v,colorTextPlaceholder:$,colorPickerInputNumberHandleWidth:C,lineWidth:S}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:a,[`${n}-input-number-input`]:{paddingInlineStart:i,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:C}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${z(o)}`,marginInlineStart:l},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(l).equal(),fontSize:r,lineHeight:z(s)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:a},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:l,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:l,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${z(v)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:z(e.calc(s).sub(e.calc(S).mul(2)).equal())},[`${n}-input-prefix`]:{color:$}}}}}},la=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:a,marginSM:o,colorBgElevated:l,colorFillSecondary:i,lineWidthBold:s,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:a,inset:0},marginBottom:o},[`${t}-handler`]:{width:u,height:u,border:`${z(s)} solid ${l}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${a}, 0 0 0 1px ${i}`}}},sa=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:a,colorPickerPresetColorSize:o,fontSizeSM:l,colorText:i,lineHeightSM:s,lineWidth:u,borderRadius:d,colorFill:v,colorWhite:$,marginXXS:C,paddingXS:S,fontHeightSM:m}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:m,color:r,paddingInlineEnd:a}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:C},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${z(S)} 0`},"&-label":{fontSize:l,color:i,lineHeight:s},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(C).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:o,height:o,"&::before":{content:'""',pointerEvents:"none",width:e.calc(o).add(e.calc(u).mul(4)).equal(),height:e.calc(o).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${z(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:v},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(o).div(13).mul(5).equal(),height:e.calc(o).div(13).mul(8).equal(),border:`${z(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:$,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:l,color:r}}}},ia=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:a,lineWidthBold:o,colorPickerHandlerSizeSM:l,colorPickerSliderHeight:i,marginSM:s,marginXS:u}=e,d=e.calc(l).sub(e.calc(o).mul(2).equal()).equal(),v=e.calc(l).add(e.calc(o).mul(2).equal()).equal(),$={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[On(z(i),e.colorFillSecondary),{margin:0,padding:0,height:i,borderRadius:e.calc(i).div(2).equal(),"&-rail":{height:i,borderRadius:e.calc(i).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:v,height:v,borderRadius:"100%"},"&:after":{width:l,height:l,border:`${z(o)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${a}`,outline:"none",insetInlineStart:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":$}}],[`${t}-slider-container`]:{display:"flex",gap:s,marginBottom:s,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":$}}}},bt=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${z(e.controlOutlineWidth)} ${n}`,outline:0}),ca=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Kt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:a,lineWidth:o,colorSplit:l,colorBorder:i,red6:s}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:a,border:`${z(o)} solid ${l}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(o).mul(-1).equal(),top:e.calc(o).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:s},"&:hover":{borderColor:i}})}},ua=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:a,colorWarningHover:o,colorErrorOutline:l,colorWarningOutline:i}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},bt(e,n,l))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},bt(e,r,i))}}},da=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:a,controlHeightXS:o,borderRadius:l,borderRadiusSM:i,borderRadiusXS:s,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:l},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:i,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:s},[`${t}-trigger-text`]:{lineHeight:z(o)}}}},ga=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:a,motionDurationMid:o,colorBgElevated:l,colorTextDisabled:i,colorText:s,colorBgContainerDisabled:u,borderRadius:d,marginXS:v,marginSM:$,controlHeight:C,controlHeightSM:S,colorBgTextActive:m,colorPickerPresetColorSize:g,colorPickerPreviewSize:p,lineWidth:f,colorBorder:b,paddingXXS:h,fontSize:x,colorPrimaryHover:O,controlOutline:j}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${z($)} 0 ${z(v)}`}},[`${n}-panel`]:Object.assign({},la(e))},ia(e)),Yt(e,p)),oa(e)),sa(e)),Kt(e,g,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:v}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:C,minHeight:C,borderRadius:d,border:`${z(f)} solid ${b}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${o}`,background:l,padding:e.calc(h).sub(f).equal(),[`${n}-trigger-text`]:{marginInlineStart:v,marginInlineEnd:e.calc(v).sub(e.calc(h).sub(f)).equal(),fontSize:x,color:s,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:i}}},"&:hover":{borderColor:O},[`&${n}-trigger-active`]:Object.assign({},bt(e,a,j)),"&-disabled":{color:i,background:u,cursor:"not-allowed","&:hover":{borderColor:m},[`${n}-trigger-text`]:{color:i}}},Kt(e,S)),Yt(e,S)),ua(e)),da(e))},ca(e))},Un(e,{focusElCls:`${n}-trigger-active`})]},ma=tn("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,a=nn(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[ga(a)]});var fa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const yt=e=>{const{mode:t,value:n,defaultValue:r,format:a,defaultFormat:o,allowClear:l=!1,presets:i,children:s,trigger:u="click",open:d,disabled:v,placement:$="bottomLeft",arrow:C=!0,panelRender:S,showText:m,style:g,className:p,size:f,rootClassName:b,prefixCls:h,styles:x,disabledAlpha:O=!1,onFormatChange:j,onChange:w,onClear:D,onOpenChange:I,onChangeComplete:P,getPopupContainer:M,autoAdjustOverflow:L=!0,destroyTooltipOnHide:k,disabledFormat:A}=e,_=fa(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:B,direction:X,colorPicker:F}=c.useContext(Jn),Z=c.useContext(rn),ce=v??Z,[te,we]=et(!1,{value:d,postState:K=>!ce&&K,onChange:I}),[ne,W]=et(a,{value:a,defaultValue:o,onChange:j}),H=B("color-picker",h),[T,J,ue,Y,re]=aa(r,n,t),ae=c.useMemo(()=>St(T)<100,[T]),[pe,ye]=E.useState(null),$e=K=>{if(P){let ge=ke(K);O&&ae&&(ge=ct(K)),P(ge)}},Ce=(K,ge)=>{let De=ke(K);O&&ae&&(De=ct(De)),J(De),ye(null),w&&w(De,De.toCssString()),ge||$e(De)},[je,be]=E.useState(0),[fe,He]=E.useState(!1),Ne=K=>{if(Y(K),K==="single"&&T.isGradient())be(0),Ce(new Ae(T.getColors()[0].color)),ye(T);else if(K==="gradient"&&!T.isGradient()){const ge=ae?ct(T):T;Ce(new Ae(pe||[{percent:0,color:ge},{percent:100,color:ge}]))}},{status:Ie}=E.useContext(Qn),{compactSize:Se,compactItemClassnames:q}=Zn(H,X),oe=er(K=>{var ge;return(ge=f??Se)!==null&&ge!==void 0?ge:K}),Pe=tr(H),[Re,ve,he]=ma(H,Pe),Fe={[`${H}-rtl`]:X},Me=U(b,he,Pe,Fe),le=U(nr(H,Ie),{[`${H}-sm`]:oe==="small",[`${H}-lg`]:oe==="large"},q,F==null?void 0:F.className,Me,p,ve),de=U(H,Me),tt={open:te,trigger:u,placement:$,arrow:C,rootClassName:b,getPopupContainer:M,autoAdjustOverflow:L,destroyTooltipOnHide:k},qe=Object.assign(Object.assign({},F==null?void 0:F.style),g);return Re(E.createElement(rr,Object.assign({style:x==null?void 0:x.popup,styles:{body:x==null?void 0:x.popupOverlayInner},onOpenChange:K=>{(!K||!ce)&&we(K)},content:E.createElement(ar,{form:!0},E.createElement(ta,{mode:ue,onModeChange:Ne,modeOptions:re,prefixCls:H,value:T,allowClear:l,disabled:ce,disabledAlpha:O,presets:i,panelRender:S,format:ne,onFormatChange:W,onChange:Ce,onChangeComplete:$e,onClear:D,activeIndex:je,onActive:be,gradientDragging:fe,onGradientDragging:He,disabledFormat:A})),classNames:{root:de}},tt),s||E.createElement(ra,Object.assign({activeIndex:te?je:-1,open:te,className:le,style:qe,prefixCls:H,disabled:ce,showText:m,format:ne},_,{color:T}))))},va=or(yt,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);yt._InternalPanelDoNotUseOrYouWillBeFired=va;const ha=({type:e,dataMap:t,constDataMap:n,componentMap:r,inputAnalysisMethod:a,dataKey:o,data:l,name:i,component_id:s,inputKey:u,...d})=>{if(!t)return y.jsx("div",{children:"加载中...."});t={...t,...n};const v=r[e];if(!v)return y.jsxs("div",{children:["未知类型 ",e]});const{Component:$,dataKey:C,...S}=v;console.log(S);let m=[];return l?m=l:a?m=t[a]:o?o in t&&(m=t[o]):C?C in t&&(m=t[C]):s in t?m=t[s]:"first_data_key"in t?m=t[t.first_data_key]:s in t&&(m=t[s]),y.jsx($,{...S,...d,data:m,name:i})},Ha=c.memo(({formJson:e,dataMap:t,analysisResultId:n})=>{if(!e)return null;const{projectObj:r}=lr(),l={rank:[{label:"SGB",value:"SGB"},{label:"SPECIES",value:"SPECIES"},{label:"GENUS",value:"GENUS"},{label:"FAMILY",value:"FAMILY"},{label:"ORDER",value:"ORDER"},{label:"CLASS",value:"CLASS"},{label:"PHYLUM",value:"PHYLUM"}],group_field:r!=null&&r.metadata_form?r==null?void 0:r.metadata_form.map(s=>({label:s.label,value:s.name})):[]},i={GroupSelect:{Component:it,dataKey:"sample_group_list"},Input:{Component:ya},BaseTextAreaNum:{Component:xa},GroupCompareSelect:{Component:Sa},BaseSelect:{Component:it},BaseInputNumber:{Component:Oa},BaseInput:{Component:$a},BaseSwitch:{Component:Ea},RankSelect:{Component:it,dataKey:"rank",mode:void 0,initialValue:"SPECIES"},GroupFieldSelect:{Component:it,dataKey:"group_field",mode:void 0,initialValue:"group"},FilterFieldSelect:{Component:Ca,dataKey:"sample_group_list",mode:void 0},GroupSelectSampleButton:{Component:Ra},CollectedGroupSelectSampleButton:{Component:Pa},CollectedGroupSelectSampleButton2:{Component:ja},MetaphlanCladeSelect:{Component:ba},SelectAll:{Component:wa,dataKey:"sample_group_list"},Divider:{Component:pa}};return y.jsx(y.Fragment,{children:y.jsx(sr,{gutter:[8,0],children:e.map((s,u)=>y.jsx(y.Fragment,{children:y.jsx(ir,{span:s!=null&&s.col?s==null?void 0:s.col:12,children:y.jsx(ha,{analysisResultId:n,...s,dataMap:t,componentMap:i,constDataMap:l},u)})}))})})},(e,t)=>(console.log("prevProps==nextProps: ",JSON.stringify(e)===JSON.stringify(t)),JSON.stringify(e)===JSON.stringify(t))),pa=({text:e})=>y.jsx(on,{orientation:"left",children:e}),Ca=({label:e,name:t,data:n,rules:r,field:a,...o})=>{const[l,i]=c.useState(),s=N.useFormInstance();return c.useEffect(()=>{if(n&&a){const u=[...new Set(n.map(a))],d=u.map(v=>({label:v,value:v}));i(d),s.setFieldValue(t,u[0])}},[n]),y.jsx(y.Fragment,{children:y.jsx(N.Item,{label:e,name:t,rules:r,children:y.jsx(jn,{...o,options:l})})})},jn=({options:e,clear:t,value:n,onChange:r,...a})=>{const o=N.useFormInstance(),l=i=>{r(i),t&&o.resetFields(t)};return y.jsx(Ke,{showSearch:!0,filterOption:(i,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(i.toLowerCase()),...a,options:e,value:n,onChange:l})},ba=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const[l,i]=c.useState(),s=async()=>{let d=(await cr.get("/fast-api/get_metaphlan_clade")).data.map(v=>({label:`${v.taxon.replaceAll(" ","_")}_${v.clade}`,value:v.clade}));i(d)};return c.useEffect(()=>{s()},[]),y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(Ke,{...o,options:l,showSearch:!0,filterOption:(u,d)=>((d==null?void 0:d.label)??"").toLowerCase().includes(u.toLowerCase())})})})},Sa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>{const l=N.useFormInstance(),i=N.useWatch(["sites1","group"],l),s=N.useWatch(["sites2","group"],l),[u,d]=c.useState();return c.useEffect(()=>{i&&s&&d([{label:"Prevalent in both sites",value:"Prevalent in both sites"},{label:`Prevalent in ${s.join("-")}`,value:`Prevalent in ${s.join("-")}`},{label:`Prevalent in ${i.join("-")}`,value:`Prevalent in ${i.join("-")}`},{label:"Not prevalent in either sites",value:"Not prevalent in either sites"}])},[i,s]),y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(Ke,{showSearch:!0,filterOption:(v,$)=>(($==null?void 0:$.label)??"").toLowerCase().includes(v.toLowerCase()),...o,options:u})})})},xa=({label:e,name:t,tooltip:n,data:r,initialValue:a,rules:o,...l})=>{const i=N.useFormInstance(),s=N.useWatch(t,i);return y.jsx(y.Fragment,{children:y.jsx(N.Item,{tooltip:n,extra:`A total of ${s?s.split(",").length:0} features are entered`,initialValue:a,label:e,name:t,rules:o,children:y.jsx(sn,{...l,rows:3})})})},ya=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(sn,{...o})})}),$a=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(gt,{...o})})}),Ea=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(ur,{...o})})}),Oa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(un,{...o})})}),it=({extra:e,tooltip:t,label:n,name:r,data:a,initialValue:o,rules:l,...i})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{extra:e,tooltip:t,initialValue:o||null,label:n,name:r,rules:l,children:y.jsx(jn,{...i,options:a})})}),ja=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l,analysisResultId:i})=>{const[s,u]=c.useState(),[d,v]=c.useState([]),[$,C]=c.useState([]),S=N.useFormInstance();let m=[];a&&(m=a.map(b=>b.name));const g=N.useWatch(b=>{const h=Object.entries(b).filter(([x])=>m.includes(x));return Object.fromEntries(h)},S),p=N.useWatch(o,S),f=(b,h)=>{const x=b.reduce((O,j)=>{const w=j[h];return O[w]||(O[w]=[]),O[w].push(j.value),O},{});u(x)};return c.useEffect(()=>{if(r&&Array.isArray(r)){const b=r.find(h=>h.analysis_result_id==i);C(b)}},[r,i]),c.useEffect(()=>{if($&&Array.isArray($.columns)){let b=$.columns.map(h=>({label:h.columns_name,value:h.columns_name,...h}));a&&g&&(b=a.reduce((h,x)=>h.filter(O=>x.method(O)===g[x.name]),b),b=b.map(h=>{const{label:x,id:O,value:j,...w}=h;return{label:`${h.label}(${a[0].method(h)})`,value:h.value,...w}})),b&&l?f(b,l):b&&p&&f(b,p),v(b)}},[r,$,p,g]),y.jsxs(y.Fragment,{children:[y.jsx(N.Item,{label:`${e} Columns`,name:[t,"columns"],rules:n,children:y.jsx(Et,{sampleGrouped:s,sampleGroup:d,watch:[t,"group"]})}),y.jsxs(dt,{gap:"small",children:[y.jsx(N.Item,{label:e,name:[t,"group"],noStyle:!0,children:y.jsx(Ot,{sampleGrouped:s})}),y.jsx(N.Item,{name:[t,"group_name"],children:y.jsx(gt,{size:"small",placeholder:"Optional group name"})}),y.jsx(N.Item,{name:[t,"color"],children:y.jsx($t,{})})]})]})},Pa=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l,analysisResultId:i})=>{const[s,u]=c.useState(),[d,v]=c.useState([]),[$,C]=c.useState([]),S=N.useFormInstance();let m=[];a&&(m=a.map(h=>h.name));const g=N.useWatch(h=>{const x=Object.entries(h).filter(([O])=>m.includes(O));return Object.fromEntries(x)},S),p=N.useWatch(o,S),f=N.useWatch([t,"file"],S),b=(h,x)=>{const O=h.reduce((j,w)=>{const D=w[x];return j[D]||(j[D]=[]),j[D].push(w.value),j},{});u(O)};return c.useEffect(()=>{if(r&&Array.isArray(r)){const h=r.map(x=>({label:`${x.file_name}`,value:x.id}));C(h)}},[r]),c.useEffect(()=>{if(f){let h=r.find(x=>x.id==f);h&&(h=h.columns.map(x=>({label:x.columns_name,value:x.columns_name,...x})),a&&g&&(h=a.reduce((x,O)=>x.filter(j=>O.method(j)===g[O.name]),h),h=h.map(x=>{const{label:O,id:j,value:w,...D}=x;return{label:`${x.label}(${a[0].method(x)})`,value:x.value,...D}})),h&&l?b(h,l):h&&p&&b(h,p),v(h))}},[r,f,p,g]),y.jsxs(y.Fragment,{children:[y.jsx(N.Item,{label:`${e} File`,name:[t,"file"],rules:n,children:y.jsx(Ke,{options:$})}),y.jsx(N.Item,{label:`${e} Columns`,name:[t,"columns"],rules:n,children:y.jsx(Et,{sampleGrouped:s,sampleGroup:d,watch:[t,"group"]})}),y.jsxs(dt,{gap:"small",children:[y.jsx(N.Item,{label:e,name:[t,"group"],noStyle:!0,children:y.jsx(Ot,{sampleGrouped:s})}),y.jsx(N.Item,{name:[t,"group_name"],children:y.jsx(gt,{size:"small",placeholder:"Optional group name"})}),y.jsx(N.Item,{name:[t,"color"],children:y.jsx($t,{})})]})]})},Ra=({label:e,name:t,rules:n,data:r,filter:a,group:o,groupField:l})=>{const[i,s]=c.useState(),[u,d]=c.useState([]),v=N.useFormInstance();let $=[];a&&($=a.map(g=>g.name));const C=N.useWatch(g=>{const p=Object.entries(g).filter(([f])=>$.includes(f));return Object.fromEntries(p)},v),S=N.useWatch(o,v),m=(g,p)=>{const f=g.reduce((b,h)=>{const x=h[p];return b[x]||(b[x]=[]),b[x].push(h.value),b},{});s(f)};return c.useEffect(()=>{a&&C&&(r=a.reduce((g,p)=>g.filter(f=>p.method(f)===C[p.name]),r),r=r.map(g=>{const{label:p,id:f,value:b,...h}=g;return{label:`${g.label}(${a[0].method(g)})`,value:g.value,...h}})),r&&l?m(r,l):r&&S&&m(r,S),d(r)},[r,S,C]),y.jsxs(y.Fragment,{children:[y.jsx(N.Item,{label:e,name:[t,"sample"],rules:n,children:y.jsx(Et,{sampleGrouped:i,sampleGroup:u,watch:[t,"group"]})}),y.jsxs(dt,{gap:"small",children:[y.jsx(N.Item,{label:e,name:[t,"group"],noStyle:!0,children:y.jsx(Ot,{sampleGrouped:i})}),y.jsx(N.Item,{name:[t,"group_name"],children:y.jsx(gt,{size:"small",placeholder:"Optional group name"})}),y.jsx(N.Item,{name:[t,"color"],children:y.jsx($t,{})})]})]})},$t=({value:e,onChange:t,...n})=>y.jsx(y.Fragment,{children:y.jsx(yt,{defaultValue:"#1677ff",...n,value:e,onChange:r=>{const a=r.toHexString();t(a)}})}),wa=({label:e,name:t,data:n,initialValue:r,rules:a,...o})=>y.jsx(y.Fragment,{children:y.jsx(N.Item,{initialValue:r,label:e,name:t,rules:a,children:y.jsx(Ma,{data:n,...o})})}),Ma=({data:e,value:t,onChange:n,mode:r,...a})=>{const[o,l]=c.useState(t),i=s=>{console.log(s),n(s),l(s)};return y.jsxs(y.Fragment,{children:[y.jsx(Ke,{...a,mode:r,value:o,onChange:i,allowClear:!0,options:e}),r=="multiple"&&y.jsxs(cn,{onClick:()=>{const s=e.map(u=>u.value);l(s),n(s)},children:["选择全部",o&&y.jsxs(y.Fragment,{children:["(",o.length,")"]})]})]})},Et=({value:e,onChange:t,sampleGroup:n,watch:r,sampleGrouped:a})=>{const o=N.useFormInstance(),l=N.useWatch(r,o);c.useEffect(()=>{l&&Array.isArray(l)&&l.length>0&&i(l)},[l,a]);const i=s=>{const u=Object.entries(a||{}).filter(([d])=>s.includes(d)).flatMap(([,d])=>d);t(u)};return y.jsxs(y.Fragment,{children:[y.jsx(Ke,{showSearch:!0,filterOption:(s,u)=>((u==null?void 0:u.label)??"").toLowerCase().includes(s.toLowerCase()),mode:"multiple",value:e,onChange:t,options:n}),e&&y.jsxs(y.Fragment,{children:["A total of ",e.length," samples were selected"]})]})},Ot=({value:e,onChange:t,sampleGrouped:n})=>{const r=a=>{if((e||[]).includes(a)){const o=(e||[]).filter(l=>!l.includes(a));t(o)}else{const o=[...e||[],a];t(o)}};return y.jsx(y.Fragment,{children:y.jsx(dt,{gap:"small",children:Object.entries(n||{}).map(([a,o])=>y.jsx("span",{children:y.jsxs(cn,{size:"small",type:(e||[]).includes(a)?"primary":"dashed",onClick:()=>r(a),children:[a,"(",o.length,")"]})},a))})})};export{Ha as F};
